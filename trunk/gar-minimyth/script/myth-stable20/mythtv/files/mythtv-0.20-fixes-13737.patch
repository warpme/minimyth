diff -Naur -x mytharchive mythtv-0.20-old/bindings/perl/MythTV/Channel.pm mythtv-0.20-new/bindings/perl/MythTV/Channel.pm
--- mythtv-0.20-old/bindings/perl/MythTV/Channel.pm	2006-04-16 01:05:27.000000000 -0700
+++ mythtv-0.20-new/bindings/perl/MythTV/Channel.pm	2007-06-23 18:32:19.000000000 -0700
@@ -3,8 +3,8 @@
 #
 # Object containing info about a particular MythTV channel.
 #
-# @url       $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/trunk/mythtv/bindings/perl/MythTV/Channel.pm $
-# @date      $Date: 2006-04-16 04:05:27 -0400 (Sun, 16 Apr 2006) $
+# @url       $URL: http://svn.mythtv.org/svn/branches/release-0-20-fixes/mythtv/bindings/perl/MythTV/Channel.pm $
+# @date      $Date: 2006-04-16 01:05:27 -0700 (Sun, 16 Apr 2006) $
 # @version   $Revision: 9725 $
 # @author    $Author: xris $
 #
diff -Naur -x mytharchive mythtv-0.20-old/bindings/perl/MythTV/Program.pm mythtv-0.20-new/bindings/perl/MythTV/Program.pm
--- mythtv-0.20-old/bindings/perl/MythTV/Program.pm	2006-04-16 01:05:27.000000000 -0700
+++ mythtv-0.20-new/bindings/perl/MythTV/Program.pm	2007-06-23 18:32:19.000000000 -0700
@@ -3,9 +3,9 @@
 #
 # Object containing info about a particular MythTV program.
 #
-# @url       $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/trunk/mythtv/bindings/perl/MythTV/Program.pm $
-# @date      $Date: 2006-04-16 04:05:27 -0400 (Sun, 16 Apr 2006) $
-# @version   $Revision: 9725 $
+# @url       $URL: http://svn.mythtv.org/svn/branches/release-0-20-fixes/mythtv/bindings/perl/MythTV/Program.pm $
+# @date      $Date: 2006-11-18 21:37:30 -0800 (Sat, 18 Nov 2006) $
+# @version   $Revision: 11780 $
 # @author    $Author: xris $
 #
 
@@ -84,6 +84,7 @@
         $self->{'hasairdate'}      = $rows->[38]; #
         $self->{'timestretch'}     = $rows->[39]; #
         $self->{'recpriority2'}    = $rows->[40]; #
+        $self->{'parentid'}        = $rows->[41]; #
 
     # Load the channel data
         if ($self->{'chanid'}) {
@@ -112,6 +113,7 @@
         my $separator   = (shift or '-');
         my $replacement = (shift or '-');
         my $allow_dirs  = (shift) ? 1 : 0;
+        my $underscores = (shift) ? 1 : 0;
     # Escape where necessary
         my $safe_sep = $separator;
            $safe_sep =~ s/([^\w\s])/\\$1/sg;
@@ -149,6 +151,8 @@
         elsif ($hour < 1) {
             $hour = 12;
         }
+        $shour   = "0$shour"   if ($shour < 10);
+        $sminute = "0$sminute" if ($sminute < 10);
         # End time
         $eyear += 1900;
         $emonth++;
@@ -162,6 +166,8 @@
         elsif ($ethour < 1) {
             $ethour = 12;
         }
+        $ehour   = "0$ehour"   if ($ehour < 10);
+        $eminute = "0$eminute" if ($eminute < 10);
     # Original airdate
         my ($oday, $omonth, $oyear) = (localtime($self->{'airdate'}))[3,4,5];
         $oyear += 1900;
diff -Naur -x mytharchive mythtv-0.20-old/bindings/perl/MythTV/Recording.pm mythtv-0.20-new/bindings/perl/MythTV/Recording.pm
--- mythtv-0.20-old/bindings/perl/MythTV/Recording.pm	2006-07-19 19:20:17.000000000 -0700
+++ mythtv-0.20-new/bindings/perl/MythTV/Recording.pm	2007-06-23 18:32:19.000000000 -0700
@@ -3,9 +3,9 @@
 #
 # Object containing info about a particular MythTV recording.
 #
-# @url       $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/trunk/mythtv/bindings/perl/MythTV/Recording.pm $
-# @date      $Date: 2006-07-19 22:20:17 -0400 (Wed, 19 Jul 2006) $
-# @version   $Revision: 10602 $
+# @url       $URL: http://svn.mythtv.org/svn/branches/release-0-20-fixes/mythtv/bindings/perl/MythTV/Recording.pm $
+# @date      $Date: 2006-10-07 23:48:26 -0700 (Sat, 07 Oct 2006) $
+# @version   $Revision: 11472 $
 # @author    $Author: xris $
 #
 
@@ -50,6 +50,10 @@
                 $self->{'file_port'} = ($2 or 6543);
                 $self->{'basename'}  = $3;
             }
+            else {
+                $self->{'basename'}  = $self->{'filename'};
+                $self->{'basename'} =~ s/^$self->{'video_dir'}\/+//sg;
+            }
         }
 
     # Pull the cutlist info from the database
@@ -231,6 +235,10 @@
     # Make sure some things are actually numbers
         $info{'width'}  += 0;
         $info{'height'} += 0;
+    # HD fix
+        if ($info{'height'} == 1080) {
+            $info{'height'} = 1088;
+        }
     # Make some corrections for myth bugs
         $info{'audio_sample_rate'} = 44100 if ($info{'audio_sample_rate'} == 42501 || $info{'audio_sample_rate'} =~ /^44\d\d\d$/);
         $info{'aspect'} = '4:3';
@@ -297,6 +305,19 @@
                ."    $program -v -v -v -v -nolirc -nojoystick -vo null -ao null \\\n"
                ."             -frames 0 -identify '$file'\n\n";
         }
+    # HD fix
+        if ($info{'height'} == 1080) {
+            $info{'height'} = 1088;
+        }
+    # mplayer is confused and we need to detect the aspect on our own
+        if ($info{'aspect'} =~ /^0.0/) {
+            if ($info{'height'} == 1088 || $info{'height'} == 720) {
+                $info{'aspect'} = 16 / 9;
+            }
+            else {
+                $info{'aspect'} = 4 / 3;
+            }
+        }
     # Cleanup
         $info{'aspect'}   = aspect_str($info{'aspect'});
         $info{'aspect_f'} = aspect_float($info{'aspect'});
@@ -330,7 +351,7 @@
             return $w / $h;
         }
     # Parse out decimal formats
-        if ($aspect == 1)          { return  1;     }
+        if ($aspect eq '1')        { return  1;     }
         elsif ($aspect =~ m/^1.3/) { return  4 / 3; }
         elsif ($aspect =~ m/^1.7/) { return 16 / 9; }
     # Unknown aspect
diff -Naur -x mytharchive mythtv-0.20-old/bindings/perl/MythTV.pm mythtv-0.20-new/bindings/perl/MythTV.pm
--- mythtv-0.20-old/bindings/perl/MythTV.pm	2006-07-04 13:30:37.000000000 -0700
+++ mythtv-0.20-new/bindings/perl/MythTV.pm	2007-06-23 18:32:19.000000000 -0700
@@ -1,14 +1,14 @@
 #
 # MythTV bindings for perl.
 #
-# @url       $URL: svn+ssh://ijr@cvs.mythtv.org/var/lib/svn/trunk/mythtv/bindings/perl/MythTV.pm $
-# @date      $Date: 2006-07-04 16:30:37 -0400 (Tue, 04 Jul 2006) $
-# @version   $Revision: 10390 $
+# @url       $URL: http://svn.mythtv.org/svn/branches/release-0-20-fixes/mythtv/bindings/perl/MythTV.pm $
+# @date      $Date: 2006-10-04 22:46:03 -0700 (Wed, 04 Oct 2006) $
+# @version   $Revision: 11444 $
 # @author    $Author: xris $
 #
 
 # Version
-    $VERSION = '.20svn';
+    $VERSION = '.20';
 
 # Load sub libraries
     use MythTV::Program;
@@ -48,12 +48,12 @@
 
 # MYTH_PROTO_VERSION is defined in libmyth in mythtv/libs/libmyth/mythcontext.h
 # and should be the current MythTV protocol version.
-    our $PROTO_VERSION = 29;
+    our $PROTO_VERSION = 31;
 
 # NUMPROGRAMLINES is defined in mythtv/libs/libmythtv/programinfo.h and is
 # the number of items in a ProgramInfo QStringList group used by
 # ProgramInfo::ToSringList and ProgramInfo::FromStringList.
-    our $NUMPROGRAMLINES = 41;
+    our $NUMPROGRAMLINES = 42;
 
 # Reasons a recording wouldn't be happening (from libs/libmythtv/programinfo.h)
     our %RecStatus_Types = (
diff -Naur -x mytharchive mythtv-0.20-old/configfiles/lircrc.native.example.mceusb2 mythtv-0.20-new/configfiles/lircrc.native.example.mceusb2
--- mythtv-0.20-old/configfiles/lircrc.native.example.mceusb2	2006-06-11 22:18:38.000000000 -0700
+++ mythtv-0.20-new/configfiles/lircrc.native.example.mceusb2	2007-06-23 18:31:54.000000000 -0700
@@ -2,7 +2,7 @@
 # lircrc config file for the Microsoft Media Center Edition Remote, model 1039
 #
 # @url       $URL$
-# @date      $Date: 2006-06-12 01:18:38 -0400 (Mon, 12 Jun 2006) $
+# @date      $Date: 2006-06-11 22:18:38 -0700 (Sun, 11 Jun 2006) $
 # @version   $Revision: 10187 $
 # @author    $Author: xris $
 #
diff -Naur -x mytharchive mythtv-0.20-old/contrib/myth_archive_job.pl mythtv-0.20-new/contrib/myth_archive_job.pl
--- mythtv-0.20-old/contrib/myth_archive_job.pl	2005-11-29 08:28:53.000000000 -0800
+++ mythtv-0.20-new/contrib/myth_archive_job.pl	2007-06-23 18:32:19.000000000 -0700
@@ -72,7 +72,7 @@
 			printf( "    Curr Free: %6d MB\n", $freeSpace );
 		}
 
-		if (( $freeSpace - ($size / 1024.0 / 1024.0)) > $keepFree ) {
+		if (( $freeSpace - $size) > $keepFree ) {
 			printf( "Attempting archive to %s\nStatus: ", $archiveDir );
 			if (MoveFileToArchiveDir( $file, $directory, $archiveDir )) {
 				printf( "Success.\n" );
@@ -97,7 +97,7 @@
 	if ( ! -r $dir ) {
 		return 0;
 	} else {
-		my( $freeSpace ) = `df -m $dir | grep -v Available | awk '{print \$4}'`;
+		my( $freeSpace ) = `df -Pm $dir | grep -v Available | awk '{print \$4}'`;
 
 		return $freeSpace;
 	}
diff -Naur -x mytharchive mythtv-0.20-old/contrib/mythrename.pl mythtv-0.20-new/contrib/mythrename.pl
--- mythtv-0.20-old/contrib/mythrename.pl	2006-02-27 23:40:08.000000000 -0800
+++ mythtv-0.20-new/contrib/mythrename.pl	2007-06-23 18:32:19.000000000 -0700
@@ -1,6 +1,6 @@
 #!/usr/bin/perl -w
 #
-# $Date: 2006-02-28 02:40:08 -0500 (Tue, 28 Feb 2006) $
+# $Date: 2006-02-27 23:40:08 -0800 (Mon, 27 Feb 2006) $
 # $Revision: 9198 $
 # $Author: xris $
 #
diff -Naur -x mytharchive mythtv-0.20-old/contrib/optimize_mythdb.pl mythtv-0.20-new/contrib/optimize_mythdb.pl
--- mythtv-0.20-old/contrib/optimize_mythdb.pl	2006-08-05 14:51:46.000000000 -0700
+++ mythtv-0.20-new/contrib/optimize_mythdb.pl	2007-06-23 18:32:19.000000000 -0700
@@ -1,6 +1,6 @@
 #!/usr/bin/perl -w
 #
-# $Date: 2006-08-05 17:51:46 -0400 (Sat, 05 Aug 2006) $
+# $Date: 2006-08-05 14:51:46 -0700 (Sat, 05 Aug 2006) $
 # $Revision: 10685 $
 # $Author: xris $
 #
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmyth/dbsettings.cpp mythtv-0.20-new/libs/libmyth/dbsettings.cpp
--- mythtv-0.20-old/libs/libmyth/dbsettings.cpp	2006-04-07 12:14:30.000000000 -0700
+++ mythtv-0.20-new/libs/libmyth/dbsettings.cpp	2007-06-23 18:32:06.000000000 -0700
@@ -4,40 +4,6 @@
 #include <qfile.h>
 #include <qdir.h>
 
-class TransientSetting: public TransientStorage, virtual public Configurable {
-public:
-    TransientSetting() { };
-};
-
-class TransientSpinBox: public SpinBoxSetting, public TransientSetting {
-  public:
-    TransientSpinBox(int min, int max, int step, 
-                   bool allow_single_step = false) :
-        SpinBoxSetting(min, max, step, allow_single_step) { };
-};
-
-class TransientCheckBox: public CheckBoxSetting, public TransientSetting {
-  public:
-    TransientCheckBox() { };
-};
-
-class TransientLineEdit: public LineEditSetting, public TransientSetting {
-  public:
-    TransientLineEdit(bool rw = true) :
-        LineEditSetting(rw) { };
-};
-
-class TransientComboBox: public ComboBoxSetting, public TransientSetting {
-  public:
-    TransientComboBox(bool rw = true) :
-        ComboBoxSetting(rw) { };
-};
-
-class TransientLabel: public LabelSetting, public TransientSetting {
-  public:
-    TransientLabel() { };
-};
-
 class MythDbSettings1: public VerticalConfigurationGroup {
 public:
     MythDbSettings1();
@@ -46,12 +12,12 @@
     void save();
     
 protected:
-    TransientLabel    *info;
-    TransientLineEdit *dbHostName;
-    TransientLineEdit *dbName;
-    TransientLineEdit *dbUserName;
-    TransientLineEdit *dbPassword;
-    TransientComboBox *dbType;
+    TransLabelSetting    *info;
+    TransLineEditSetting *dbHostName;
+    TransLineEditSetting *dbName;
+    TransLineEditSetting *dbUserName;
+    TransLineEditSetting *dbPassword;
+    TransComboBoxSetting *dbType;
 }; 
 
 class MythDbSettings2: public VerticalConfigurationGroup {
@@ -62,12 +28,12 @@
     void save();
     
 protected:
-    TransientCheckBox *localEnabled;
-    TransientLineEdit *localHostName;
-    TransientCheckBox *wolEnabled;
-    TransientSpinBox  *wolReconnect;
-    TransientSpinBox  *wolRetry;
-    TransientLineEdit *wolCommand;
+    TransCheckBoxSetting *localEnabled;
+    TransLineEditSetting *localHostName;
+    TransCheckBoxSetting *wolEnabled;
+    TransSpinBoxSetting  *wolReconnect;
+    TransSpinBoxSetting  *wolRetry;
+    TransLineEditSetting *wolCommand;
 }; 
 
 
@@ -115,7 +81,7 @@
     setLabel(QObject::tr("Database Configuration") + " 1/2");
     setUseLabel(false);
     
-    info = new TransientLabel();
+    info = new TransLabelSetting();
 
     MSqlQuery query(MSqlQuery::InitCon());
     if (query.isConnected())
@@ -127,34 +93,33 @@
                                    "below."));
     addChild(info);
     
-    dbHostName = new TransientLineEdit(true);
+    dbHostName = new TransLineEditSetting(true);
     dbHostName->setLabel(QObject::tr("Host name"));
     dbHostName->setHelpText(QObject::tr("The host name or IP address of "
                                         "the machine hosting the database. "
                                         "This information is required."));
     addChild(dbHostName);
-    
-    dbName = new TransientLineEdit(true);
+    dbName = new TransLineEditSetting(true);
     dbName->setLabel(QObject::tr("Database"));
     dbName->setHelpText(QObject::tr("The name of the database. "
                                     "This information is required."));
     addChild(dbName);
 
-    dbUserName = new TransientLineEdit(true);
+    dbUserName = new TransLineEditSetting(true);
     dbUserName->setLabel(QObject::tr("User"));
     dbUserName->setHelpText(QObject::tr("The user name to use while "
                                         "connecting to the database. "
                                         "This information is required."));
     addChild(dbUserName);
     
-    dbPassword = new TransientLineEdit(true);
+    dbPassword = new TransLineEditSetting(true);
     dbPassword->setLabel(QObject::tr("Password"));
     dbPassword->setHelpText(QObject::tr("The password to use while "
                                         "connecting to the database. "
                                         "This information is required."));
     addChild(dbPassword);
     
-    dbType = new TransientComboBox(false);
+    dbType = new TransComboBoxSetting(false);
     dbType->setLabel(QObject::tr("Database type"));
     dbType->addSelection(QObject::tr("MySQL"), "QMYSQL3");
     //dbType->addSelection(QObject::tr("PostgreSQL"), "QPSQL7");
@@ -171,7 +136,7 @@
     setLabel(QObject::tr("Database Configuration") + " 2/2");
     setUseLabel(false);
     
-    localEnabled = new TransientCheckBox();
+    localEnabled = new TransCheckBoxSetting();
     localEnabled->setLabel(QObject::tr("Use custom identifier for frontend "
                                        "preferences"));
     localEnabled->setHelpText(QObject::tr("If this frontend's host name "
@@ -183,7 +148,7 @@
                                           "be used to save preferences in "
                                           "the database."));
     
-    localHostName = new TransientLineEdit(true);
+    localHostName = new TransLineEditSetting(true);
     localHostName->setLabel(QObject::tr("Custom identifier"));
     localHostName->setHelpText(QObject::tr("An identifier to use while "
                                            "saving the settings for this "
@@ -197,24 +162,24 @@
         new LocalHostNameSettings(localEnabled, group1);
     addChild(sub3);
     
-    wolEnabled = new TransientCheckBox();
+    wolEnabled = new TransCheckBoxSetting();
     wolEnabled->setLabel(QObject::tr("Use Wake-On-LAN to wake database"));
     wolEnabled->setHelpText(QObject::tr("If checked, the frontend will use "
                                         "Wake-On-LAN parameters to "
                                         "reconnect to the database server."));
     
-    wolReconnect = new TransientSpinBox(0, 60, 1, true);
+    wolReconnect = new TransSpinBoxSetting(0, 60, 1, true);
     wolReconnect->setLabel(QObject::tr("Reconnect time"));
     wolReconnect->setHelpText(QObject::tr("The time in seconds to wait for "
                                           "the server to wake up."));
     
-    wolRetry = new TransientSpinBox(1, 10, 1, true);
+    wolRetry = new TransSpinBoxSetting(1, 10, 1, true);
     wolRetry->setLabel(QObject::tr("Retry attempts"));
     wolRetry->setHelpText(QObject::tr("The number of retries to wake the "
                                       "server before the frontend gives "
                                       "up."));
     
-    wolCommand = new TransientLineEdit(true);
+    wolCommand = new TransLineEditSetting(true);
     wolCommand->setLabel(QObject::tr("Wake command"));
     wolCommand->setHelpText(QObject::tr("The command executed on this "
                                         "frontend to wake up the database "
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmyth/jsmenu.cpp mythtv-0.20-new/libs/libmyth/jsmenu.cpp
--- mythtv-0.20-old/libs/libmyth/jsmenu.cpp	2005-03-03 16:35:06.000000000 -0800
+++ mythtv-0.20-new/libs/libmyth/jsmenu.cpp	2007-06-23 18:32:06.000000000 -0700
@@ -73,13 +73,13 @@
 
     if (axes)
     {
-        free(axes);
-        buttons = NULL;
+        delete [] axes;
+        axes = NULL;
     }
 
     if (buttons)
     {
-        free(buttons);
+        delete [] buttons;
         buttons = NULL;
     }
 }
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmyth/mythcdrom.cpp mythtv-0.20-new/libs/libmyth/mythcdrom.cpp
--- mythtv-0.20-old/libs/libmyth/mythcdrom.cpp	2006-05-31 22:26:52.000000000 -0700
+++ mythtv-0.20-new/libs/libmyth/mythcdrom.cpp	2007-06-23 18:32:06.000000000 -0700
@@ -70,12 +70,12 @@
     m_Status = MEDIASTAT_MOUNTED;
 
     DetectPath.sprintf("%s%s", (const char*)m_MountPath, PATHTO_DVD_DETECT);
-    VERBOSE(VB_IMPORTANT, QString("Looking for: '%1'").arg(DetectPath));
+    VERBOSE(VB_MEDIA, QString("Looking for: '%1'").arg(DetectPath));
 
     struct stat sbuf;
     if (stat(DetectPath, &sbuf) == 0)
     {
-        VERBOSE(VB_GENERAL, "Probable DVD detected.");
+        VERBOSE(VB_MEDIA, "Probable DVD detected.");
         m_MediaType = MEDIATYPE_DVD;
         // HACK make it possible to eject a DVD by unmounting it
         performMountCmd(false);
@@ -83,14 +83,14 @@
     }
     
     DetectPath.sprintf("%s%s", (const char*)m_MountPath, PATHTO_VCD_DETECT);
-    VERBOSE(VB_IMPORTANT, QString("Looking for: '%1'").arg(DetectPath));
+    VERBOSE(VB_MEDIA, QString("Looking for: '%1'").arg(DetectPath));
 
     DetectPath2.sprintf("%s%s", (const char*)m_MountPath, PATHTO_SVCD_DETECT);
-    VERBOSE(VB_IMPORTANT, QString("Looking for: '%1'").arg(DetectPath2));
+    VERBOSE(VB_MEDIA, QString("Looking for: '%1'").arg(DetectPath2));
 
     if (stat(DetectPath, &sbuf) == 0 || stat(DetectPath2, &sbuf) == 0)
     {
-        VERBOSE(VB_GENERAL, "Probable VCD/SVCD detected.");
+        VERBOSE(VB_MEDIA, "Probable VCD/SVCD detected.");
         m_MediaType = MEDIATYPE_VCD;
         // HACK make it possible to eject a VCD/SVCD by unmounting it
         performMountCmd(false);
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmyth/mythcdrom-linux.cpp mythtv-0.20-new/libs/libmyth/mythcdrom-linux.cpp
--- mythtv-0.20-old/libs/libmyth/mythcdrom-linux.cpp	2006-03-14 15:43:28.000000000 -0800
+++ mythtv-0.20-new/libs/libmyth/mythcdrom-linux.cpp	2007-06-23 18:32:06.000000000 -0700
@@ -10,12 +10,24 @@
 
 MediaError MythCDROMLinux::eject(bool open_close)
 {
+    if (!isDeviceOpen())
+        openDevice();
+
     if (open_close)
         return (ioctl(m_DeviceHandle, CDROMEJECT) == 0) ? MEDIAERR_OK
                                                         : MEDIAERR_FAILED;
     else
-        return (ioctl(m_DeviceHandle, CDROMCLOSETRAY) == 0) ? MEDIAERR_OK
-                                                            : MEDIAERR_FAILED;
+    {
+        // If the tray is empty, this will fail (Input/Output error)
+        ioctl(m_DeviceHandle, CDROMCLOSETRAY);
+
+        // This allows us to catch any drives that the OS has problems
+        // detecting the status of (some always report OPEN when empty)
+        if (ioctl(m_DeviceHandle, CDROM_DRIVE_STATUS) == CDS_TRAY_OPEN)
+            return MEDIAERR_FAILED;
+        else
+            return MEDIAERR_OK;
+    }
 }
 
 bool MythCDROMLinux::mediaChanged()
@@ -39,18 +51,14 @@
         //cout << "Device is not open - ";
         if (!openDevice()) 
         {
-            //cout << "failed to open device - ";
+            //VERBOSE(VB_MEDIA, "MythCDROMLinux::testMedia - failed to open "
+            //                  + getDevicePath() + ENO);
             if (errno == EBUSY)
-            {
-                //cout << "errno == EBUSY" << endl;
                 return isMounted(true) ? MEDIAERR_OK : MEDIAERR_FAILED;
-            } 
             else 
-            { 
                 return MEDIAERR_FAILED; 
-            }
         }
-        //cout << "Opened it - ";
+        //VERBOSE(VB_MEDIA, "MythCDROMLinux::testMedia - Opened device");
         OpenedHere = true;
     }
 
@@ -60,8 +68,16 @@
     // Be nice and close the device if we opened it, otherwise it might be locked when the user doesn't want it to be.
     if (OpenedHere)
         closeDevice();
-    //cout << "Stat == " << Stat << endl;
-    return (Stat >= 0) ? MEDIAERR_OK : MEDIAERR_FAILED;    
+
+    if (Stat == -1)
+    {
+        VERBOSE(VB_MEDIA,
+                "MythCDROMLinux::testMedia - Failed to get drive status of "
+                + getDevicePath() + ENO);
+        return MEDIAERR_FAILED;    
+    }
+
+    return MEDIAERR_OK;
 }
 
 MediaStatus MythCDROMLinux::checkMedia()
@@ -70,25 +86,22 @@
    
     if (testMedia() != MEDIAERR_OK) 
     {
-        //cout << "MythCDROMLinux::checkMedia - ";
-        //cout << "Test Media result != MEDIAERR_OK" << endl;
         m_MediaType = MEDIATYPE_UNKNOWN;
         return setStatus(MEDIASTAT_UNKNOWN, OpenedHere);
     }
 
-    //cout << "MythCDROMLinux::checkMedia - ";
     // If it's not already open we need to at least TRY to open it for most of these checks to work.
     if (!isDeviceOpen())
         OpenedHere = openDevice();
 
     if (isDeviceOpen()) 
     {
-        //cout << "device is open - ";
+        //VERBOSE(VB_MEDIA, "MythCDROMLinux::checkMedia - Device is open...");
         int ret = ioctl(m_DeviceHandle, CDROM_DRIVE_STATUS, CDSL_CURRENT);
         switch (ret) 
         {
             case CDS_DISC_OK:
-                //cout << "disk ok - ";
+                VERBOSE(VB_MEDIA, getDevicePath() + " Disk OK...");
                 // If the disc is ok and we already know it's mediatype
                 // returns MOUNTED.
                 if (isMounted(true) && m_MediaType != MEDIATYPE_UNKNOWN)
@@ -96,43 +109,51 @@
                 // If the disk is ok but not yet mounted we'll test it further down after this switch exits.
                 break;
             case CDS_TRAY_OPEN:
-            case CDS_NO_DISC:
-                //cout << "Tray open or no disc" << endl;
+                VERBOSE(VB_MEDIA, getDevicePath() + " Tray open");
                 m_MediaType = MEDIATYPE_UNKNOWN;
                 return setStatus(MEDIASTAT_OPEN, OpenedHere);
                 break;
+            case CDS_NO_DISC:
+                VERBOSE(VB_MEDIA, getDevicePath() + " No disc");
+                m_MediaType = MEDIATYPE_UNKNOWN;
+                return setStatus(MEDIASTAT_NODISK, OpenedHere);
+                break;
             case CDS_NO_INFO:
             case CDS_DRIVE_NOT_READY:
-                //cout << "No info or drive not ready" << endl;
+                VERBOSE(VB_MEDIA, getDevicePath()
+                                  + " No info or drive not ready");
                 m_MediaType = MEDIATYPE_UNKNOWN;
                 return setStatus(MEDIASTAT_UNKNOWN, OpenedHere);
             default:
-                //cout << "unknown result from ioctl (" << ret << ")" << endl;
+                VERBOSE(VB_IMPORTANT, "Failed to get drive status of "
+                                      + getDevicePath() + " : " + ENO);
                 m_MediaType = MEDIATYPE_UNKNOWN;
                 return setStatus(MEDIASTAT_UNKNOWN, OpenedHere);
         }
 
         if (mediaChanged()) 
         {
-            //cout << "media changed - ";
+            VERBOSE(VB_MEDIA, getDevicePath() + " Media changed");
             // Regardless of the actual status lie here and say
             // it's open for now, so we can cover the case of a missed open.
             return setStatus(MEDIASTAT_OPEN, OpenedHere);
         } 
         else 
         {
-            //cout << "media unchanged - ";
+            //VERBOSE(VB_MEDIA, getDevicePath() + " Media unchanged...");
             if ((m_Status == MEDIASTAT_OPEN) || 
                 (m_Status == MEDIASTAT_UNKNOWN)) 
             {
-                //cout << "Current status == " << MythMediaDevice::MediaStatusStrings[m_Status]  << endl;
-                int type = ioctl(m_DeviceHandle, CDROM_DISC_STATUS, CDSL_CURRENT);
+                VERBOSE(VB_MEDIA, getDevicePath() + " Current status " +
+                        MythMediaDevice::MediaStatusStrings[m_Status]);
+                int type = ioctl(m_DeviceHandle,
+                                 CDROM_DISC_STATUS, CDSL_CURRENT);
                 switch (type) 
                 {
                     case CDS_DATA_1:
                     case CDS_DATA_2:
                         m_MediaType = MEDIATYPE_DATA;
-                        //cout << "found a data disk" << endl;
+                        VERBOSE(VB_MEDIA, "Found a data disk");
                         //grab information from iso9660 (& udf)
                         struct iso_primary_descriptor buf;
                         lseek(this->m_DeviceHandle,(off_t) 2048*16,SEEK_SET);
@@ -143,10 +164,12 @@
                                       .arg(this->m_VolumeID)
                                       .arg(QString(buf.creation_date).left(16));
 
-                        // attempt to mount the disc
                         // the base class's onDeviceMounted will do fine
                         // grained detection of the type of data on this disc
-                        mount();
+                        if (isMounted(true))
+                            onDeviceMounted();
+                        else
+                            mount(); // onDeviceMounted() called as side-effect
 
                         if (isMounted(true))
                         {
@@ -166,13 +189,13 @@
                             return setStatus(MEDIASTAT_NOTMOUNTED, OpenedHere);
                         break;
                     case CDS_AUDIO:
-                        //cout << "found an audio disk" << endl;
+                        VERBOSE(VB_MEDIA, "found an audio disk");
                         m_MediaType = MEDIATYPE_AUDIO;
                         return setStatus(MEDIASTAT_USEABLE, OpenedHere);
                         break;
                     case CDS_MIXED:
                         m_MediaType = MEDIATYPE_MIXED;
-                        //cout << "found a mixed CD" << endl;
+                        VERBOSE(VB_MEDIA, "found a mixed CD");
                         // Note: Mixed mode CDs require an explixit mount call since we'll usually want the audio portion.
                         //         undefine ASSUME_WANT_AUDIO to change this behavior.
                         #ifdef ASSUME_WANT_AUDIO
@@ -196,13 +219,13 @@
                         break;
                     case CDS_NO_INFO:
                     case CDS_NO_DISC:
-                        //cout << "found no disk" << endl;
+                        VERBOSE(VB_MEDIA, "found no disk");
                         m_MediaType = MEDIATYPE_UNKNOWN;
                         return setStatus(MEDIASTAT_UNKNOWN, OpenedHere);
                         break;
                     default:
-                        //cout << "found unknown disk type" << endl;
-                        fprintf(stderr, "Unknown data type: %d\n", type);
+                        VERBOSE(VB_MEDIA, "found unknown disk type: "
+                                          + QString().setNum(type));
                         m_MediaType = MEDIATYPE_UNKNOWN;
                         return setStatus(MEDIASTAT_UNKNOWN, OpenedHere);
                 }            
@@ -210,7 +233,9 @@
             else if (m_Status == MEDIASTAT_MOUNTED || 
                      m_Status == MEDIASTAT_NOTMOUNTED) 
             {
-                //cout << "current status == " << MythMediaDevice::MediaStatusStrings[m_Status] << " setting status to not mounted - ";
+                VERBOSE(VB_MEDIA, QString("Current status == ") +
+                        MythMediaDevice::MediaStatusStrings[m_Status]);
+                VERBOSE(VB_MEDIA, "Setting status to not mounted?");
                 if (isMounted(true))
                     setStatus(MEDIASTAT_MOUNTED, OpenedHere);
                 else
@@ -223,7 +248,7 @@
     } // isDeviceOpen();
     else 
     {
-        //cout << "device not open returning unknown" << endl;
+        VERBOSE(VB_MEDIA, "Device not open - returning UNKNOWN");
         m_MediaType = MEDIATYPE_UNKNOWN;
         return setStatus(MEDIASTAT_UNKNOWN, OpenedHere);
     }
@@ -231,7 +256,8 @@
     if (OpenedHere)
         closeDevice();
 
-    //cout << "returning " << MythMediaDevice::MediaStatusStrings[m_Status] << endl;
+    //VERBOSE(VB_MEDIA, QString("Returning ")
+    //                  + MythMediaDevice::MediaStatusStrings[m_Status]);
     return m_Status;
 }
 
@@ -248,7 +274,7 @@
 {
     if (isDeviceOpen() || openDevice()) 
     { 
-        //cout <<  "Unlocking CDROM door" << endl;
+        //VERBOSE(VB_MEDIA, "MythCDROMLinux::unlock - Unlocking CDROM door");
         ioctl(m_DeviceHandle, CDROM_LOCKDOOR, 0);
     }
     else
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmyth/mythcontext.h mythtv-0.20-new/libs/libmyth/mythcontext.h
--- mythtv-0.20-old/libs/libmyth/mythcontext.h	2006-08-28 13:47:26.000000000 -0700
+++ mythtv-0.20-new/libs/libmyth/mythcontext.h	2007-06-23 18:32:06.000000000 -0700
@@ -99,6 +99,8 @@
       "upnp debugging messages")                 \
     F(VB_SOCKET,    0x00100000, "socket",    1,  \
       "socket debugging messages")               \
+    F(VB_MEDIA,     0x00800000, "media",     1,  \
+      "Media Manager debugging messages")        \
     F(VB_TIMESTAMP, 0x80000000, "timestamp", 1,  \
       "Conditional data driven messages")        \
     F(VB_NONE,      0x00000000, "none",      0,  \
@@ -222,14 +224,14 @@
 
 /// Update this whenever the plug-in API changes.
 /// Including changes in the libmythtv class methods used by plug-ins.
-#define MYTH_BINARY_VERSION "0.20.20060828-3"
+#define MYTH_BINARY_VERSION "0.20.20060828-4"
 
 /** \brief Increment this whenever the MythTV network protocol changes.
  *
  *   You must also update this value in
  *   mythplugins/mythweb/includes/mythbackend.php
  */
-#define MYTH_PROTO_VERSION "30"
+#define MYTH_PROTO_VERSION "31"
 
 /** \class MythContext
  *  \brief This class contains the runtime context for MythTV.
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmyth/mythhdd.cpp mythtv-0.20-new/libs/libmyth/mythhdd.cpp
--- mythtv-0.20-old/libs/libmyth/mythhdd.cpp	2006-03-14 15:43:28.000000000 -0800
+++ mythtv-0.20-new/libs/libmyth/mythhdd.cpp	2007-06-23 18:32:06.000000000 -0700
@@ -33,6 +33,10 @@
 {
     if (isMounted(true))
     {
+        // A lazy way to present volume name for the user to eject.
+        // Hotplug devices are usually something like /media/VOLUME
+        m_VolumeID = m_MountPath;
+
         // device is mounted, trigger event
         return setStatus(MEDIASTAT_MOUNTED);
     }
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmyth/mythmedia.cpp mythtv-0.20-new/libs/libmyth/mythmedia.cpp
--- mythtv-0.20-old/libs/libmyth/mythmedia.cpp	2006-05-31 22:26:52.000000000 -0700
+++ mythtv-0.20-new/libs/libmyth/mythmedia.cpp	2007-06-23 18:32:06.000000000 -0700
@@ -31,6 +31,7 @@
     "MEDIASTAT_UNKNOWN",
     "MEDIASTAT_UNPLUGGED",
     "MEDIASTAT_OPEN",
+    "MEDIASTAT_NODISK",
     "MEDIASTAT_USEABLE",
     "MEDIASTAT_NOTMOUNTED",
     "MEDIASTAT_MOUNTED"
@@ -117,7 +118,7 @@
                 .arg((DoMount) ? PATHTO_MOUNT : PATHTO_UNMOUNT)
                 .arg(m_DevicePath);
     
-        VERBOSE(VB_IMPORTANT,  QString("Executing '%1'").arg(MountCommand));
+        VERBOSE(VB_MEDIA,  QString("Executing '%1'").arg(MountCommand));
         if (0 == myth_system(MountCommand)) 
         {
             if (DoMount)
@@ -127,7 +128,8 @@
                 isMounted(true);
                 m_Status = MEDIASTAT_MOUNTED;
                 onDeviceMounted();
-                VERBOSE(VB_IMPORTANT, "m_MediaType: "<<m_MediaType);
+                VERBOSE(VB_GENERAL, QString("Detected MediaType ")
+                                    + MediaTypeStrings[m_Status]);
             }
             else
                 onDeviceUnmounted();
@@ -141,14 +143,15 @@
     } 
     else 
     {
-        VERBOSE( VB_IMPORTANT,  "Disk inserted on a supermount device" );
+        VERBOSE(VB_MEDIA,  "Disk inserted on a supermount device" );
         // If it's a super mount then the OS will handle mounting /  unmounting.
         // We just need to give derived classes a chance to perform their 
         // mount / unmount logic.
         if (DoMount)
         {
             onDeviceMounted();
-            VERBOSE(VB_IMPORTANT, "m_MediaType: "<<m_MediaType);
+            VERBOSE(VB_GENERAL, QString("Detected MediaType ")
+                                + MediaTypeStrings[m_Status]);
         }
         else
             onDeviceUnmounted();
@@ -167,7 +170,7 @@
 
     if (!ScanMediaType(m_MountPath, ext_cnt))
     {
-        VERBOSE(VB_GENERAL, QString("No files with extensions found in '%1'")
+        VERBOSE(VB_MEDIA, QString("No files with extensions found in '%1'")
                 .arg(m_MountPath));
         return mediatype;
     }
@@ -317,8 +320,8 @@
             
             // Extract the mount point and device name.
             stream >> DeviceName >> MountPoint;
-            //cout << "Found Device: " << DeviceName
-            //     << "  Mountpoint: " << MountPoint << endl; 
+            //VERBOSE(VB_MEDIA, "Found Device: " << DeviceName
+            //                  << "  Mountpoint: " << MountPoint);
 
             // Skip the rest of the line
             line = stream.readLine();
@@ -357,6 +360,7 @@
             // the disk is not / should not be mounted.
             case MEDIASTAT_ERROR:
             case MEDIASTAT_OPEN:
+            case MEDIASTAT_NODISK:
             case MEDIASTAT_NOTMOUNTED:
                 if (isMounted(true))
                     unmount();
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmyth/mythmedia.h mythtv-0.20-new/libs/libmyth/mythmedia.h
--- mythtv-0.20-old/libs/libmyth/mythmedia.h	2006-05-31 22:26:52.000000000 -0700
+++ mythtv-0.20-new/libs/libmyth/mythmedia.h	2007-06-23 18:32:06.000000000 -0700
@@ -9,7 +9,8 @@
     MEDIASTAT_ERROR,
     MEDIASTAT_UNKNOWN,
     MEDIASTAT_UNPLUGGED,
-    MEDIASTAT_OPEN,
+    MEDIASTAT_OPEN,       /**< CD/DVD tray open. Meaningless for other types */
+    MEDIASTAT_NODISK,     /**< CD/DVD tray closed, SCSI drive unformatted? */
     MEDIASTAT_USEABLE,    
     MEDIASTAT_NOTMOUNTED,
     MEDIASTAT_MOUNTED
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmyth/mythmediamonitor.cpp mythtv-0.20-new/libs/libmyth/mythmediamonitor.cpp
--- mythtv-0.20-old/libs/libmyth/mythmediamonitor.cpp	2006-05-31 22:26:52.000000000 -0700
+++ mythtv-0.20-new/libs/libmyth/mythmediamonitor.cpp	2007-06-23 18:32:06.000000000 -0700
@@ -157,6 +157,7 @@
     if (!selected)
         return;
 
+    bool doEject = false;
     int status = selected->getStatus();
     QString dev = selected->getVolumeID();
 
@@ -165,10 +166,21 @@
 
     if (MEDIASTAT_OPEN == status)
     {
-        selected->eject(false);
+        VERBOSE(VB_MEDIA,
+                QString("Disk %1's tray is OPEN. Closing tray").arg(dev));
+
+        if (selected->eject(false))
+        {
+            QString msg = "Unable to open or close the empty drive %1.\n\n";
+            msg += "You may have to use the eject button under its tray.";
+            MythPopupBox::showOkPopup(gContext->GetMainWindow(),
+                                      "eject close-tray fail",
+                                      tr(msg).arg(dev));
+        }
     }
     else if (MEDIASTAT_MOUNTED == status)
     {
+        VERBOSE(VB_MEDIA, QString("Disk %1 is mounted? Unmounting").arg(dev));
         selected->unmount();
 
         if (selected->isMounted(true))
@@ -177,9 +189,16 @@
                                       "eject unmount fail",
                                       tr("Failed to unmount %1").arg(dev));
         }
+        else
+            doEject = true;
     }
     else
+        doEject = true;
+
+    if (doEject)
     {
+        VERBOSE(VB_MEDIA,
+                QString("Unlocking disk %1, then eject()ing").arg(dev));
         selected->unlock();
 
         if (selected->eject() == MEDIAERR_UNSUPPORTED)
@@ -340,14 +359,18 @@
             line = stream.readLine();
             if (line.startsWith("drive name:"))
             {
-                QString s = line.section('\t', 2, 2);
-                l.append(s);
+                QStringList  devs = QStringList::split('\t', line); 
+
+                devs.pop_front();   // Remove 'drive name:' field 
+                l += devs;
             }
         }
         file.close();
     }
 #endif // linux
 
+    VERBOSE(VB_MEDIA, "MediaMonitorUnix::GetCDROMBlockDevices() returning " 
+                       + l.join(", "));
     return l;
 }
 
@@ -585,6 +608,11 @@
             if (*pit == "." || *pit == "..")
                 continue;
 
+            // skip some sysfs dirs that are _not_ sub-partitions
+            if (*pit == "device" || *pit == "holders" || *pit == "queue"
+                                 || *pit == "slaves"  || *pit == "subsystem")
+                continue;
+
             found_partitions |= FindPartitions(sysfs.absFilePath(*pit), false);
         }
 
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmyth/settings.h mythtv-0.20-new/libs/libmyth/settings.h
--- mythtv-0.20-old/libs/libmyth/settings.h	2006-09-04 14:01:06.000000000 -0700
+++ mythtv-0.20-new/libs/libmyth/settings.h	2007-06-23 18:32:06.000000000 -0700
@@ -719,11 +719,6 @@
     MythPushButton *button;
 };
 
-class TransButtonSetting: public ButtonSetting, public TransientStorage {
-public:
-    TransButtonSetting(QString name = "button") : ButtonSetting(name) {}
-};
-
 class ConfigPopupDialogWidget: public MythPopupBox {
     Q_OBJECT
 public:
@@ -767,16 +762,6 @@
     int totalSteps;
 };
 
-class TransLabelSetting: public LabelSetting, public TransientStorage {
-public:
-    TransLabelSetting() {};
-};
-
-class TransCheckBoxSetting: public CheckBoxSetting, public TransientStorage {
-public:
-    TransCheckBoxSetting() {};
-};
-
 class HostSetting: public SimpleDBStorage, virtual public Configurable {
 public:
     HostSetting(QString name):
@@ -802,6 +787,57 @@
     virtual QString setClause(MSqlBindings& bindings);
 };
 
+///////////////////////////////////////////////////////////////////////////////
+
+class TransButtonSetting :
+    public ButtonSetting, public TransientStorage
+{
+  public:
+    TransButtonSetting(QString name = "button") : ButtonSetting(name) { }
+};
+
+class TransLabelSetting :
+    public LabelSetting, public TransientStorage
+{
+  public:
+    TransLabelSetting() { }
+};
+
+class TransLineEditSetting :
+    public LineEditSetting, public TransientStorage
+{
+  public:
+    TransLineEditSetting(bool rw = true) : LineEditSetting(rw) { }
+};
+
+class TransCheckBoxSetting :
+    public CheckBoxSetting, public TransientStorage
+{
+  public:
+    TransCheckBoxSetting() { }
+};
+
+class TransComboBoxSetting :
+    public ComboBoxSetting, public TransientStorage
+{
+  public:
+    TransComboBoxSetting(bool rw = true, int _step = 1) :
+        ComboBoxSetting(rw, _step) { }
+};
+
+class TransSpinBoxSetting :
+    public SpinBoxSetting, public TransientStorage
+{
+  public:
+    TransSpinBoxSetting(int min, int max, int step,
+                        bool allow_single_step = false,
+                        QString special_value_text = "") :
+        SpinBoxSetting(min, max, step, allow_single_step,
+                       special_value_text) { }
+};
+
+///////////////////////////////////////////////////////////////////////////////
+
 class HostSlider: public SliderSetting, public HostSetting {
   public:
     HostSlider(const QString &name, int min, int max, int step) :
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmyth/util.cpp mythtv-0.20-new/libs/libmyth/util.cpp
--- mythtv-0.20-old/libs/libmyth/util.cpp	2006-06-09 11:05:49.000000000 -0700
+++ mythtv-0.20-new/libs/libmyth/util.cpp	2007-06-23 18:32:06.000000000 -0700
@@ -34,6 +34,7 @@
 #include "exitcodes.h"
 #include "util.h"
 #include "mythcontext.h"
+#include "mythmediamonitor.h"
 
 #ifdef CONFIG_DARWIN
 #include <mach/mach.h> 
@@ -190,6 +191,8 @@
     (void)flags; /* Kill warning */
 
     bool ready_to_lock = gContext && gContext->GetMainWindow();
+
+    (void) ready_to_lock;  // stop warning
 #ifdef USE_LIRC
     bool lirc_lock_flag = !(flags & MYTH_SYSTEM_DONT_BLOCK_LIRC);
     LircEventLock lirc_lock(lirc_lock_flag && ready_to_lock);
@@ -401,9 +404,15 @@
         (statbuf.f_blocks > 0) &&
         (statbuf.f_bsize > 0))
     {
-        freespace = statbuf.f_bsize * (statbuf.f_bavail >> 10);
-        total = statbuf.f_bsize * (statbuf.f_blocks >> 10);
-        used  = total - freespace;
+        total      = statbuf.f_blocks;
+        total     *= statbuf.f_bsize;
+        total      = total >> 10;
+
+        freespace  = statbuf.f_bavail;
+        freespace *= statbuf.f_bsize;
+        freespace  = freespace >> 10;
+
+        used       = total - freespace;
     }
 
     return freespace;
@@ -417,8 +426,8 @@
  */
 bool getMemStats(int &totalMB, int &freeMB, int &totalVM, int &freeVM)
 {
-    size_t MB = (1024*1024);
 #ifdef __linux__
+    size_t MB = (1024*1024);
     struct sysinfo sinfo;
     if (sysinfo(&sinfo) == -1)
     {
@@ -472,3 +481,27 @@
 
     return true;
 }
+
+/**
+ * \brief Eject a disk, unmount a drive, open a tray
+ *
+ * If the Media Monitor is enabled, we use its fully-featured routine.
+ * Otherwise, we guess a drive and use a primitive OS-specific command
+ */
+void myth_eject()
+{
+    MediaMonitor *mon = MediaMonitor::GetMediaMonitor();
+    if (mon)
+        mon->ChooseAndEjectMedia();
+    else
+    {
+        VERBOSE(VB_MEDIA, "CD/DVD Monitor isn't enabled.");
+#ifdef __linux__
+        VERBOSE(VB_MEDIA, "Trying Linux 'eject -T' command");
+        myth_system("eject -T");
+#elif defined(CONFIG_DARWIN)
+        VERBOSE(VB_MEDIA, "Trying 'disktool -e disk1");
+        myth_system("disktool -e disk1");
+#endif
+    }
+}
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmyth/util.h mythtv-0.20-new/libs/libmyth/util.h
--- mythtv-0.20-old/libs/libmyth/util.h	2006-07-18 18:34:13.000000000 -0700
+++ mythtv-0.20-new/libs/libmyth/util.h	2007-06-23 18:32:06.000000000 -0700
@@ -62,4 +62,5 @@
 bool getUptime(time_t &uptime);
 bool getMemStats(int &totalMB, int &freeMB, int &totalVM, int &freeVM);
 
+void myth_eject(void);
 #endif // UTIL_H_
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythdvdnav/vm.c mythtv-0.20-new/libs/libmythdvdnav/vm.c
--- mythtv-0.20-old/libs/libmythdvdnav/vm.c	2006-03-24 05:17:02.000000000 -0800
+++ mythtv-0.20-new/libs/libmythdvdnav/vm.c	2007-06-23 18:32:13.000000000 -0700
@@ -757,11 +757,11 @@
     }
   }
 
-  if((vm->state).domain == VTS_DOMAIN && !((vm->state).SPST_REG & 0x40))
+  if((vm->state).SPST_REG & 0x40)
     /* Bit 7 set means hide, and only let Forced display show */
-    return (streamN | 0x80);
+    return (streamN & 0x1F);
   else
-    return streamN;
+    return -1;
 }
 
 void vm_get_angle_info(vm_t *vm, int *current, int *num_avail) {
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/AAFilter.cpp mythtv-0.20-new/libs/libmythsoundtouch/AAFilter.cpp
--- mythtv-0.20-old/libs/libmythsoundtouch/AAFilter.cpp	2006-05-23 10:40:36.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/AAFilter.cpp	2007-06-23 18:32:03.000000000 -0700
@@ -12,7 +12,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-05-23 13:40:36 -0400 (Tue, 23 May 2006) $
+// Last changed  : $Date: 2006-05-23 10:40:36 -0700 (Tue, 23 May 2006) $
 // File revision : $Revision: 9996 $
 //
 // $Id: AAFilter.cpp 9996 2006-05-23 17:40:36Z danielk $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/AAFilter.h mythtv-0.20-new/libs/libmythsoundtouch/AAFilter.h
--- mythtv-0.20-old/libs/libmythsoundtouch/AAFilter.h	2004-11-13 14:29:45.000000000 -0800
+++ mythtv-0.20-new/libs/libmythsoundtouch/AAFilter.h	2007-06-23 18:32:03.000000000 -0700
@@ -13,7 +13,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2004-11-13 17:29:45 -0500 (Sat, 13 Nov 2004) $
+// Last changed  : $Date: 2004-11-13 14:29:45 -0800 (Sat, 13 Nov 2004) $
 // File revision : $Revision: 4714 $
 //
 // $Id: AAFilter.h 4714 2004-11-13 22:29:45Z ijr $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/BPMDetect.h mythtv-0.20-new/libs/libmythsoundtouch/BPMDetect.h
--- mythtv-0.20-old/libs/libmythsoundtouch/BPMDetect.h	2006-05-23 10:40:36.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/BPMDetect.h	2007-06-23 18:32:03.000000000 -0700
@@ -26,7 +26,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-05-23 13:40:36 -0400 (Tue, 23 May 2006) $
+// Last changed  : $Date: 2006-05-23 10:40:36 -0700 (Tue, 23 May 2006) $
 // File revision : $Revision: 9996 $
 //
 // $Id: BPMDetect.h 9996 2006-05-23 17:40:36Z danielk $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/cpu_detect.h mythtv-0.20-new/libs/libmythsoundtouch/cpu_detect.h
--- mythtv-0.20-old/libs/libmythsoundtouch/cpu_detect.h	2006-03-16 02:00:28.000000000 -0800
+++ mythtv-0.20-new/libs/libmythsoundtouch/cpu_detect.h	2007-06-23 18:32:03.000000000 -0700
@@ -12,7 +12,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-03-16 05:00:28 -0500 (Thu, 16 Mar 2006) $
+// Last changed  : $Date: 2006-03-16 02:00:28 -0800 (Thu, 16 Mar 2006) $
 // File revision : $Revision: 9376 $
 //
 // $Id: cpu_detect.h 9376 2006-03-16 10:00:28Z ijr $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/cpu_detect_x86_gcc.cpp mythtv-0.20-new/libs/libmythsoundtouch/cpu_detect_x86_gcc.cpp
--- mythtv-0.20-old/libs/libmythsoundtouch/cpu_detect_x86_gcc.cpp	2006-05-23 10:40:36.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/cpu_detect_x86_gcc.cpp	2007-06-23 18:32:03.000000000 -0700
@@ -12,7 +12,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-05-23 13:40:36 -0400 (Tue, 23 May 2006) $
+// Last changed  : $Date: 2006-05-23 10:40:36 -0700 (Tue, 23 May 2006) $
 // File revision : $Revision: 9996 $
 //
 // $Id: cpu_detect_x86_gcc.cpp 9996 2006-05-23 17:40:36Z danielk $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/FIFOSampleBuffer.cpp mythtv-0.20-new/libs/libmythsoundtouch/FIFOSampleBuffer.cpp
--- mythtv-0.20-old/libs/libmythsoundtouch/FIFOSampleBuffer.cpp	2006-05-23 10:40:36.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/FIFOSampleBuffer.cpp	2007-06-23 18:32:03.000000000 -0700
@@ -15,7 +15,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-05-23 13:40:36 -0400 (Tue, 23 May 2006) $
+// Last changed  : $Date: 2006-05-23 10:40:36 -0700 (Tue, 23 May 2006) $
 // File revision : $Revision: 9996 $
 //
 // $Id: FIFOSampleBuffer.cpp 9996 2006-05-23 17:40:36Z danielk $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/FIFOSampleBuffer.h mythtv-0.20-new/libs/libmythsoundtouch/FIFOSampleBuffer.h
--- mythtv-0.20-old/libs/libmythsoundtouch/FIFOSampleBuffer.h	2006-05-23 10:40:36.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/FIFOSampleBuffer.h	2007-06-23 18:32:03.000000000 -0700
@@ -15,7 +15,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-05-23 13:40:36 -0400 (Tue, 23 May 2006) $
+// Last changed  : $Date: 2006-05-23 10:40:36 -0700 (Tue, 23 May 2006) $
 // File revision : $Revision: 9996 $
 //
 // $Id: FIFOSampleBuffer.h 9996 2006-05-23 17:40:36Z danielk $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/FIFOSamplePipe.h mythtv-0.20-new/libs/libmythsoundtouch/FIFOSamplePipe.h
--- mythtv-0.20-old/libs/libmythsoundtouch/FIFOSamplePipe.h	2005-05-23 13:39:12.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/FIFOSamplePipe.h	2007-06-23 18:32:03.000000000 -0700
@@ -17,7 +17,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2005-05-23 16:39:12 -0400 (Mon, 23 May 2005) $
+// Last changed  : $Date: 2005-05-23 13:39:12 -0700 (Mon, 23 May 2005) $
 // File revision : $Revision: 6468 $
 //
 // $Id: FIFOSamplePipe.h 6468 2005-05-23 20:39:12Z ijr $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/FIRFilter.cpp mythtv-0.20-new/libs/libmythsoundtouch/FIRFilter.cpp
--- mythtv-0.20-old/libs/libmythsoundtouch/FIRFilter.cpp	2006-03-31 22:19:12.000000000 -0800
+++ mythtv-0.20-new/libs/libmythsoundtouch/FIRFilter.cpp	2007-06-23 18:32:03.000000000 -0700
@@ -11,7 +11,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-04-01 01:19:12 -0500 (Sat, 01 Apr 2006) $
+// Last changed  : $Date: 2006-03-31 22:19:12 -0800 (Fri, 31 Mar 2006) $
 // File revision : $Revision: 9588 $
 //
 // $Id: FIRFilter.cpp 9588 2006-04-01 06:19:12Z ijr $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/FIRFilter.h mythtv-0.20-new/libs/libmythsoundtouch/FIRFilter.h
--- mythtv-0.20-old/libs/libmythsoundtouch/FIRFilter.h	2004-11-13 14:29:45.000000000 -0800
+++ mythtv-0.20-new/libs/libmythsoundtouch/FIRFilter.h	2007-06-23 18:32:03.000000000 -0700
@@ -11,7 +11,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2004-11-13 17:29:45 -0500 (Sat, 13 Nov 2004) $
+// Last changed  : $Date: 2004-11-13 14:29:45 -0800 (Sat, 13 Nov 2004) $
 // File revision : $Revision: 4714 $
 //
 // $Id: FIRFilter.h 4714 2004-11-13 22:29:45Z ijr $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/mmx_gcc.cpp mythtv-0.20-new/libs/libmythsoundtouch/mmx_gcc.cpp
--- mythtv-0.20-old/libs/libmythsoundtouch/mmx_gcc.cpp	2006-05-23 12:14:24.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/mmx_gcc.cpp	2007-06-23 18:32:03.000000000 -0700
@@ -15,7 +15,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-05-23 15:14:24 -0400 (Tue, 23 May 2006) $
+// Last changed  : $Date: 2006-05-23 12:14:24 -0700 (Tue, 23 May 2006) $
 // File revision : $Revision: 9998 $
 //
 // $Id: mmx_gcc.cpp 9998 2006-05-23 19:14:24Z danielk $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/RateTransposer.cpp mythtv-0.20-new/libs/libmythsoundtouch/RateTransposer.cpp
--- mythtv-0.20-old/libs/libmythsoundtouch/RateTransposer.cpp	2006-05-23 12:14:24.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/RateTransposer.cpp	2007-06-23 18:32:03.000000000 -0700
@@ -10,7 +10,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-05-23 15:14:24 -0400 (Tue, 23 May 2006) $
+// Last changed  : $Date: 2006-05-23 12:14:24 -0700 (Tue, 23 May 2006) $
 // File revision : $Revision: 9998 $
 //
 // $Id: RateTransposer.cpp 9998 2006-05-23 19:14:24Z danielk $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/RateTransposer.h mythtv-0.20-new/libs/libmythsoundtouch/RateTransposer.h
--- mythtv-0.20-old/libs/libmythsoundtouch/RateTransposer.h	2004-11-13 14:29:45.000000000 -0800
+++ mythtv-0.20-new/libs/libmythsoundtouch/RateTransposer.h	2007-06-23 18:32:03.000000000 -0700
@@ -14,7 +14,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2004-11-13 17:29:45 -0500 (Sat, 13 Nov 2004) $
+// Last changed  : $Date: 2004-11-13 14:29:45 -0800 (Sat, 13 Nov 2004) $
 // File revision : $Revision: 4714 $
 //
 // $Id: RateTransposer.h 4714 2004-11-13 22:29:45Z ijr $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/SoundTouch.cpp mythtv-0.20-new/libs/libmythsoundtouch/SoundTouch.cpp
--- mythtv-0.20-old/libs/libmythsoundtouch/SoundTouch.cpp	2006-05-24 03:48:15.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/SoundTouch.cpp	2007-06-23 18:32:03.000000000 -0700
@@ -41,7 +41,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-05-24 06:48:15 -0400 (Wed, 24 May 2006) $
+// Last changed  : $Date: 2006-05-24 03:48:15 -0700 (Wed, 24 May 2006) $
 // File revision : $Revision: 10003 $
 //
 // $Id: SoundTouch.cpp 10003 2006-05-24 10:48:15Z danielk $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/SoundTouch.h mythtv-0.20-new/libs/libmythsoundtouch/SoundTouch.h
--- mythtv-0.20-old/libs/libmythsoundtouch/SoundTouch.h	2006-05-23 10:40:36.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/SoundTouch.h	2007-06-23 18:32:03.000000000 -0700
@@ -41,7 +41,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-05-23 13:40:36 -0400 (Tue, 23 May 2006) $
+// Last changed  : $Date: 2006-05-23 10:40:36 -0700 (Tue, 23 May 2006) $
 // File revision : $Revision: 9996 $
 //
 // $Id: SoundTouch.h 9996 2006-05-23 17:40:36Z danielk $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/STTypes.h mythtv-0.20-new/libs/libmythsoundtouch/STTypes.h
--- mythtv-0.20-old/libs/libmythsoundtouch/STTypes.h	2006-05-24 07:56:37.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/STTypes.h	2007-06-23 18:32:03.000000000 -0700
@@ -8,7 +8,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-05-24 10:56:37 -0400 (Wed, 24 May 2006) $
+// Last changed  : $Date: 2006-05-24 07:56:37 -0700 (Wed, 24 May 2006) $
 // File revision : $Revision: 10005 $
 //
 // $Id: STTypes.h 10005 2006-05-24 14:56:37Z danielk $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/TDStretch.cpp mythtv-0.20-new/libs/libmythsoundtouch/TDStretch.cpp
--- mythtv-0.20-old/libs/libmythsoundtouch/TDStretch.cpp	2006-05-23 12:14:24.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/TDStretch.cpp	2007-06-23 18:32:03.000000000 -0700
@@ -13,7 +13,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-05-23 15:14:24 -0400 (Tue, 23 May 2006) $
+// Last changed  : $Date: 2006-05-23 12:14:24 -0700 (Tue, 23 May 2006) $
 // File revision : $Revision: 9998 $
 //
 // $Id: TDStretch.cpp 9998 2006-05-23 19:14:24Z danielk $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythsoundtouch/TDStretch.h mythtv-0.20-new/libs/libmythsoundtouch/TDStretch.h
--- mythtv-0.20-old/libs/libmythsoundtouch/TDStretch.h	2006-05-23 12:14:24.000000000 -0700
+++ mythtv-0.20-new/libs/libmythsoundtouch/TDStretch.h	2007-06-23 18:32:03.000000000 -0700
@@ -13,7 +13,7 @@
 ///
 ////////////////////////////////////////////////////////////////////////////////
 //
-// Last changed  : $Date: 2006-05-23 15:14:24 -0400 (Tue, 23 May 2006) $
+// Last changed  : $Date: 2006-05-23 12:14:24 -0700 (Tue, 23 May 2006) $
 // File revision : $Revision: 9998 $
 //
 // $Id: TDStretch.h 9998 2006-05-23 19:14:24Z danielk $
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/avformatdecoder.cpp mythtv-0.20-new/libs/libmythtv/avformatdecoder.cpp
--- mythtv-0.20-old/libs/libmythtv/avformatdecoder.cpp	2006-09-03 20:50:52.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/avformatdecoder.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -464,9 +464,13 @@
 void AvFormatDecoder::SeekReset(long long newKey, uint skipFrames,
                                 bool doflush, bool discardFrames)
 {
-    if (ringBuffer->InDVDMenuOrStillFrame())
-        return;
-
+    if (ringBuffer->isDVD())
+    {
+        if (ringBuffer->InDVDMenuOrStillFrame() ||
+            newKey == 0) 
+            return;
+    }
+            
     VERBOSE(VB_PLAYBACK, LOC +
             QString("SeekReset(%1, %2, %3 flush, %4 discard)")
             .arg(newKey).arg(skipFrames)
@@ -931,23 +935,28 @@
     return fps;
 }
 
-void AvFormatDecoder::InitVideoCodec(AVStream *stream, AVCodecContext *enc)
+void AvFormatDecoder::InitVideoCodec(AVStream *stream, AVCodecContext *enc,
+                                     bool selectedStream)
 {
-    fps = normalized_fps(stream, enc);
-
     float aspect_ratio;
-    if (enc->sample_aspect_ratio.num == 0)
-        aspect_ratio = 0.0f;
-    else
-        aspect_ratio = av_q2d(enc->sample_aspect_ratio) *
-            enc->width / enc->height;
 
-    if (aspect_ratio <= 0.0f || aspect_ratio > 6.0f)
-        aspect_ratio = (float)enc->width / (float)enc->height;
+    if (selectedStream)
+    {
+        fps = normalized_fps(stream, enc);
 
-    current_width = enc->width;
-    current_height = enc->height;
-    current_aspect = aspect_ratio;
+        if (enc->sample_aspect_ratio.num == 0)
+            aspect_ratio = 0.0f;
+        else
+            aspect_ratio = av_q2d(enc->sample_aspect_ratio) *
+                enc->width / enc->height;
+
+        if (aspect_ratio <= 0.0f || aspect_ratio > 6.0f)
+            aspect_ratio = (float)enc->width / (float)enc->height;
+
+        current_width = enc->width;
+        current_height = enc->height;
+        current_aspect = aspect_ratio;
+    }
 
     enc->opaque = (void *)this;
     enc->get_buffer = avcodec_default_get_buffer;
@@ -965,7 +974,8 @@
 
     AVCodec *codec = avcodec_find_decoder(enc->codec_id);    
 
-    if (!gContext->GetNumSetting("DecodeExtraAudio", 0) &&
+    if (selectedStream &&
+        !gContext->GetNumSetting("DecodeExtraAudio", 0) &&
         codec->id != CODEC_ID_MPEG2VIDEO_XVMC           &&
         codec->id != CODEC_ID_MPEG2VIDEO_XVMC_VLD)
     {
@@ -981,7 +991,8 @@
         enc->draw_horiz_band = render_slice_xvmc;
         enc->slice_flags = SLICE_FLAG_CODED_ORDER |
             SLICE_FLAG_ALLOW_FIELD;
-        directrendering = true;
+        if (selectedStream)
+            directrendering = true;
     }
     else if (codec && codec->capabilities & CODEC_CAP_DR1 &&
              !(enc->width % 16))
@@ -990,26 +1001,30 @@
         enc->get_buffer = get_avf_buffer;
         enc->release_buffer = release_avf_buffer;
         enc->draw_horiz_band = NULL;
-        directrendering = true;
+        if (selectedStream)
+            directrendering = true;
     }
 
-    uint align_width  = enc->width;
-    uint align_height = enc->height;
+    if (selectedStream)
+    {
+        uint align_width  = enc->width;
+        uint align_height = enc->height;
 
-    align_dimensions(enc, align_width, align_height);
+        align_dimensions(enc, align_width, align_height);
 
-    if (align_width == 0 && align_height == 0)
-    {
-        VERBOSE(VB_PLAYBACK, LOC + "InitVideoCodec "
-                "failed to align dimensions, resetting decoder.");
-        align_width = 640;
-        align_height = 480;
-        fps = 29.97;
-        aspect_ratio = 4.0 / 3;
-    }
+        if (align_width == 0 && align_height == 0)
+        {
+            VERBOSE(VB_PLAYBACK, LOC + "InitVideoCodec "
+                    "failed to align dimensions, resetting decoder.");
+            align_width = 640;
+            align_height = 480;
+            fps = 29.97;
+            aspect_ratio = 4.0 / 3;
+        }
 
-    GetNVP()->SetVideoParams(align_width, align_height, fps,
-                             keyframedist, aspect_ratio, kScan_Detect);
+        GetNVP()->SetVideoParams(align_width, align_height, fps,
+                                 keyframedist, aspect_ratio, kScan_Detect);
+    }
 }
 
 #ifdef USING_XVMC
@@ -1262,7 +1277,14 @@
         {
             case CODEC_TYPE_VIDEO:
             {
-                assert(enc->codec_id);
+                //assert(enc->codec_id);
+                if (!enc->codec_id)
+                {
+                    VERBOSE(VB_IMPORTANT,
+                            LOC + QString("Stream #%1 has an unknown video "
+                                          "codec id, skipping.").arg(i));
+                    continue;
+                }
 
                 // HACK -- begin
                 // ffmpeg is unable to compute H.264 bitrates in mpegts?
@@ -1325,7 +1347,7 @@
                             <<") type ("<<codec_type_string(enc->codec_type)
                             <<") already open.");
                 }
-                InitVideoCodec(ic->streams[i], enc);
+
                 // Only use libmpeg2 when not using XvMC
                 if (CODEC_ID_MPEG1VIDEO == enc->codec_id ||
                     CODEC_ID_MPEG2VIDEO == enc->codec_id)
@@ -1336,14 +1358,14 @@
                 enc->decode_cc_dvd  = decode_cc_dvd;
 
                 // Set the default stream to the stream
-                // with the lowest component tag.
-                if (selectedVideoIndex < 0 ||
-                    ic->streams[i]->component_tag <
-                    ic->streams[selectedVideoIndex]->component_tag)
+                // that is found first in the PMT
+                if (selectedVideoIndex < 0)
                 {
                     selectedVideoIndex = i;
                 }
 
+                InitVideoCodec(ic->streams[i], enc, selectedVideoIndex == i);
+
                 ScanATSCCaptionStreams(i);
 
                 break;
@@ -1491,26 +1513,27 @@
     {
         if (tracks[kTrackTypeAudio].size() > 1)
         {
-            qBubbleSort(tracks[kTrackTypeAudio]);
             int trackNo = ringBuffer->DVD()->GetTrack(kTrackTypeAudio);
             if (trackNo >= (int)GetTrackCount(kTrackTypeAudio))
                 trackNo = GetTrackCount(kTrackTypeAudio) - 1;
             SetTrack(kTrackTypeAudio, trackNo);
         }
-        if (tracks[kTrackTypeSubtitle].size() > 1)
+        if (tracks[kTrackTypeSubtitle].size() > 0)
         {
             qBubbleSort(tracks[kTrackTypeSubtitle]);
             int trackNo = ringBuffer->DVD()->GetTrack(kTrackTypeSubtitle);
             uint captionmode = GetNVP()->GetCaptionMode();
-            if (captionmode == kDisplayAVSubtitle) {
-                if (trackNo < 0 || trackNo >= (int)GetTrackCount(kTrackTypeSubtitle))
-                {
-                    GetNVP()->SetCaptionsEnabled(false, false);
-                }
-                else
+            if (captionmode == kDisplayAVSubtitle &&
+                (trackNo < 0 || trackNo >= (int)GetTrackCount(kTrackTypeSubtitle)))
+            {
+                GetNVP()->SetCaptionsEnabled(false, false);
+            }
+            else
+            {
+                if (!ringBuffer->InDVDMenuOrStillFrame() && trackNo >= 0)
                 {
-                    if (!ringBuffer->InDVDMenuOrStillFrame() && trackNo >= 0)
-                        GetNVP()->SetCaptionsEnabled(true, false);
+                    SetTrack(kTrackTypeSubtitle, trackNo);
+                    GetNVP()->SetCaptionsEnabled(true, false);
                 }
             }
         }
@@ -3406,3 +3429,5 @@
 
     return fsize;
 }
+
+/* vim: set expandtab tabstop=4 shiftwidth=4: */
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/avformatdecoder.h mythtv-0.20-new/libs/libmythtv/avformatdecoder.h
--- mythtv-0.20-old/libs/libmythtv/avformatdecoder.h	2006-08-23 12:13:05.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/avformatdecoder.h	2007-06-23 18:32:02.000000000 -0700
@@ -168,7 +168,8 @@
 
     void DecodeDTVCC(const uint8_t *buf);
     void InitByteContext(void);
-    void InitVideoCodec(AVStream *stream, AVCodecContext *enc);
+    void InitVideoCodec(AVStream *stream, AVCodecContext *enc,
+                        bool selectedStream = false);
 
     /// Preprocess a packet, setting the video parms if nessesary.
     void MpegPreProcessPkt(AVStream *stream, AVPacket *pkt);
@@ -256,3 +257,5 @@
 };
 
 #endif
+
+/* vim: set expandtab tabstop=4 shiftwidth=4: */
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/cardutil.cpp mythtv-0.20-new/libs/libmythtv/cardutil.cpp
--- mythtv-0.20-old/libs/libmythtv/cardutil.cpp	2006-07-18 05:35:04.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/cardutil.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -51,7 +51,7 @@
 
 #ifdef USING_DVB
     QString dvbdev = CardUtil::GetDeviceName(DVB_DEV_FRONTEND, device);
-    int fd_frontend = open(dvbdev.ascii(), O_RDWR | O_NONBLOCK);
+    int fd_frontend = open(dvbdev.ascii(), O_RDONLY | O_NONBLOCK);
     if (fd_frontend < 0)
         return "ERROR_OPEN";
 
@@ -735,6 +735,7 @@
 {
     int rcardid = (parentid) ? parentid : cardid;
     QStringList inputs;
+    bool is_dtv = !IsEncoder(cardtype) && !IsUnscanable(cardtype);
 
     if (("FIREWIRE"  == cardtype) ||
         ("FREEBOX"   == cardtype) ||
@@ -753,7 +754,7 @@
     QStringList::iterator it = inputs.begin();
     for (; it != inputs.end(); ++it)
     {
-        CardInput* cardinput = new CardInput(false, cardid);
+        CardInput* cardinput = new CardInput(is_dtv, false, cardid);
         cardinput->loadByInput(rcardid, (*it));
         cardinput->SetChildCardID((parentid) ? cardid : 0);
         inputLabels.push_back(
@@ -774,7 +775,7 @@
         InputNames::const_iterator it;
         for (it = list.begin(); it != list.end(); ++it)
         {
-            CardInput *cardinput = new CardInput(true, rcardid);
+            CardInput *cardinput = new CardInput(is_dtv, true, rcardid);
             cardinput->loadByInput(rcardid, *it);
             cardinput->SetChildCardID(parentid ? cardid : 0);
             inputLabels.push_back(
@@ -786,7 +787,7 @@
         // plus add one "new" input
         if (needs_conf)
         {
-            CardInput *newcard = new CardInput(true, rcardid);
+            CardInput *newcard = new CardInput(is_dtv, true, rcardid);
             QString newname = QString("DVBInput #%1").arg(list.size() + 1);
             newcard->loadByInput(rcardid, newname);
             newcard->SetChildCardID((parentid) ? cardid : 0);
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/channeleditor.cpp mythtv-0.20-new/libs/libmythtv/channeleditor.cpp
--- mythtv-0.20-old/libs/libmythtv/channeleditor.cpp	2006-04-07 12:14:30.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/channeleditor.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -303,17 +303,46 @@
         return;
 
     MSqlQuery query(MSqlQuery::InitCon());
-    if ((currentSourceID == "") || (currentSourceID == "Unassigned"))
+    if (currentSourceID.isEmpty())
     {
         query.prepare("TRUNCATE TABLE channel");
     }
+    else if (currentSourceID == "Unassigned")
+    {
+        query.prepare("SELECT sourceid "
+                      "FROM videosource "
+                      "GROUP BY sourceid");
+
+        if (!query.exec() || !query.isActive())
+        {
+            MythContext::DBError("ChannelEditor Delete Channels", query);
+            return;
+        }
+
+        QString tmp = "";
+        while (query.next())
+            tmp += "'" + query.value(0).toString() + "',";
+
+        if (tmp.isEmpty())
+        {
+            query.prepare("TRUNCATE TABLE channel");
+        }
+        else
+        {
+            tmp = tmp.left(tmp.length() - 1);
+            query.prepare(QString("DELETE FROM channel "
+                                  "WHERE sourceid NOT IN (%1)").arg(tmp));
+        }
+    }
     else
     {
         query.prepare("DELETE FROM channel "
                       "WHERE sourceid = :SOURCEID");
         query.bindValue(":SOURCEID", currentSourceID);
     }
-    query.exec();
+
+    if (!query.exec())
+        MythContext::DBError("ChannelEditor Delete Channels", query);
 
     list->fillSelections();
 }
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/channelutil.cpp mythtv-0.20-new/libs/libmythtv/channelutil.cpp
--- mythtv-0.20-old/libs/libmythtv/channelutil.cpp	2006-08-23 17:52:42.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/channelutil.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -1435,64 +1435,43 @@
     if (it == sorted.end())
         return 0; // no channels..
 
+    DBChanList::const_iterator start = it;
     bool skip_non_visible = true; // TODO make DB selectable
-    if (skip_non_visible)
+
+    if (CHANNEL_DIRECTION_DOWN == direction)
     {
-        DBChanList::const_iterator start = it;
-        if (CHANNEL_DIRECTION_DOWN == direction)
-        {
-            do
-            {
-                if (it == sorted.begin())
-                {
-                    it = find(sorted.begin(), sorted.end(),
-                              sorted.rbegin()->chanid);
-                }
-                else
-                {
-                    it--;
-                }
-            } while ((it != start) && !it->visible);
-        }
-        else if (CHANNEL_DIRECTION_UP == direction)
+        do
         {
-            do
-            {
-                it++;
-                it = (it == sorted.end()) ? sorted.begin() : it;
-            } while ((it != start) && !it->visible);
-        }
-    }
-    else if (CHANNEL_DIRECTION_DOWN == direction)
-    {
-        if (it == sorted.begin())
-            return sorted.rbegin()->chanid;
-        it--;
+            if (it == sorted.begin())
+                it = find(sorted.begin(), sorted.end(),
+                          sorted.rbegin()->chanid);
+            else
+                it--;
+        } while ((it != start) && skip_non_visible && !it->visible);
+
     }
     else if (CHANNEL_DIRECTION_UP == direction)
     {
-        it++;
-        it = (it == sorted.end()) ? sorted.begin() : it;
+        do
+        {
+            it++;
+            if (it == sorted.end())
+                it = sorted.begin();
+        } while ((it != start) && skip_non_visible && !it->visible);
     }
     else if (CHANNEL_DIRECTION_FAVORITE == direction)
     {
-        DBChanList::const_iterator it_orig = it;
-        for (;;++it)
+        do
         {
-            it = (it == sorted.end()) ? sorted.begin() : it;
+            it++;
+            if (it == sorted.end())
+                it = sorted.begin();
 
-            if (it == it_orig)
-            {
-                if (!it->favorite)
-                    ++it;
-                it = (it == sorted.end()) ? sorted.begin() : it;
-                break; // no (other?) favorites
-            }
-
-            if (it->favorite)
-                break; // found next favorite
-        }
+        } while ((it != start) &&
+                 (!it->favorite || (skip_non_visible && !it->visible)));
     }
 
     return it->chanid;
 }
+
+/* vim: set expandtab tabstop=4 shiftwidth=4: */
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/dbcheck.cpp mythtv-0.20-new/libs/libmythtv/dbcheck.cpp
--- mythtv-0.20-old/libs/libmythtv/dbcheck.cpp	2006-09-10 21:35:19.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/dbcheck.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -10,7 +10,7 @@
 #include "mythdbcon.h"
 
 /// This is the DB schema version expected by the running MythTV instance.
-const QString currentDatabaseVersion = "1158";
+const QString currentDatabaseVersion = "1160";
 
 static bool UpdateDBVersionNumber(const QString &newnumber);
 static bool performActualUpdate(const QString updates[], QString version,
@@ -2510,6 +2510,41 @@
             return false;
     }
 
+    if (dbver == "1158")
+    {
+        const QString updates[] = {
+"ALTER TABLE recorded ADD COLUMN watched TINYINT NOT NULL DEFAULT '0';",
+""
+};
+
+        if (!performActualUpdate(updates, "1159", dbver))
+            return false;
+    }
+
+    if (dbver == "1159")
+    {
+        MSqlQuery query(MSqlQuery::InitCon());
+        query.prepare("SELECT DISTINCT chanid, starttime FROM recordedmarkup "
+                      "WHERE type = 1;");
+        if (query.exec() && query.isActive() && query.size() > 0)
+        {
+            MSqlQuery fixup(MSqlQuery::InitCon());
+            while (query.next())
+            {
+                fixup.prepare(
+                       "UPDATE recorded SET cutlist = 1 "
+                       "WHERE chanid = :CHANID AND starttime =  :STARTTIME;");
+                fixup.bindValue(":CHANID", query.value(0).toString());
+                fixup.bindValue(":STARTTIME", query.value(1).toDateTime());
+
+                fixup.exec();
+            }
+        }
+
+        const QString updates[] = { "" };
+        if (!performActualUpdate(updates, "1160", dbver))
+            return false;
+    }
 
 //"ALTER TABLE capturecard DROP COLUMN dvb_recordts;" in 0.21
 //"ALTER TABLE capturecard DROP COLUMN dvb_hw_decoder;" in 0.21
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/diseqc.cpp mythtv-0.20-new/libs/libmythtv/diseqc.cpp
--- mythtv-0.20-old/libs/libmythtv/diseqc.cpp	2006-08-08 08:48:57.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/diseqc.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -450,7 +450,7 @@
     ApplyVoltage(settings, tuning);
 
     // turn off tone burst first if commands need to be sent
-    if (m_root->IsCommandNeeded(settings))
+    if (m_root->IsCommandNeeded(settings, tuning))
     {
         SetTone(false);
         usleep(DISEQC_SHORT_WAIT);
@@ -969,41 +969,40 @@
     if (pos < 0)
         return false;
 
-    // determine if switch command needs to be sent based on last pos
-    if ((m_last_pos == (uint)pos) && m_children[pos])
-        return m_children[pos]->Execute(settings, tuning);
-
     // perform switching
-    switch (m_type)
+    if (ShouldSwitch(settings, tuning))
     {
-        case kTypeTone:
-            success = ExecuteTone(settings, tuning, pos);
-            break;
-        case kTypeDiSEqCCommitted:
-        case kTypeDiSEqCUncommitted:
-            success = ExecuteDiseqc(settings, tuning, pos);
-            break;
-        case kTypeLegacySW21:
-        case kTypeLegacySW42:
-        case kTypeLegacySW64:
-            success = ExecuteLegacy(settings, tuning, pos);
-            break;
-        default:
-            success = false;
-            VERBOSE(VB_IMPORTANT, LOC_ERR +
-                    QString("Unknown switch type (%1)")
-                    .arg((uint)m_type));
-            break;
-    }
+        switch (m_type)
+        {
+            case kTypeTone:
+                success = ExecuteTone(settings, tuning, pos);
+                break;
+            case kTypeDiSEqCCommitted:
+            case kTypeDiSEqCUncommitted:
+                success = ExecuteDiseqc(settings, tuning, pos);
+                break;
+            case kTypeLegacySW21:
+            case kTypeLegacySW42:
+            case kTypeLegacySW64:
+                success = ExecuteLegacy(settings, tuning, pos);
+                break;
+            default:
+                success = false;
+                VERBOSE(VB_IMPORTANT, LOC_ERR +
+                        QString("Unknown switch type (%1)")
+                        .arg((uint)m_type));
+                break;
+        }
 
-    // if a child device will be sending a diseqc command, wait 100ms
-    if (m_children[pos]->IsCommandNeeded(settings))
-    {
-        VERBOSE(VB_CHANNEL, LOC + "Waiting for switch");
-        usleep(DISEQC_LONG_WAIT);
-    }
+        // if a child device will be sending a diseqc command, wait 100ms
+        if (m_children[pos]->IsCommandNeeded(settings, tuning))
+        {
+            VERBOSE(VB_CHANNEL, LOC + "Waiting for switch");
+            usleep(DISEQC_LONG_WAIT);
+        }
 
-    m_last_pos = pos;
+        m_last_pos = pos;
+    }
 
     // chain to child if the switch was successful
     if (success)
@@ -1015,6 +1014,8 @@
 void DiSEqCDevSwitch::Reset(void)
 {
     m_last_pos = (uint) -1;
+    m_last_high_band = (uint) -1;
+    m_last_horizontal = (uint) -1;
     dvbdev_vec_t::iterator it = m_children.begin();
     for (; it != m_children.end(); ++it)
     {
@@ -1023,19 +1024,15 @@
     }
 }
 
-bool DiSEqCDevSwitch::IsCommandNeeded(const DiSEqCDevSettings &settings) const
+bool DiSEqCDevSwitch::IsCommandNeeded(const DiSEqCDevSettings &settings,
+                                      const DVBTuning         &tuning) const
 {
-    // sanity check switch position
     int pos = GetPosition(settings);
     if (pos < 0)
         return false;
 
-    // if position is changing, a command is definitely needed
-    if ((uint)pos != m_last_pos)
-        return true;
-
-    // otherwise, the child that will be selected may need a command
-    return m_children[pos]->IsCommandNeeded(settings);
+    return (ShouldSwitch(settings, tuning) ||
+            m_children[pos]->IsCommandNeeded(settings, tuning));
 }
 
 DiSEqCDevDevice *DiSEqCDevSwitch::GetSelectedChild(const DiSEqCDevSettings &settings) const
@@ -1106,7 +1103,7 @@
     // populate switch parameters from db
     MSqlQuery query(MSqlQuery::InitCon());
     query.prepare(
-        "SELECT subtype, switch_ports "
+        "SELECT subtype, switch_ports, cmd_repeat "
         "FROM diseqc_tree "
         "WHERE diseqcid = :DEVID");
     query.bindValue(":DEVID", GetDeviceID());
@@ -1120,6 +1117,7 @@
     {
         m_type = SwitchTypeFromString(query.value(0).toString());
         m_num_ports = query.value(1).toUInt();
+        m_repeat = query.value(2).toUInt();
         m_children.resize(m_num_ports);
         for (uint i = 0; i < m_num_ports; i++)
             m_children[i] = NULL;
@@ -1169,7 +1167,8 @@
             "    type         = 'switch', "
             "    description  = :DESC, "
             "    subtype      = :TYPE, "
-            "    switch_ports = :PORTS "
+            "    switch_ports = :PORTS, "
+            "    cmd_repeat   = :REPEAT "
             "WHERE diseqcid = :DEVID");
     }
     else
@@ -1177,10 +1176,12 @@
         query.prepare(
             "INSERT INTO diseqc_tree"
             " ( parentid,      ordinal,         type, "
-            "   description,   subtype,         switch_ports) "
+            "   description,   subtype,         switch_ports, "
+            "   cmd_repeat )"
             "VALUES "
             " (:PARENT,       :ORDINAL,         'switch', "
-            "  :DESC,         :TYPE,            :PORTS)");
+            "  :DESC,         :TYPE,            :PORTS, "
+            "  :REPEAT )");
     }
 
     if (m_parent)
@@ -1190,6 +1191,7 @@
     query.bindValue(":DESC",    GetDescription());
     query.bindValue(":TYPE",    type);
     query.bindValue(":PORTS",   m_num_ports);
+    query.bindValue(":REPEAT",  m_repeat);
     query.bindValue(":DEVID",   GetDeviceID());
 
     if (!query.exec())
@@ -1348,6 +1350,46 @@
     return false;
 }
 
+bool DiSEqCDevSwitch::ShouldSwitch(const DiSEqCDevSettings &settings,
+                                   const DVBTuning &tuning) const
+{
+    int pos = GetPosition(settings);
+    if (pos < 0)
+        return false;
+
+    // committed switch should change for band and polarity as well
+    if (kTypeDiSEqCCommitted == m_type)
+    {
+        // retrieve LNB info
+        bool high_band  = false;
+        bool horizontal = false;
+        DiSEqCDevLNB *lnb  = m_tree.FindLNB(settings);
+        if (lnb)
+        {
+            high_band   = lnb->IsHighBand(tuning);
+            horizontal  = lnb->IsHorizontal(tuning);
+        }
+
+        if(high_band != m_last_high_band ||
+           horizontal != m_last_horizontal)
+            return true;
+    }
+    else if (kTypeLegacySW42 == m_type ||
+             kTypeLegacySW64 == m_type)
+    {
+        // retrieve LNB info
+        bool horizontal = false;
+        DiSEqCDevLNB *lnb  = m_tree.FindLNB(settings);
+        if (lnb)
+            horizontal  = lnb->IsHorizontal(tuning);
+
+        if (horizontal != m_last_horizontal)
+            return true;
+    }
+
+    return m_last_pos != (uint)pos;
+}
+
 bool DiSEqCDevSwitch::ExecuteDiseqc(const DiSEqCDevSettings &settings,
                                     const DVBTuning &tuning,
                                     uint pos)
@@ -1385,7 +1427,13 @@
     VERBOSE(VB_CHANNEL, LOC + "Changing to DiSEqC switch port " +
             QString("%1/%2").arg(pos + 1).arg(m_num_ports));
 
-    return m_tree.SendCommand(DISEQC_ADR_SW_ALL, cmd, m_repeat, 1, &data);
+    bool ret = m_tree.SendCommand(DISEQC_ADR_SW_ALL, cmd, m_repeat, 1, &data);
+    if(ret)
+    {
+        m_last_high_band = high_band;
+        m_last_horizontal = horizontal;
+    }
+    return ret;
 }
 
 int DiSEqCDevSwitch::GetPosition(const DiSEqCDevSettings &settings) const
@@ -1490,7 +1538,8 @@
         m_child->Reset();
 }
 
-bool DiSEqCDevRotor::IsCommandNeeded(const DiSEqCDevSettings &settings) const
+bool DiSEqCDevRotor::IsCommandNeeded(const DiSEqCDevSettings &settings,
+                                     const DVBTuning         &tuning) const
 {
     double position = settings.GetValue(GetDeviceID());
 
@@ -1498,7 +1547,7 @@
         return true;
 
     if (m_child)
-        return m_child->IsCommandNeeded(settings);
+        return m_child->IsCommandNeeded(settings, tuning);
 
     return false;
 }
@@ -1528,15 +1577,20 @@
     return true;
 }
 
-uint DiSEqCDevRotor::GetVoltage(const DiSEqCDevSettings &settings,
-                                const DVBTuning         &tuning) const
+bool DiSEqCDevRotor::IsMoving(const DiSEqCDevSettings &settings) const
 {
     double position = settings.GetValue(GetDeviceID());
     double completed = GetProgress();
     bool   moving   = (completed < 1.0) || (position != m_last_position);
 
+    return (m_last_pos_known && moving);
+}
+
+uint DiSEqCDevRotor::GetVoltage(const DiSEqCDevSettings &settings,
+                                const DVBTuning         &tuning) const
+{
     // override voltage if the last position is known and the rotor is moving
-    if (m_last_pos_known && moving)
+    if (IsMoving(settings))
     {
         VERBOSE(VB_CHANNEL, LOC +
                 "Overriding voltage to 18V for faster rotor movement");
@@ -1555,7 +1609,8 @@
     MSqlQuery query(MSqlQuery::InitCon());
     query.prepare(
         "SELECT subtype,         rotor_positions, "
-        "       rotor_hi_speed,  rotor_lo_speed "
+        "       rotor_hi_speed,  rotor_lo_speed, "
+        "       cmd_repeat "
         "FROM diseqc_tree "
         "WHERE diseqcid = :DEVID");
     query.bindValue(":DEVID", GetDeviceID());
@@ -1570,6 +1625,7 @@
         m_type     = RotorTypeFromString(query.value(0).toString());
         m_speed_hi = query.value(2).toDouble();
         m_speed_lo = query.value(3).toDouble();
+        m_repeat   = query.value(4).toUInt();
 
         // form of "angle1=index1:angle2=index2:..."
         QString positions = query.value(1).toString();
@@ -1639,7 +1695,8 @@
             "    subtype         = :TYPE,    "
             "    rotor_hi_speed  = :HISPEED, "
             "    rotor_lo_speed  = :LOSPEED, "
-            "    rotor_positions = :POSMAP   "
+            "    rotor_positions = :POSMAP,  "
+            "    cmd_repeat      = :REPEAT   "
             "WHERE diseqcid = :DEVID");
     }
     else
@@ -1648,11 +1705,11 @@
             "INSERT INTO diseqc_tree "
             " ( parentid,       ordinal,         type,   "
             "   description,    subtype,         rotor_hi_speed, "
-            "   rotor_lo_speed, rotor_positions ) "
+            "   rotor_lo_speed, rotor_positions, cmd_repeat ) "
             "VALUES "
             " (:PARENT,         :ORDINAL,        'rotor',  "
             "  :DESC,           :TYPE,           :HISPEED, "
-            "  :LOSPEED,        :POSMAP )");
+            "  :LOSPEED,        :POSMAP,         :REPEAT )");
     }
 
     if (m_parent)
@@ -1664,6 +1721,7 @@
     query.bindValue(":HISPEED", m_speed_hi);
     query.bindValue(":LOSPEED", m_speed_lo);
     query.bindValue(":POSMAP",  posmap);
+    query.bindValue(":REPEAT",  m_repeat);
     query.bindValue(":DEVID",   GetDeviceID());
 
     if (!query.exec())
@@ -1883,7 +1941,8 @@
     MSqlQuery query(MSqlQuery::InitCon());
     query.prepare(
         "SELECT subtype,         lnb_lof_switch, "
-        "       lnb_lof_hi,      lnb_lof_lo "
+        "       lnb_lof_hi,      lnb_lof_lo, "
+        "       cmd_repeat "
         "FROM diseqc_tree "
         "WHERE diseqcid = :DEVID");
     query.bindValue(":DEVID", GetDeviceID());
@@ -1899,6 +1958,7 @@
         m_lof_switch = query.value(1).toInt();
         m_lof_hi     = query.value(2).toInt();
         m_lof_lo     = query.value(3).toInt();
+        m_repeat     = query.value(4).toUInt();
     }
 
     return true;
@@ -1921,7 +1981,8 @@
             "    subtype         = :TYPE,    "
             "    lnb_lof_switch  = :LOFSW,   "
             "    lnb_lof_lo      = :LOFLO,   "
-            "    lnb_lof_hi      = :LOFHI    "
+            "    lnb_lof_hi      = :LOFHI,   "
+            "    cmd_repeat      = :REPEAT   "
             "WHERE diseqcid = :DEVID");
     }
     else
@@ -1930,11 +1991,11 @@
             "INSERT INTO diseqc_tree"
             " ( parentid,      ordinal,         type, "
             "   description,   subtype,         lnb_lof_switch, "
-            "   lnb_lof_lo,    lnb_lof_hi ) "
+            "   lnb_lof_lo,    lnb_lof_hi,      cmd_repeat ) "
             "VALUES "
             " (:PARENT,       :ORDINAL,         'lnb', "
             "  :DESC,         :TYPE,            :LOFSW, "
-            "  :LOFLO,        :LOFHI ) ");
+            "  :LOFLO,        :LOFHI,           :REPEAT ) ");
     }
 
     if (m_parent)
@@ -1946,6 +2007,7 @@
     query.bindValue(":LOFSW",   m_lof_switch);
     query.bindValue(":LOFLO",   m_lof_lo);
     query.bindValue(":LOFHI",   m_lof_hi);
+    query.bindValue(":REPEAT",  m_repeat);
     query.bindValue(":DEVID",   GetDeviceID());
 
     // update dev_id
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/diseqc.h mythtv-0.20-new/libs/libmythtv/diseqc.h
--- mythtv-0.20-old/libs/libmythtv/diseqc.h	2006-07-18 09:18:43.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/diseqc.h	2007-06-23 18:32:02.000000000 -0700
@@ -147,6 +147,7 @@
     void SetParent(DiSEqCDevDevice* parent)  { m_parent   = parent;  }
     void SetOrdinal(uint ordinal)            { m_ordinal  = ordinal; }
     void SetDescription(const QString &desc) { m_desc     = desc;    }
+    void SetRepeatCount(uint repeat)         { m_repeat   = repeat;  }
     virtual bool SetChild(uint, DiSEqCDevDevice*){return false;      }
 
     // Gets
@@ -157,9 +158,11 @@
     DiSEqCDevDevice *GetParent(void)   const { return m_parent;      }
     uint          GetOrdinal(void)     const { return m_ordinal;     }
     QString       GetDescription(void) const { return m_desc;        }
+    uint          GetRepeatCount(void) const { return m_repeat;      }
     virtual uint  GetChildCount(void)  const { return 0;             }
     virtual bool  IsCommandNeeded(
-        const DiSEqCDevSettings&)      const { return false;         }
+        const DiSEqCDevSettings&, const DVBTuning&)
+                                       const { return false;         }
     virtual uint  GetVoltage(
         const DiSEqCDevSettings&, const DVBTuning&) const = 0;
 
@@ -230,8 +233,11 @@
     // Gets
     dvbdev_switch_t GetType(void)       const { return m_type;      }
     uint            GetNumPorts(void)   const { return m_num_ports; }
+    bool            ShouldSwitch(const DiSEqCDevSettings &settings,
+                                 const DVBTuning &tuning) const;
     virtual uint    GetChildCount(void) const;
-    virtual bool    IsCommandNeeded(const DiSEqCDevSettings&) const;
+    virtual bool    IsCommandNeeded(const DiSEqCDevSettings&,
+                                    const DVBTuning&) const;
     virtual uint    GetVoltage(const DiSEqCDevSettings&,
                                const DVBTuning&) const;
 
@@ -257,6 +263,8 @@
     dvbdev_switch_t m_type;
     uint            m_num_ports;
     uint            m_last_pos;
+    uint            m_last_high_band;
+    uint            m_last_horizontal;
     dvbdev_vec_t    m_children;
 
     static const TypeTable SwitchTypeTable[7];
@@ -291,7 +299,9 @@
     double         GetProgress(void)     const;
     bool           IsPositionKnown(void) const;
     virtual uint   GetChildCount(void)   const { return 1;           }
-    virtual bool   IsCommandNeeded(const DiSEqCDevSettings&) const;
+    virtual bool   IsCommandNeeded(const DiSEqCDevSettings&,
+                                   const DVBTuning&) const;
+    bool           IsMoving(const DiSEqCDevSettings&) const;
     virtual uint   GetVoltage(const DiSEqCDevSettings&,
                               const DVBTuning&) const;
 
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/diseqcsettings.cpp mythtv-0.20-new/libs/libmythtv/diseqcsettings.cpp
--- mythtv-0.20-old/libs/libmythtv/diseqcsettings.cpp	2006-08-11 08:20:51.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/diseqcsettings.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -96,6 +96,36 @@
     DiSEqCDevDevice &m_device;
 };
 
+
+//////////////////////////////////////// DeviceRepeatSetting
+
+class DeviceRepeatSetting : public SpinBoxSetting
+{
+  public:
+    DeviceRepeatSetting(DiSEqCDevDevice &device) :
+        SpinBoxSetting(1, 5, 1), m_device(device)
+    {
+        setLabel(DeviceTree::tr("Repeat Count"));
+        QString help = DeviceTree::tr(
+            "Number of times to repeat DiSEqC commands sent to this device. "
+            "Larger values may help with less reliable devices.");
+        setHelpText(help);
+    }
+
+    virtual void load(void)
+    {
+        setValue(m_device.GetRepeatCount());
+    }
+
+    virtual void save(void)
+    {
+        m_device.SetRepeatCount(getValue().toUInt());
+    }
+
+  private:
+    DiSEqCDevDevice &m_device;
+};
+
 //////////////////////////////////////// SwitchTypeSetting
 
 class SwitchTypeSetting : public ComboBoxSetting
@@ -171,6 +201,7 @@
     group->setLabel(DeviceTree::tr("Switch Configuration"));
 
     group->addChild(new DeviceDescrSetting(switch_dev));
+    group->addChild(new DeviceRepeatSetting(switch_dev));
     m_type = new SwitchTypeSetting(switch_dev);
     group->addChild(m_type);
     m_ports = new SwitchPortsSetting(switch_dev);
@@ -408,6 +439,7 @@
     group->setLabel(DeviceTree::tr("Rotor Configuration"));
 
     group->addChild(new DeviceDescrSetting(rotor));
+    group->addChild(new DeviceRepeatSetting(rotor));
 
     ConfigurationGroup *tgroup =
         new HorizontalConfigurationGroup(false, false, true, true);
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/dtvconfparserhelpers.cpp mythtv-0.20-new/libs/libmythtv/dtvconfparserhelpers.cpp
--- mythtv-0.20-old/libs/libmythtv/dtvconfparserhelpers.cpp	1969-12-31 16:00:00.000000000 -0800
+++ mythtv-0.20-new/libs/libmythtv/dtvconfparserhelpers.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -0,0 +1,351 @@
+#include "mythcontext.h"
+#include "dtvconfparserhelpers.h"
+
+bool DTVParamHelper::ParseParam(const QString &symbol, int &value,
+                                const DTVParamHelperStruct *table)
+{
+    const DTVParamHelperStruct *p = table;
+
+    while (p->symbol != NULL)
+    {
+        if (p->symbol == symbol.left(p->symbol.length()))
+        {
+            //symbol = symbol.mid(p->symbol.length());
+            value = p->value;
+            return true;
+        }
+        p++;
+    }
+
+    return false;
+}
+
+QString DTVParamHelper::toString(const char *strings[], int index,
+                                 uint strings_size)
+{
+    if ((index < 0) || ((uint)index >= strings_size))
+    {
+        VERBOSE(VB_IMPORTANT,
+                "DTVParamHelper::toString() index out of bounds");
+
+        return QString::null;
+    }
+
+    return strings[index];
+}
+
+const DTVParamHelperStruct DTVInversion::confTable[] =
+{
+   { "INVERSION_AUTO", kInversionAuto },
+   { "INVERSION_OFF",  kInversionOff  },
+   { "INVERSION_ON",   kInversionOn   },
+   { NULL,             kInversionAuto },
+};
+
+const DTVParamHelperStruct DTVInversion::vdrTable[] =
+{
+   { "999", kInversionAuto },
+   { "0",   kInversionOff  },
+   { "1",   kInversionOn   },
+   { NULL,  kInversionAuto },
+};
+
+const DTVParamHelperStruct DTVInversion::parseTable[] =
+{
+   { "a",  kInversionAuto },
+   { "0",  kInversionOff  },
+   { "1",  kInversionOn   },
+   { NULL, kInversionAuto },
+};
+
+const char *DTVInversion::dbStr[DTVInversion::kDBStrCnt] =
+{
+    "0", ///< kInversionOff
+    "1", ///< kInversionOn
+    "a"  ///< kInversionAuto
+};
+
+const DTVParamHelperStruct DTVBandwidth::confTable[] =
+{
+   { "BANDWIDTH_AUTO",  kBandwidthAuto },
+   { "BANDWIDTH_8_MHZ", kBandwidth8Mhz },
+   { "BANDWIDTH_7_MHZ", kBandwidth7Mhz },
+   { "BANDWIDTH_6_MHZ", kBandwidth6Mhz },
+   { NULL,              kBandwidthAuto },
+};
+
+const DTVParamHelperStruct DTVBandwidth::vdrTable[] =
+{
+   { "999", kBandwidthAuto },
+   { "8",   kBandwidth8Mhz },
+   { "7",   kBandwidth7Mhz },
+   { "6",   kBandwidth6Mhz },
+   { NULL,  kBandwidthAuto },
+};
+
+const DTVParamHelperStruct DTVBandwidth::parseTable[] =
+{
+   { "auto", kBandwidthAuto },
+   { "8",    kBandwidth8Mhz },
+   { "7",    kBandwidth7Mhz },
+   { "6",    kBandwidth6Mhz },
+   { NULL,   kBandwidthAuto },
+};
+
+const char *DTVBandwidth::dbStr[DTVBandwidth::kDBStrCnt] =
+{
+    "8",   ///< kBandwidth8Mhz
+    "7",   ///< kBandwidth7Mhz
+    "6",   ///< kBandwidth6Mhz
+    "auto" ///< kBandwidthAUTO
+};
+
+const DTVParamHelperStruct DTVCodeRate::confTable[] =
+{
+    { "FEC_AUTO", kFECAuto },
+    { "FEC_1_2",  kFEC_1_2  },
+    { "FEC_2_3",  kFEC_2_3  },
+    { "FEC_3_4",  kFEC_3_4  },
+    { "FEC_4_5",  kFEC_4_5  },
+    { "FEC_5_6",  kFEC_5_6  },
+    { "FEC_6_7",  kFEC_6_7  },
+    { "FEC_7_8",  kFEC_7_8  },
+    { "FEC_8_9",  kFEC_8_9  },
+    { "FEC_NONE", kFECNone },
+    { NULL,       kFECAuto },
+};
+
+const DTVParamHelperStruct DTVCodeRate::vdrTable[] =
+{
+    { "999", kFECAuto },
+    { "12",  kFEC_1_2 },
+    { "23",  kFEC_2_3 },
+    { "34",  kFEC_3_4 },
+    { "45",  kFEC_4_5 },
+    { "56",  kFEC_5_6 },
+    { "67",  kFEC_6_7 },
+    { "78",  kFEC_7_8 },
+    { "89",  kFEC_8_9 },
+    { "0",   kFECNone },
+    { NULL,  kFECAuto }
+};
+
+const DTVParamHelperStruct DTVCodeRate::parseTable[] =
+{
+    { "auto", kFECAuto },
+    { "1/2",  kFEC_1_2 },
+    { "2/3",  kFEC_2_3 },
+    { "3/4",  kFEC_3_4 },
+    { "4/5",  kFEC_4_5 },
+    { "5/6",  kFEC_5_6 },
+    { "6/7",  kFEC_6_7 },
+    { "7/8",  kFEC_7_8 },
+    { "8/9",  kFEC_8_9 },
+    { "none", kFECNone },
+    { NULL,   kFECAuto }
+};
+
+const char *DTVCodeRate::dbStr[DTVCodeRate::kDBStrCnt] =
+{
+     "none", ///< kFECNone
+     "1/2",  ///< kFEC_1_2
+     "2/3",  ///< kFEC_2_3
+     "3/4",  ///< kFEC_3_4
+     "4/5",  ///< kFEC_4_5
+     "5/6",  ///< kFEC_5_6
+     "6/7",  ///< kFEC_6_7
+     "7/8",  ///< kFEC_7_8
+     "8/9",  ///< kFEC_8_9
+     "auto"  ///< kFECAuto
+};
+
+const DTVParamHelperStruct DTVModulation::confTable[] =
+{
+   { "QAM_AUTO", kModulationQAMAuto },
+   { "QAM_16",   kModulationQAM16   },
+   { "QAM_32",   kModulationQAM32   },
+   { "QAM_64",   kModulationQAM64   },
+   { "QAM_128",  kModulationQAM128  },
+   { "QAM_256",  kModulationQAM256  },
+   { "QPSK",     kModulationQPSK    },
+   { "8PSK",     kModulation8PSK    },
+   { NULL,       kModulationQAMAuto },
+};
+
+const DTVParamHelperStruct DTVModulation::vdrTable[] =
+{
+   { "999", kModulationQAMAuto },
+   { "16",  kModulationQAM16   },
+   { "32",  kModulationQAM32   },
+   { "64",  kModulationQAM64   },
+   { "128", kModulationQAM128  },
+   { "256", kModulationQAM256  },
+   { "0",   kModulationQPSK    },
+   { NULL,  kModulationQAMAuto },
+};
+
+const DTVParamHelperStruct DTVModulation::parseTable[] =
+{
+   { "auto",     kModulationQAMAuto },
+   { "qam_16",   kModulationQAM16   },
+   { "qam_32",   kModulationQAM32   },
+   { "qam_64",   kModulationQAM64   },
+   { "qam_128",  kModulationQAM128  },
+   { "qam_256",  kModulationQAM256  },
+   { "qpsk",     kModulationQPSK    },
+   { "8vsb",     kModulation8VSB    },
+   { "16vsb",    kModulation16VSB   },
+   { "8psk",     kModulation8PSK    },
+   // alternates from dvbtypes
+   { "a",        kModulationQAMAuto },
+   { "qam_auto", kModulationQAMAuto },
+   { "qam-16",   kModulationQAM16   },
+   { "qam-32",   kModulationQAM32   },
+   { "qam-64",   kModulationQAM64   },
+   { "qam-128",  kModulationQAM128  },
+   { "qam-256",  kModulationQAM256  },
+   { "8-vsb",    kModulation8VSB    },
+   { "16-vsb",   kModulation16VSB   },
+   { "8-psk",    kModulation8PSK    },
+   { NULL,       kModulationQAMAuto },
+};
+
+const char *DTVModulation::dbStr[DTVModulation::kDBStrCnt] =
+{
+    "qpsk",    ///< kModulationQPSK,
+    "qam_16",  ///< kModulationQAM16
+    "qam_32",  ///< kModulationQAM32
+    "qam_64",  ///< kModulationQAM64
+    "qam_128", ///< kModulationQAM128
+    "qam_256", ///< kModulationQAM256
+    "auto",    ///< kModulationQAMAuto
+    "8vsb",    ///< kModulation8VSB
+    "16vsb",   ///< kModulation16VSB
+    "8psk",    ///< kModulation8PSK
+};
+
+const DTVParamHelperStruct DTVTransmitMode::confTable[] =
+{
+   { "TRANSMISSION_MODE_AUTO", kTransmissionModeAuto },
+   { "TRANSMISSION_MODE_2K",   kTransmissionMode2K   },
+   { "TRANSMISSION_MODE_8K",   kTransmissionMode8K   },
+   { NULL,                     kTransmissionModeAuto },
+};
+
+const DTVParamHelperStruct DTVTransmitMode::vdrTable[] =
+{
+   { "999", kTransmissionModeAuto },
+   { "2",   kTransmissionMode2K   },
+   { "8",   kTransmissionMode8K   },
+   { NULL,  kTransmissionModeAuto },
+};
+
+const DTVParamHelperStruct DTVTransmitMode::parseTable[] =
+{
+   { "auto", kTransmissionModeAuto },
+   { "2",    kTransmissionMode2K   },
+   { "8",    kTransmissionMode8K   },
+   { NULL,   kTransmissionModeAuto },
+};
+
+const char *DTVTransmitMode::dbStr[DTVTransmitMode::kDBStrCnt] =
+{
+    "2",   ///< kTransmissionMode2K
+    "8",   ///< kTransmissionMode8K
+    "auto" ///< kTransmissionModeAuto
+};
+
+const DTVParamHelperStruct DTVGuardInterval::confTable[] =
+{
+   { "GUARD_INTERVAL_AUTO", kGuardIntervalAuto  },
+   { "GUARD_INTERVAL_1_32", kGuardInterval_1_32 },
+   { "GUARD_INTERVAL_1_16", kGuardInterval_1_16 },
+   { "GUARD_INTERVAL_1_8",  kGuardInterval_1_8  },
+   { "GUARD_INTERVAL_1_4",  kGuardInterval_1_4  },
+   { NULL,                  kGuardIntervalAuto  },
+};
+
+const DTVParamHelperStruct DTVGuardInterval::vdrTable[] =
+{
+   { "999", kGuardIntervalAuto  },
+   { "32",  kGuardInterval_1_32 },
+   { "16",  kGuardInterval_1_16 },
+   { "8",   kGuardInterval_1_8  },
+   { "4",   kGuardInterval_1_4  },
+   { NULL,  kGuardIntervalAuto  },
+};
+
+const DTVParamHelperStruct DTVGuardInterval::parseTable[] =
+{
+   { "auto", kGuardIntervalAuto  },
+   { "1/32", kGuardInterval_1_32 },
+   { "1/16", kGuardInterval_1_16 },
+   { "1/8",  kGuardInterval_1_8  },
+   { "1/4",  kGuardInterval_1_4  },
+   { NULL,   kGuardIntervalAuto  },
+};
+
+const char *DTVGuardInterval::dbStr[DTVGuardInterval::kDBStrCnt] =
+{
+    "1/32", ///< kGuardInterval_1_32
+    "1/16", ///< kGuardInterval_1_16
+    "1/8",  ///< kGuardInterval_1_8
+    "1/4",  ///< kGuardInterval_1_4
+    "auto"  ///< kGuardIntervalAuto
+};
+
+const DTVParamHelperStruct DTVHierarchy::confTable[] =
+{
+   { "HIERARCHY_NONE", kHierarchyNone },
+   { "HIERARCHY_1",    kHierarchy1    },
+   { "HIERARCHY_2",    kHierarchy2    },
+   { "HIERARCHY_4",    kHierarchy4    },
+   { "HIERARCHY_AUTO", kHierarchyAuto },
+   { NULL,             kHierarchyAuto },
+};
+
+const DTVParamHelperStruct DTVHierarchy::vdrTable[] =
+{
+   { "0",   kHierarchyNone },
+   { "1",   kHierarchy1    },
+   { "2",   kHierarchy2    },
+   { "4",   kHierarchy4    },
+   { "999", kHierarchyAuto },
+   { NULL,  kHierarchyAuto },
+};
+
+const DTVParamHelperStruct DTVHierarchy::parseTable[] =
+{
+   { "n",  kHierarchyNone },
+   { "1",  kHierarchy1    },
+   { "2",  kHierarchy2    },
+   { "4",  kHierarchy4    },
+   { "a",  kHierarchyAuto },
+   { NULL, kHierarchyAuto },
+};
+
+const char *DTVHierarchy::dbStr[DTVHierarchy::kDBStrCnt] =
+{
+    "n", ///< kHierarchyNone
+    "1", ///< kHierarchy1
+    "2", ///< kHierarchy2
+    "4", ///< kHierarchy4
+    "a"  ///< kHierarchyAuto
+};
+
+const DTVParamHelperStruct DTVPolarity::parseTable[] =
+{
+    { "v",  kPolarityVertical   },
+    { "h",  kPolarityHorizontal },
+    { "r",  kPolarityRight      },
+    { "l",  kPolarityLeft       },
+    { NULL, kPolarityVertical   },
+};
+
+const char *DTVPolarity::dbStr[DTVPolarity::kDBStrCnt] =
+{
+   "v", ///< kPolarityVertical
+   "h", ///< kPolarityHorizontal
+   "r", ///< kPolarityRight
+   "l"  ///< kPolarityLeft
+};
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/dtvconfparserhelpers.h mythtv-0.20-new/libs/libmythtv/dtvconfparserhelpers.h
--- mythtv-0.20-old/libs/libmythtv/dtvconfparserhelpers.h	1969-12-31 16:00:00.000000000 -0800
+++ mythtv-0.20-new/libs/libmythtv/dtvconfparserhelpers.h	2007-06-23 18:32:02.000000000 -0700
@@ -0,0 +1,348 @@
+/* -*- Mode: c++ -*-
+ * vim: set expandtab tabstop=4 shiftwidth=4:
+ *
+ * Original Project
+ *      MythTV      http://www.mythtv.org
+ *
+ * Author(s):
+ *      John Pullan  (john@pullan.org)
+ *
+ * Description:
+ *     Collection of classes to provide dvb channel scanning
+ *     functionallity
+ *
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+ * Or, point your browser to http://www.gnu.org/copyleft/gpl.html
+ *
+ */
+
+#ifndef _DTVCONFPARSERHELPERS_H_
+#define _DTVCONFPARSERHELPERS_H_
+
+#include <qstring.h>
+
+// The following are a set of helper classes to allow easy translation
+// between the different string representations of various tuning params.
+
+struct DTVParamHelperStruct
+{
+    QString symbol;
+    int     value;
+};
+
+/** \class DTVParamHelper
+ *  \brief Helper abstract template to do some of the mundane portions
+ *         of translating and comparing the paramater strings.
+ */
+class DTVParamHelper
+{
+  public:
+    DTVParamHelper(int _value) : value(_value) { }
+
+    operator int()                const { return value;          }
+    int operator=(int _value)           { return value = _value; }
+    bool operator==(const int& v) const { return value == v;     }
+
+  protected:
+    static bool ParseParam(const QString &symbol, int &value,
+                           const DTVParamHelperStruct *table);
+
+    static QString toString(const char *strings[], int index,
+                            uint strings_size);
+
+  protected:
+    int value;
+};
+
+class DTVInversion : public DTVParamHelper
+{
+  protected:
+    static const DTVParamHelperStruct confTable[];
+    static const DTVParamHelperStruct vdrTable[];
+    static const DTVParamHelperStruct parseTable[];
+    static const uint kDBStrCnt = 3;
+    static const char *dbStr[kDBStrCnt];
+
+  public:
+    enum
+    {
+        kInversionOff,
+        kInversionOn,
+        kInversionAuto,
+    };
+
+    DTVInversion(int _default = kInversionAuto)
+        : DTVParamHelper(_default) { }
+
+    bool ParseConf(const QString &_value)
+       { return ParseParam(_value, value, confTable); }
+    bool ParseVDR(const QString &_value)
+       { return ParseParam(_value, value, vdrTable); }
+    bool Parse(const QString &_value)
+       { return ParseParam(_value, value, parseTable); }
+
+    QString toString() const { return toString(value); }
+
+    static QString toString(int _value)
+        { return DTVParamHelper::toString(dbStr, _value, kDBStrCnt); }
+};
+
+class DTVBandwidth : public DTVParamHelper
+{
+  protected:
+    static const DTVParamHelperStruct confTable[];
+    static const DTVParamHelperStruct vdrTable[];
+    static const DTVParamHelperStruct parseTable[];
+    static const uint kDBStrCnt = 4;
+    static const char *dbStr[kDBStrCnt];
+
+  public:
+    enum
+    {
+        kBandwidth8Mhz,
+        kBandwidth7Mhz,
+        kBandwidth6Mhz,
+        kBandwidthAuto,
+    };
+
+    DTVBandwidth(int _default = kBandwidthAuto) : DTVParamHelper(_default) { }
+
+    bool ParseConf(const QString &_value)
+       { return ParseParam(_value, value, confTable); }
+    bool ParseVDR(const QString &_value)
+       { return ParseParam(_value, value, vdrTable); }
+    bool Parse(const QString &_value)
+       { return ParseParam(_value, value, parseTable); }
+
+    QString toString() const { return toString(value); }
+
+    static QString toString(int _value)
+        { return DTVParamHelper::toString(dbStr, _value, kDBStrCnt); }
+};
+
+class DTVCodeRate : public DTVParamHelper
+{
+  protected:
+    static const DTVParamHelperStruct confTable[];
+    static const DTVParamHelperStruct vdrTable[];
+    static const DTVParamHelperStruct parseTable[];
+    static const uint kDBStrCnt = 10;
+    static const char *dbStr[kDBStrCnt];
+
+  public:
+    enum
+    {
+        kFECNone,
+        kFEC_1_2,
+        kFEC_2_3,
+        kFEC_3_4,
+        kFEC_4_5,
+        kFEC_5_6,
+        kFEC_6_7,
+        kFEC_7_8,
+        kFEC_8_9,
+        kFECAuto,
+    };
+
+    DTVCodeRate(int _default = kFECAuto) : DTVParamHelper(_default) { }
+
+    bool ParseConf(const QString &_value)
+       { return ParseParam(_value, value, confTable); }
+    bool ParseVDR(const QString &_value)
+       { return ParseParam(_value, value, vdrTable); }
+    bool Parse(const QString &_value)
+       { return ParseParam(_value, value, parseTable); }
+
+    QString toString() const { return toString(value); }
+
+    static QString toString(int _value)
+        { return DTVParamHelper::toString(dbStr, _value, kDBStrCnt); }
+};
+
+class DTVModulation : public DTVParamHelper
+{
+  protected:
+    static const DTVParamHelperStruct confTable[];
+    static const DTVParamHelperStruct vdrTable[];
+    static const DTVParamHelperStruct parseTable[];
+    static const uint kDBStrCnt = 10;
+    static const char *dbStr[kDBStrCnt];
+
+  public:
+    enum
+    {
+        kModulationQPSK,
+        kModulationQAM16,
+        kModulationQAM32, 
+        kModulationQAM64, 
+        kModulationQAM128,
+        kModulationQAM256,
+        kModulationQAMAuto,
+        kModulation8VSB,
+        kModulation16VSB,
+        kModulation8PSK, 
+    };
+
+    DTVModulation(int _default = kModulationQAMAuto)
+        : DTVParamHelper(_default) { }
+
+    bool ParseConf(const QString &_value)
+       { return ParseParam(_value, value, confTable); }
+    bool ParseVDR(const QString &_value)
+       { return ParseParam(_value, value, vdrTable); }
+    bool Parse(const QString &_value)
+       { return ParseParam(_value, value, parseTable); }
+
+    QString toString() const { return toString(value); }
+
+    static QString toString(int _value)
+        { return DTVParamHelper::toString(dbStr, _value, kDBStrCnt); }
+};
+
+class DTVTransmitMode : public DTVParamHelper
+{
+  protected:
+    static const DTVParamHelperStruct confTable[];
+    static const DTVParamHelperStruct vdrTable[];
+    static const DTVParamHelperStruct parseTable[];
+    static const uint kDBStrCnt = 3;
+    static const char *dbStr[kDBStrCnt];
+
+  public:
+    enum
+    {
+        kTransmissionMode2K,
+        kTransmissionMode8K,
+        kTransmissionModeAuto,
+    };
+
+    DTVTransmitMode(int _default = kTransmissionModeAuto)
+        : DTVParamHelper(_default) { }
+
+    bool ParseConf(const QString &_value)
+       { return ParseParam(_value, value, confTable); }
+    bool ParseVDR(const QString &_value)
+       { return ParseParam(_value, value, vdrTable); }
+    bool Parse(const QString &_value)
+       { return ParseParam(_value, value, parseTable); }
+
+    QString toString() const { return toString(value); }
+    static QString toString(int _value)
+        { return DTVParamHelper::toString(dbStr, _value, kDBStrCnt); }
+};
+
+class DTVGuardInterval : public DTVParamHelper
+{
+  protected:
+    static const DTVParamHelperStruct confTable[];
+    static const DTVParamHelperStruct vdrTable[];
+    static const DTVParamHelperStruct parseTable[];
+    static const uint kDBStrCnt = 5;
+    static const char *dbStr[kDBStrCnt];
+
+  public:
+    enum
+    {
+        kGuardInterval_1_32,
+        kGuardInterval_1_16,
+        kGuardInterval_1_8,
+        kGuardInterval_1_4,
+        kGuardIntervalAuto,
+    };
+
+    DTVGuardInterval(int _default = kGuardIntervalAuto)
+        : DTVParamHelper(_default) { }
+
+    bool ParseConf(const QString &_value)
+       { return ParseParam(_value, value, confTable); }
+    bool ParseVDR(const QString &_value)
+       { return ParseParam(_value, value, vdrTable); }
+    bool Parse(const QString &_value)
+       { return ParseParam(_value, value, parseTable); }
+
+    QString toString() const { return toString(value); }
+
+    static QString toString(int _value)
+        { return DTVParamHelper::toString(dbStr, _value, kDBStrCnt); }
+};
+
+class DTVHierarchy : public DTVParamHelper
+{
+  protected:
+    static const DTVParamHelperStruct confTable[];
+    static const DTVParamHelperStruct vdrTable[];
+    static const DTVParamHelperStruct parseTable[];
+    static const uint kDBStrCnt = 5;
+    static const char *dbStr[kDBStrCnt];
+
+  public:
+    enum
+    {
+        kHierarchyNone,
+        kHierarchy1,
+        kHierarchy2,
+        kHierarchy4,
+        kHierarchyAuto,
+    };
+
+    DTVHierarchy(int _default = kHierarchyAuto) : DTVParamHelper(_default) { }
+
+    bool ParseConf(const QString &_value)
+       { return ParseParam(_value, value, confTable); }
+    bool ParseVDR(const QString &_value)
+       { return ParseParam(_value, value, vdrTable); }
+    bool Parse(const QString &_value)
+       { return ParseParam(_value, value, parseTable); }
+
+    QString toString() const { return toString(value); }
+
+    static QString toString(int _value)
+        { return DTVParamHelper::toString(dbStr, _value, kDBStrCnt); }
+};
+
+class DTVPolarity : public DTVParamHelper
+{
+  protected:
+    static const DTVParamHelperStruct parseTable[];
+    static const uint kDBStrCnt = 4;
+    static const char *dbStr[kDBStrCnt];
+
+  public:
+    enum PolarityValues
+    {
+        kPolarityVertical,
+        kPolarityHorizontal,
+        kPolarityRight,
+        kPolarityLeft
+    };
+
+    DTVPolarity(int _default = kPolarityVertical)
+        : DTVParamHelper(_default) { }
+
+    bool ParseConf(const QString &_value)
+       { return ParseParam(_value, value, parseTable); }
+    bool ParseVDR(const QString &_value)
+       { return ParseParam(_value, value, parseTable); }
+    bool Parse(const QString &_value)
+       { return ParseParam(_value, value, parseTable); }
+
+    QString toString() const { return toString(value); }
+
+    static QString toString(int _value)
+        { return DTVParamHelper::toString(dbStr, _value, kDBStrCnt); }
+};
+
+#endif // _DTVCONFPARSERHELPERS_H_
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/dtvrecorder.cpp mythtv-0.20-new/libs/libmythtv/dtvrecorder.cpp
--- mythtv-0.20-old/libs/libmythtv/dtvrecorder.cpp	2006-05-22 12:08:08.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/dtvrecorder.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -366,8 +366,10 @@
                                           MARK_GOP_BYFRAME);
         _position_map_delta.clear();
 
-        if (ringBuffer)
-            curRecording->SetFilesize(ringBuffer->GetWritePosition());
+        // Stop setting the filesize here until we get the contention issue
+        // between with this thread and the scheduler worked out.
+        //if (ringBuffer)
+        //    curRecording->SetFilesize(ringBuffer->GetWritePosition());
     }
 }
 
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/dvbconfparser.cpp mythtv-0.20-new/libs/libmythtv/dvbconfparser.cpp
--- mythtv-0.20-old/libs/libmythtv/dvbconfparser.cpp	2006-03-11 20:31:03.000000000 -0800
+++ mythtv-0.20-new/libs/libmythtv/dvbconfparser.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -1,5 +1,5 @@
 /*
- * $Id: dvbconfparser.cpp 9334 2006-03-12 04:31:03Z danielk $
+ * $Id: dvbconfparser.cpp 13237 2007-04-14 04:59:17Z jarod $
  * vim: set expandtab tabstop=4 shiftwidth=4:
  *
  * Original Project
@@ -29,558 +29,308 @@
  * Or, point your browser to http://www.gnu.org/copyleft/gpl.html
  *
  */
-#include <qobject.h>
+
+// Qt headers
+#include <qstringlist.h>
+#include <qdeepcopy.h>
 #include <qfile.h>
-#include <qapplication.h>
+
+// MythTV headers
 #include "mythcontext.h"
-#include "dvbtypes.h"
-#include "dvbconfparser.h"
 #include "mythdbcon.h"
+#include "dvbconfparser.h"
 #include "channelutil.h"
 
-void DVBConfParser::Multiplex::dump()
+#define PARSE_SKIP(VAR) do { \
+    if (it == tokens.end()) return false; else it++; } while(0)
+
+#define PARSE_CONF(VAR) do { \
+    if (it == tokens.end() || !VAR.ParseConf(*it++)) \
+        return false; } while(0)
+
+#define PARSE_STR(VAR) do { \
+    if (it != tokens.end()) VAR = *it++; else return false; } while(0)
+
+#define PARSE_UINT(VAR) do { \
+    if (it != tokens.end()) \
+         VAR = (*it++).toUInt(); else return false; } while(0)
+
+#define PARSE_UINT_1000(VAR) do { \
+    if (it != tokens.end()) \
+         VAR = (*it++).toUInt() * 1000ULL; else return false; } while(0)
+
+
+QString DTVMultiplex::toString() const
 {
-    cerr << frequency<<" "<<inversion.toString()<<" "<<bandwidth.toString()<<" "<<coderate_hp.toString()<<" "<<coderate_lp.toString()<<" "<<constellation.toString()<<" "<<modulation.toString()<<" "<<transmit_mode.toString()<<" "<<guard_interval.toString()<<" "<<hierarchy.toString()<<" "<<polarity.toString()<<" "<<mplexid<<endl;
+    QString ret = QString("%1 %2 %3 ")
+        .arg(frequency).arg(modulation.toString()).arg(inversion.toString());
+
+    ret += QString("%1 %2 %3 %4 %5 %6 %7 %8")
+        .arg(hp_code_rate.toString()).arg(lp_code_rate.toString())
+        .arg(constellation.toString()).arg(bandwidth.toString())
+        .arg(trans_mode.toString()).arg(guard_interval.toString())
+        .arg(hierarchy.toString()).arg(polarity.toString());
+
+    return ret;
 }
- 
-void DVBConfParser::Channel::dump()
+
+bool DTVMultiplex::operator==(const DTVMultiplex &m) const
 {
-    cerr<<lcn<<" "<<mplexnumber<<" "<<name<<" "<<frequency<<" "<<inversion.toString()<<" "<<bandwidth.toString()<<" "<<coderate_hp.toString()<<" "<<coderate_lp.toString()<<" "<<constellation.toString()<<" "<<transmit_mode.toString()<<" "<<guard_interval.toString()<<" "<<hierarchy.toString()<<" "<<polarity.toString()<<" "<<serviceid<<endl;
+    return ((frequency == m.frequency) &&
+            (modulation == m.modulation) &&
+            (inversion == m.inversion) &&
+            (bandwidth == m.bandwidth) &&
+            (hp_code_rate == m.hp_code_rate) &&
+            (lp_code_rate == m.lp_code_rate) &&
+            (constellation == m.constellation) &&
+            (trans_mode == m.trans_mode) &&
+            (guard_interval == m.guard_interval) &&
+            (fec == m.fec) &&
+            (polarity == m.polarity) &&
+            (hierarchy == m.hierarchy));
 }
 
-bool DVBConfParser::Multiplex::operator==(const Multiplex& m) const
-{
-    if ((frequency == m.frequency) &&
-        (inversion == m.inversion) &&
-        (bandwidth == m.bandwidth) &&
-        (coderate_hp == m.coderate_hp) &&
-        (coderate_lp == m.coderate_lp) &&
-        (constellation == m.constellation) &&
-        (transmit_mode == m.transmit_mode) &&
-        (guard_interval == m.guard_interval) &&
-        (fec == m.fec) &&
-        (polarity == m.polarity) &&
-        (hierarchy == m.hierarchy))
-        return true;
-    else
-        return false;
+QString DTVChannelInfo::toString() const
+{
+    return QString("%1 %2 %3 ").arg(name).arg(serviceid).arg(lcn);
 }
 
-DVBConfParser::DVBConfParser(enum TYPE _type,unsigned _sourceid,
-                             const QString& _file)
+DTVConfParser::DTVConfParser(enum cardtype_t _type, uint _sourceid,
+                             const QString &_file)
+    : type(_type), sourceid(_sourceid), filename(QDeepCopy<QString>(_file))
 {
-    type=_type;
-    filename = _file;
-    sourceid=_sourceid;
 }
 
-int DVBConfParser::parse()
+DTVConfParser::return_t DTVConfParser::Parse(void)
 {
-    QFile file( filename );
-    if (file.open( IO_ReadOnly ) ) 
+    channels.clear();
+
+    QFile file(filename);
+    if (!file.open(IO_ReadOnly))
+        return ERROR_OPEN;
+
+    bool ok = true;
+    QTextStream stream(&file);
+    QString line;
+    while (!stream.atEnd())
     {
-        QTextStream stream( &file );
-        QString line;
-        while ( !stream.atEnd() ) 
+        line = stream.readLine(); // line of text excluding '\n'
+        line.stripWhiteSpace();
+        if (line.startsWith("#"))
+            continue;
+
+        QStringList list = QStringList::split(":", line);
+        QString str = *list.at(0);
+        int channelNo = -1;
+
+        if (str.at(0) == '@')
         {
-            line = stream.readLine(); // line of text excluding '\n'
-            line.stripWhiteSpace();
-            if (line.startsWith("#"))
-                continue;
-            QStringList list=QStringList::split(":",line);
-            QString str = *list.at(0);
-            int channelNo = -1;
-            if (str.at(0)=='@')
-            {
-                channelNo=str.mid(1).toInt();
-                line = stream.readLine(); 
-                list=QStringList::split(":",line);
-            }
-            str = *list.at(3);
-            if ((str == "T") || (str == "C") || (str=="S"))
-            {
-                if ((type == OFDM) && (str=="T"))
-                    parseVDR(list,channelNo);
-                else if ((type == QPSK) && (str=="S"))
-                    parseVDR(list,channelNo);
-                else if ((type == QAM) && (str=="C"))
-                    parseVDR(list,channelNo);
-            }
-            else if (type==OFDM)
-                parseConfOFDM(list);
-            else if (type==ATSC)
-                parseConfATSC(list);
-            else if (type==QPSK)
-                parseConfQPSK(list);
-            else if (type==QAM)
-                parseConfQAM(list);
+            channelNo = str.mid(1).toInt();
+            line = stream.readLine();
+            list = QStringList::split(":", line);
         }
-        file.close();
 
-        processChannels();
-        return OK;
+        str = *list.at(3);
+
+        if ((str == "T") || (str == "C") || (str == "S"))
+        {
+            if ((type == OFDM) && (str == "T"))
+                ok &= ParseVDR(list, channelNo);
+            else if ((type == QPSK) && (str == "S"))
+                ok &= ParseVDR(list, channelNo);
+            else if ((type == QAM) && (str == "C"))
+                ok &= ParseVDR(list, channelNo);
+        }
+        else if (type == OFDM)
+            ok &= ParseConfOFDM(list);
+        else if (type == ATSC)
+            ok &= ParseConfATSC(list);
+        else if (type == QPSK)
+            ok &= ParseConfQPSK(list);
+        else if (type == QAM)
+            ok &= ParseConfQAM(list);
     }
-    return ERROR_OPEN;
+    file.close();
+
+    return (ok) ? OK : ERROR_PARSE;
 }
 
-bool DVBConfParser::parseConfOFDM(QStringList& tokens)
+bool DTVConfParser::ParseConfOFDM(const QStringList &tokens)
 {
-    Channel c;
-    QStringList::Iterator i = tokens.begin();
-    QStringList::Iterator end = tokens.end();
-    if (i != end) c.name = *i++; else return false;
-    if (i != end) c.frequency = (*i++).toInt(); else return false;
-    if (i == end || !c.inversion.parseConf(*i++)) return false;
-    if (i == end || !c.bandwidth.parseConf(*i++)) return false;
-    if (i == end || !c.coderate_hp.parseConf(*i++)) return false;
-    if (i == end || !c.coderate_lp.parseConf(*i++)) return false;
-    if (i == end || !c.constellation.parseConf(*i++)) return false;
-    if (i == end || !c.transmit_mode.parseConf(*i++)) return false;
-    if (i == end || !c.guard_interval.parseConf(*i++)) return false;
-    if (i == end || !c.hierarchy.parseConf(*i++)) return false;
-    if (i == end ) return false; else i++;
-    if (i == end ) return false; else i++;
-    if (i != end) c.serviceid = (*i++).toInt(); else return false;
+    DTVChannelInfo chan;
+    DTVMultiplex   mux;
 
-    channels.append(c);
+    QStringList::const_iterator it = tokens.begin();
 
-    return true;
-}
-
-bool DVBConfParser::parseConfATSC(QStringList& tokens)
-{
-    Channel c;
-    QStringList::Iterator i = tokens.begin();
-    QStringList::Iterator end = tokens.end();
-    if (i != end) c.name = *i++; else return false;
-    if (i != end) c.frequency = (*i++).toInt(); else return false;
-    if (i == end || !c.modulation.parseConf(*i++)) return false;
-    // We need the program number in the transport stream,
-    // otherwise we cannot "tune" to the program.
-    if (i == end ) return false; else i++;   // Ignore video pid
-    if (i == end ) return false; else i++;   // Ignore audio pid
-    if (i != end) c.serviceid = (*i++).toInt(); else return false;
+    PARSE_SKIP(unknown);
+    PARSE_UINT(mux.frequency);
+    PARSE_CONF(mux.inversion);
+    PARSE_CONF(mux.bandwidth);
+    PARSE_CONF(mux.hp_code_rate);
+    PARSE_CONF(mux.lp_code_rate);
+    PARSE_CONF(mux.constellation);
+    PARSE_CONF(mux.trans_mode);
+    PARSE_CONF(mux.guard_interval);
+    PARSE_CONF(mux.hierarchy);
+    PARSE_SKIP(unknown);
+    PARSE_SKIP(unknown);
+    PARSE_UINT(chan.serviceid);
 
-    channels.append(c);
+    AddChannel(mux, chan);
 
     return true;
 }
 
-bool DVBConfParser::parseConfQAM(QStringList& tokens)
+bool DTVConfParser::ParseConfATSC(const QStringList &tokens)
 {
-    Channel c;
-    QStringList::Iterator i = tokens.begin();
-    QStringList::Iterator end = tokens.end();
-
-    if (i != end) c.name = *i++; else return false;
-    if (i != end) c.frequency = (*i++).toInt(); else return false;
-    if (i == end || !c.inversion.parseConf(*i++)) return false;
-    if (i != end) c.symbolrate = (*i++).toInt(); else return false;
-    if (i == end || !c.fec.parseConf(*i++)) return false;
-    if (i == end || !c.modulation.parseConf(*i++)) return false;
-    if (i == end ) return false; else i++;
-    if (i == end ) return false; else i++;
-    if (i != end) c.serviceid = (*i++).toInt(); else return false;
-    
-    channels.append(c);
-    return true;
-}
+    DTVChannelInfo chan;
+    DTVMultiplex   mux;
 
-bool DVBConfParser::parseConfQPSK(QStringList& tokens)
-{
-    Channel c;
-    QStringList::iterator it = tokens.begin();
+    QStringList::const_iterator it = tokens.begin();
 
-    if (it != tokens.end())
-        c.name = *it++;
-    else
-        return false;
+    PARSE_STR(chan.name);
+    PARSE_UINT(mux.frequency);
+    PARSE_CONF(mux.modulation);
+    PARSE_SKIP(Ignore_Video_PID);
+    PARSE_SKIP(Ignore_Audio_PID);
+    PARSE_UINT(chan.serviceid);
 
-    if (it != tokens.end())
-        c.frequency = (*it++).toUInt() * 1000;
-    else
-        return false;
+    AddChannel(mux, chan);
 
-    if (it == tokens.end() || !c.polarity.parseConf(*it++))
-        return false;
+    return true;
+}
 
-    if (it == tokens.end())
-        return false;
-    else
-        it++; //Sat num
+bool DTVConfParser::ParseConfQAM(const QStringList &tokens)
+{
+    DTVChannelInfo chan;
+    DTVMultiplex   mux;
 
-    if (it != tokens.end())
-        c.symbolrate = (*it++).toUInt() * 1000;
-    else
-        return false;
+    QStringList::const_iterator it = tokens.begin();
 
-    if (it == tokens.end())
-        return false;
-    else
-        it++;
+    PARSE_SKIP(unknown);
+    PARSE_UINT(mux.frequency);
+    PARSE_CONF(mux.inversion);
+    PARSE_UINT(mux.symbolrate);
+    PARSE_CONF(mux.fec);
+    PARSE_CONF(mux.modulation);
+    PARSE_SKIP(unknown);
+    PARSE_SKIP(unknown);
+    PARSE_UINT(chan.serviceid);
 
-    if (it == tokens.end())
-        return false;
-    else
-        it++;
+    AddChannel(mux, chan);
 
-    if (it != tokens.end())
-        c.serviceid = (*it++).toInt();
-    else
-        return false;
-    
-    channels.append(c);
     return true;
 }
 
-bool DVBConfParser::parseVDR(QStringList& tokens, int channelNo)
+bool DTVConfParser::ParseConfQPSK(const QStringList &tokens)
 {
-    Channel c;
-    QStringList::Iterator i = tokens.begin();
-    QStringList::Iterator end = tokens.end();
-    c.lcn = channelNo;
-
-//BBC ONE:754166:I999B8C34D34M16T2G32Y0:T:27500:600:601,602:0:0:4168:0:0:0
-    if (i != end) c.name = *i++; else return false;
-    if (i != end) c.frequency = (*i++).toInt()*1000; else return false;
-    if (i == end) return false;
-    QString params = (*i++);
-    while (!params.isEmpty())
-    {
-        QString ori = params;
-        int s = *(const char*)params;
-        params=params.mid(1);
-        switch(s)
-        {
-        case 'I':
-            c.inversion.parseVDR(params);
-            break;
-        case 'B':
-            c.bandwidth.parseVDR(params);
-            break;
-        case 'C':
-            c.coderate_hp.parseVDR(params);
-            break;
-        case 'D':
-            c.coderate_lp.parseVDR(params);
-            break;
-        case 'M':
-            c.constellation.parseVDR(params);
-            break;
-        case 'T':
-            c.transmit_mode.parseVDR(params);
-            break;
-        case 'G':
-            c.guard_interval.parseVDR(params);
-            break;
-        case 'Y':
-            c.hierarchy.parseVDR(params);
-            break;
-        case 'V':
-        case 'H':
-        case 'R':
-        case 'L':
-            c.polarity.parseVDR(ori);
-            break;
-        default:
-            return false;
-        }
-    }
-     
-    if (i == end ) return false; else i++;
-    if (i == end ) return false; else i++;
-    if (i == end ) return false; else i++;
-    if (i == end ) return false; else i++;
-    if (i == end ) return false; else i++;
-    if (i == end ) return false; else i++;
-    if (i != end) c.serviceid = (*i++).toInt(); else return false;
+    DTVChannelInfo chan;
+    DTVMultiplex   mux;
+
+    QStringList::const_iterator it = tokens.begin();
+
+    PARSE_STR(chan.name);
+    PARSE_UINT_1000(mux.frequency);
+    PARSE_CONF(mux.polarity);
+    PARSE_SKIP(Satelite_Number);
+    PARSE_UINT_1000(mux.symbolrate);
+    PARSE_SKIP(unknown);
+    PARSE_SKIP(unknown);
+    PARSE_UINT(chan.serviceid);
+
+    AddChannel(mux, chan);
 
-    channels.append(c);
     return true;
 }
 
-int DVBConfParser::generateNewChanID(int sourceID)
+bool DTVConfParser::ParseVDR(const QStringList &tokens, int channelNo)
 {
-    MSqlQuery query(MSqlQuery::InitCon());
+    DTVChannelInfo chan;
+    DTVMultiplex   mux;
 
-    QString theQuery =
-        QString("SELECT max(chanid) as maxchan "
-                "FROM channel WHERE sourceid=%1").arg(sourceID);
-    query.prepare(theQuery);
+    QStringList::const_iterator it = tokens.begin();
 
-    if (!query.exec())
-        MythContext::DBError("Calculating new ChanID", query);
+    chan.lcn = channelNo;
 
-    if (!query.isActive())
-        MythContext::DBError("Calculating new ChanID for Analog Channel",query);
+// BBC ONE:754166:I999B8C34D34M16T2G32Y0:T:27500:600:601, 602:0:0:4168:0:0:0
 
-    query.next();
+    PARSE_SKIP(unknown);
 
-    // If transport not present add it, and move on to the next
-    if (query.size() <= 0)
-        return sourceID * 1000;
+    PARSE_UINT_1000(mux.frequency);
 
-    int MaxChanID = query.value(0).toInt();
-
-    if (MaxChanID == 0)
-        return sourceID * 1000;
-    else
-        return MaxChanID + 1;
-}
-
-int DVBConfParser::findMultiplex(const DVBConfParser::Multiplex& m)
-{
-    MSqlQuery query(MSqlQuery::InitCon());
-    QString queryStr=QString("SELECT mplexid FROM dtv_multiplex WHERE "
-             "sourceid= %1 AND frequency=%2 AND inversion=\"%3\" AND ")
-             .arg(sourceid).arg(m.frequency).arg(m.inversion.toString());
+    if (it == tokens.end())
+        return false;
 
-    switch (type)
-    {
-    case OFDM:
-        queryStr+=QString("sistandard=\"dvb\" AND bandwidth=\"%1\" AND "
-                     "hp_code_rate=\"%2\" AND "
-                     "lp_code_rate=\"%3\" AND constellation=\"%4\" AND "
-                     "transmission_mode=\"%5\" AND guard_interval=\"%6\" AND "
-                     "hierarchy=\"%7\";")
-                      .arg(m.bandwidth.toString())
-                      .arg(m.coderate_hp.toString())
-                      .arg(m.coderate_lp.toString())
-                      .arg(m.constellation.toString())
-                      .arg(m.transmit_mode.toString())
-                      .arg(m.guard_interval.toString())
-                      .arg(m.hierarchy.toString());
-        break;
-    case QPSK:
-        queryStr+=QString("sistandard=\"dvb\" AND symbolrate=%1 AND "
-                          "polarity=\"%2\";").arg(m.symbolrate)
-                         .arg(m.polarity.toString());
-        break; 
-    case QAM:
-        queryStr+=QString("symbolrate=%1 AND modulation=\"%2\" AND fec=\"%3\";")
-                         .arg(m.symbolrate)
-                         .arg(m.modulation.toString())
-                         .arg(m.fec.toString());
-        break;
-    case ATSC:
-        queryStr+=QString("modulation=\"%1\";")
-                         .arg(m.modulation.toString());
-        break;
-    } 
-    query.prepare(queryStr);
-    if (!query.exec())
-        MythContext::DBError("searching for transport", query);
-    if (!query.isActive())
-        MythContext::DBError("searching for transport.", query);
-    if (query.size() > 0)
+    QString params = (*it++);
+    while (!params.isEmpty())
     {
-       query.next();
-       return query.value(0).toInt();
+        QString ori = params;
+        int s = *((const char*)params);
+        params = params.mid(1);
+        switch (s)
+        {
+            case 'I':
+                mux.inversion.ParseVDR(params);
+                break;
+            case 'B':
+                mux.bandwidth.ParseVDR(params);
+                break;
+            case 'C':
+                mux.hp_code_rate.ParseVDR(params);
+                break;
+            case 'D':
+                mux.lp_code_rate.ParseVDR(params);
+                break;
+            case 'M':
+                mux.constellation.ParseVDR(params);
+                break;
+            case 'T':
+                mux.trans_mode.ParseVDR(params);
+                break;
+            case 'G':
+                mux.guard_interval.ParseVDR(params);
+                break;
+            case 'Y':
+                mux.hierarchy.ParseVDR(params);
+                break;
+            case 'V':
+            case 'H':
+            case 'R':
+            case 'L':
+                mux.polarity.ParseVDR(ori);
+                break;
+            default:
+                return false;
+        }
     }
-    return -1;
-}
 
-int DVBConfParser::findChannel(const DVBConfParser::Channel &c, int &mplexid)
-{
-    MSqlQuery query(MSqlQuery::InitCon());
+    for (uint i = 0; i < 6; i++)
+        PARSE_SKIP(unknown);
 
-    // try to find exact match first
-    query.prepare("SELECT chanid "
-                  "FROM channel "
-                  "WHERE callsign = :CALLSIGN AND "
-                  "      mplexid  = :MPLEXID  AND "
-                  "      sourceid = :SOURCEID");
-    query.bindValue(":MPLEXID",  multiplexes[c.mplexnumber].mplexid);
-    query.bindValue(":SOURCEID", sourceid);
-    query.bindValue(":CALLSIGN", c.name.utf8());
-
-    if (!query.exec() || !query.isActive())
-        MythContext::DBError("searching for channel", query);
-    else if (query.next())
-    {
-        mplexid = multiplexes[c.mplexnumber].mplexid;
-        return query.value(0).toInt();
-    }
+    PARSE_UINT(chan.serviceid);
 
-    // if we didn't find exact match, try to match just the source & callsign
-    query.prepare("SELECT chanid, mplexid "
-                  "FROM channel "
-                  "WHERE callsign = :CALLSIGN AND "
-                  "      sourceid = :SOURCEID");
-    query.bindValue(":SOURCEID", sourceid);
-    query.bindValue(":CALLSIGN", c.name.utf8());
-
-    if (!query.exec() || !query.isActive())
-        MythContext::DBError("searching for channel", query);
-    else if (query.next())
-    {
-        mplexid = query.value(1).toInt();
-        return query.value(0).toInt();
-    }
+    AddChannel(mux, chan);
 
-    return -1;
-} 
+    return true;
+}
 
-void DVBConfParser::processChannels()
+void DTVConfParser::AddChannel(const DTVMultiplex &mux, DTVChannelInfo &chan)
 {
-    ListChannels::iterator iter;
-    for (iter=channels.begin();iter!=channels.end();iter++)
+    for (uint i = 0; i < channels.size(); i++)
     {
-        bool fFound = false;
-        for (unsigned i=0;i<multiplexes.size() && !fFound;i++ )
-        {
-            if (multiplexes[i] == (Multiplex)(*iter))
-            {
-                (*iter).mplexnumber = i;
-                fFound = true;
-            }
-        } 
-        if (!fFound)
+        if (channels[i] == mux)
         {
-            (*iter).mplexnumber = multiplexes.size();
-            multiplexes.append((Multiplex)(*iter));
+            channels[i].channels.push_back(chan);
+
+            VERBOSE(VB_IMPORTANT, "Imported channel: "<<chan.toString()
+                    <<" on "<<mux.toString());
+            return;
         }
-    } 
-/*
-    for (iter=channels.begin();iter!=channels.end();iter++)
-        (*iter).dump();
-    for (unsigned i=0;i<multiplexes.size() ;i++ )
-        multiplexes[i].dump();
-*/
-    QString standard = (type == ATSC) ? "atsc" : "dvb"; 
-    //create the multiplexes
-    MSqlQuery query(MSqlQuery::InitCon());
-    for (unsigned i=0;i<multiplexes.size() ;i++ )
-    {
-        int mplexid = findMultiplex(multiplexes[i]);
-        if (mplexid < 0)
-        {
-            query.prepare("INSERT into dtv_multiplex (frequency, "
-                "sistandard, sourceid,inversion,bandwidth,hp_code_rate,"
-                "lp_code_rate,constellation,transmission_mode,guard_interval,"
-                "hierarchy,modulation,symbolrate,fec,polarity) "
-                "VALUES (:FREQUENCY,:STANDARD,:SOURCEID,:INVERSION,:BANDWIDTH,"
-                ":CODERATE_HP,:CODERATE_LP,:CONSTELLATION,:TRANS_MODE,"
-                ":GUARD_INTERVAL,:HIERARCHY,:MODULATION,:SYMBOLRATE,"
-                ":FEC,:POLARITY);");
-            query.bindValue(":STANDARD",standard);
-            query.bindValue(":SOURCEID",sourceid);
-            query.bindValue(":FREQUENCY",multiplexes[i].frequency);
-            query.bindValue(":INVERSION",multiplexes[i].inversion.toString());
-            query.bindValue(":BANDWIDTH",multiplexes[i].bandwidth.toString());
-            query.bindValue(":CODERATE_HP",multiplexes[i].coderate_hp.toString());
-            query.bindValue(":CODERATE_LP",multiplexes[i].coderate_lp.toString());
-            query.bindValue(":CONSTELLATION",multiplexes[i].constellation.toString());
-            query.bindValue(":TRANS_MODE",multiplexes[i].transmit_mode.toString());
-            query.bindValue(":GUARD_INTERVAL",multiplexes[i].guard_interval.toString());
-            query.bindValue(":HIERARCHY",multiplexes[i].hierarchy.toString());
-            query.bindValue(":MODULATION",multiplexes[i].modulation.toString());
-            query.bindValue(":SYMBOLRATE",multiplexes[i].symbolrate);
-            query.bindValue(":FEC",multiplexes[i].fec.toString());
-            query.bindValue(":POLARITY",multiplexes[i].polarity.toString());
-
-            if (!query.exec())
-                MythContext::DBError("Inserting new transport", query);
-            if (!query.isActive())
-                MythContext::DBError("Adding transport to Database.", query);
-            query.prepare("select max(mplexid) from dtv_multiplex;");
-            if (!query.exec())
-                MythContext::DBError("Getting ID of new Transport", query);
-            if (!query.isActive())
-                MythContext::DBError("Getting ID of new Transport.", query);
-            if (query.size() > 0)
-            {
-               query.next();
-               multiplexes[i].mplexid = query.value(0).toInt();
-            }
-       }
-       else
-           multiplexes[i].mplexid = mplexid;
     }
 
-    // If the channel number cannot be determined from the config
-    // file, assign temporary unique numbers. First determine the
-    // highest channel number already assigned. This will likely
-    // fail if there are any ATSC channels, since channum is not
-    // really an integer. But in that case 501 is a generally safe
-    // offset for the first unknown channel.
-    int maxchannum = 500;
-    query.prepare("SELECT MAX(channum) FROM channel");
-    if (!query.exec() || !query.isActive())
-        MythContext::DBError("Getting highest channel number.", query);
-    else if (query.next())
-        maxchannum = max(maxchannum, query.value(0).toInt());
-    for (iter = channels.begin(); iter != channels.end(); ++iter)
-        maxchannum = max(maxchannum, (*iter).lcn);
+    channels.push_back(mux);
+    channels.back().channels.push_back(chan);
 
-    // Now insert the channels
-    for (iter=channels.begin();iter!=channels.end();iter++)
-    {
-        int mplexid    = multiplexes[(*iter).mplexnumber].mplexid;
-        int db_mplexid = 0;
-        int chanid     = findChannel(*iter, db_mplexid);
-        if (chanid < 0)
-        {
-            // The channel does not exist in the DB at all, insert it.
-            query.prepare("INSERT INTO channel (chanid, channum, "
-                  "sourceid, callsign, name,  mplexid, "
-                  "serviceid) "
-                  "VALUES (:CHANID,:CHANNUM,:SOURCEID,:CALLSIGN,"
-                  ":NAME,:MPLEXID,:SERVICEID);");
-
-            // If the channel number is unknown, get next unique number
-            int channum = (*iter).lcn;
-            if (-1 == channum)
-                channum = ++maxchannum;
-
-            int chanid = ChannelUtil::CreateChanID(
-                sourceid, QString::number(channum));
-
-            query.bindValue(":CHANID",    chanid);
-            query.bindValue(":CHANNUM",   channum);
-            query.bindValue(":SOURCEID",  sourceid);
-            query.bindValue(":CALLSIGN",  (*iter).name.utf8());
-            query.bindValue(":NAME",      (*iter).name.utf8());
-            query.bindValue(":MPLEXID",   mplexid);
-            query.bindValue(":SERVICEID", (*iter).serviceid);
-            if (!query.exec() || !query.isActive())
-            {
-                MythContext::DBError("Adding new DVB Channel", query);
-                emit updateText(QObject::tr("Failed to add %1: DB error")
-                                .arg((*iter).name));
-            }
-            else
-            {
-                emit updateText(QObject::tr("Adding %1").arg((*iter).name));
-            }
-        }
-        else if (db_mplexid == 32767)
-        {
-            // The channel in the database if from the listings provider amd
-            // does not have tuning information. Just fill in the tuning info.
-            query.prepare("UPDATE channel "
-                          "SET mplexid   = :MPLEXID,  "
-                          "    serviceid = :SERVICEID "
-                          "WHERE chanid   = :CHANID   AND "
-                          "      sourceid = :SOURCEID     ");
-
-            query.bindValue(":MPLEXID",   mplexid);
-            query.bindValue(":SERVICEID", (*iter).serviceid);
-            query.bindValue(":CHANID",    chanid);
-            query.bindValue(":SOURCEID",  sourceid);
-
-            if (!query.exec() || !query.isActive())
-            {
-                MythContext::DBError("Updating DVB Channel", query);
-                emit updateText(QObject::tr("Failed to add %1: DB error")
-                                .arg((*iter).name));
-            }
-            else
-            {
-                emit updateText(QObject::tr("Updating %1").arg((*iter).name));
-            }
-        }
-        else
-            emit updateText(QObject::tr("Skipping %1").arg((*iter).name));
-    }
+    VERBOSE(VB_IMPORTANT, "Imported channel: "<<chan.toString()
+            <<" on "<<mux.toString());
 }
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/dvbconfparser.h mythtv-0.20-new/libs/libmythtv/dvbconfparser.h
--- mythtv-0.20-old/libs/libmythtv/dvbconfparser.h	2006-02-07 13:56:06.000000000 -0800
+++ mythtv-0.20-new/libs/libmythtv/dvbconfparser.h	2007-06-23 18:32:02.000000000 -0700
@@ -1,5 +1,5 @@
 /*
- * $Id: dvbconfparser.h 8901 2006-02-07 21:56:06Z danielk $
+ * $Id: dvbconfparser.h 13237 2007-04-14 04:59:17Z jarod $
  * vim: set expandtab tabstop=4 shiftwidth=4:
  *
  * Original Project
@@ -30,91 +30,107 @@
  *
  */
 
-#ifndef DVBCONFPARSER_H
-#define DVBCONFPARSER_H
+#ifndef _DTVCONFPARSER_H_
+#define _DTVCONFPARSER_H_
 
-#include <qobject.h>
-#include <qvaluevector.h>
+// POSIX headers
+#include <stdint.h>
+#include <unistd.h>
+
+// C++ headers
+#include <vector>
+using namespace std;
+
+// Qt headers
 #include <qstring.h>
-#include <dvbtypes.h>
 
-/**
- * class DVBConfParser
- * @brief parses channels.conf files into the mythtv structure
+// MythTV headers
+#include "dtvconfparserhelpers.h"
+
+class QStringList;
+
+class DTVMultiplex
+{
+  public:
+    DTVMultiplex() : frequency(0), symbolrate(0) { }
+
+    bool operator==(const DTVMultiplex &m) const;
+ 
+    QString toString() const;
+
+ public:
+    uint64_t         frequency;
+    uint             symbolrate;
+    DTVInversion     inversion;
+    DTVBandwidth     bandwidth;
+    DTVCodeRate      hp_code_rate;
+    DTVCodeRate      lp_code_rate;
+    DTVModulation    constellation;
+    DTVModulation    modulation;
+    DTVTransmitMode  trans_mode;
+    DTVGuardInterval guard_interval;
+    DTVHierarchy     hierarchy;
+    DTVPolarity      polarity;
+    DTVCodeRate      fec;
+};
+
+class DTVChannelInfo
+{
+  public:
+    DTVChannelInfo() :
+        name(QString::null), serviceid(0), lcn(-1) {}
+
+    QString toString() const;
+
+ public:
+    QString name;
+    uint    serviceid;
+    int     lcn;
+};
+typedef vector<DTVChannelInfo> DTVChannelInfoList;
+
+class DTVTransport : public DTVMultiplex
+{
+  public:
+    DTVTransport(const DTVMultiplex &other) : DTVMultiplex(other) { }
+
+  public:
+    DTVChannelInfoList channels;
+};
+typedef vector<DTVTransport> DTVChannelList;
+
+/** \class DTVConfParser
+ *  \brief Parses dvb-utils channel scanner output files.
  */
-class DVBConfParser : public QObject
+class DTVConfParser
 {
-    Q_OBJECT
-protected:
-    class Multiplex
-    {
-    public:
-        Multiplex() : frequency(0),symbolrate(0),mplexid(0) {}
-        bool operator==(const Multiplex& m) const;
-
-        unsigned frequency;
-        unsigned symbolrate;
-        DVBInversion inversion;
-        DVBBandwidth bandwidth;
-        DVBCodeRate coderate_hp;
-        DVBCodeRate coderate_lp;
-        DVBModulation constellation;
-        DVBModulation modulation;
-        DVBTransmitMode transmit_mode;
-        DVBGuardInterval guard_interval;
-        DVBHierarchy  hierarchy;
-        DVBPolarity  polarity;
-        DVBCodeRate fec;
-        unsigned mplexid;
-
-        void dump();
-    };
-
-    class Channel : public Multiplex
-    {
-    public:
-        Channel() : serviceid(0),mplexnumber(0), lcn(-1) {}
-
-        QString name;
-        unsigned serviceid;
-        unsigned mplexnumber;
-        int lcn;
-
-        void dump();
-    };
-
-    typedef QValueList<Channel> ListChannels;
-
-    ListChannels  channels;
-    QValueVector<Multiplex> multiplexes;
-
-public:
-    enum RETURN {ERROR_OPEN,ERROR_PARSE,OK};
-    enum TYPE {ATSC,OFDM,QPSK,QAM};
-
-    DVBConfParser(enum TYPE _type,unsigned sourceid, const QString& _file);
-    virtual ~DVBConfParser() {};
-    int parse(); 
-
-signals:
-    /** @brief Status message from the scan engine
-        @param status the message
-    */ 
-    void updateText(const QString& status);
-protected:
-    QString filename;
-    TYPE type;
-    unsigned sourceid;
-    bool parseVDR(QStringList& tokens, int channelNo = -1);
-    bool parseConf(QStringList& tokens);
-    bool parseConfOFDM(QStringList& tokens);
-    bool parseConfQPSK(QStringList& tokens);
-    bool parseConfQAM(QStringList& tokens);
-    bool parseConfATSC(QStringList& tokens);
-    void processChannels();
-    int findMultiplex(const Multiplex& m);
-    int findChannel(const Channel& c, int& mplexid);
-    int generateNewChanID(int sourceID);
+  public:
+    enum return_t   { ERROR_OPEN, ERROR_PARSE, OK };
+    enum cardtype_t { ATSC, OFDM, QPSK, QAM, UNKNOWN };
+
+    DTVConfParser(enum cardtype_t _type, uint sourceid, const QString &_file);
+    virtual ~DTVConfParser() { }
+
+    return_t Parse(void);
+
+    DTVChannelList GetChannels(void) const { return channels; }
+
+  private:
+    bool ParseVDR(     const QStringList &tokens, int channelNo = -1);
+    bool ParseConf(    const QStringList &tokens);
+    bool ParseConfOFDM(const QStringList &tokens);
+    bool ParseConfQPSK(const QStringList &tokens);
+    bool ParseConfQAM( const QStringList &tokens);
+    bool ParseConfATSC(const QStringList &tokens);
+
+  private:
+    cardtype_t type;
+    uint       sourceid;
+    QString    filename;
+
+    void AddChannel(const DTVMultiplex &mux, DTVChannelInfo &chan);
+
+    DTVChannelList channels;
 };
 
-#endif
+#endif // _DTVCONFPARSER_H_
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/dvbdev/dvbci.h mythtv-0.20-new/libs/libmythtv/dvbdev/dvbci.h
--- mythtv-0.20-old/libs/libmythtv/dvbdev/dvbci.h	2006-02-21 15:20:25.000000000 -0800
+++ mythtv-0.20-new/libs/libmythtv/dvbdev/dvbci.h	2007-06-23 18:31:57.000000000 -0700
@@ -142,6 +142,7 @@
 
 class cCiHandler {
 public:
+  virtual ~cCiHandler() {};
   static cCiHandler *CreateCiHandler(const char *FileName);
   virtual int NumSlots(void) = 0;
   virtual bool Process(void) = 0;
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/dvbrecorder.cpp mythtv-0.20-new/libs/libmythtv/dvbrecorder.cpp
--- mythtv-0.20-old/libs/libmythtv/dvbrecorder.cpp	2006-09-03 10:04:19.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/dvbrecorder.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -92,6 +92,8 @@
       dvbchannel(advbchannel),
       _stream_data(NULL),
       _reset_pid_filters(true),
+      _open_pid_filters(0),
+      _max_pid_filters(0x1 << 13),
       _pid_lock(true),
       _input_pat(NULL),
       _input_pmt(NULL),
@@ -313,15 +315,20 @@
     PIDInfoMap::iterator it;
     for (it = _pid_infos.begin(); it != _pid_infos.end(); ++it)
     {
-        (*it)->Close();
+        _open_pid_filters = (*it)->Close(_open_pid_filters);
         delete *it;
     }
     _pid_infos.clear();
     _eit_pids.clear();
+    _open_pid_filters = 0;
+    _max_pid_filters  = 0x1 << 13;
 }
 
 int DVBRecorder::OpenFilterFd(uint pid, int pes_type, uint stream_type)
 {
+    if (_open_pid_filters >= _max_pid_filters)
+        return -1;
+
     // bits per millisecond
     uint bpms = (StreamID::IsVideo(stream_type)) ? 19200 : 500;
     // msec of buffering we want
@@ -342,6 +349,7 @@
     if (fd_tmp < 0)
     {
         VERBOSE(VB_IMPORTANT, LOC_ERR + "Could not open demux device." + ENO);
+        _max_pid_filters = _open_pid_filters;
         return -1;
     }
 
@@ -377,9 +385,11 @@
         close(fd_tmp);
 
         VERBOSE(VB_IMPORTANT, LOC_ERR + "Failed to set demux filter." + ENO);
+        _max_pid_filters = _open_pid_filters;
         return -1;
     }
 
+    _open_pid_filters++;
     return fd_tmp;
 }
 
@@ -403,58 +413,63 @@
         if (info->pesType == pes_type)
             fd_tmp = info->filter_fd;
         else
-            info->Close();
+            _open_pid_filters = info->Close(_open_pid_filters);
+
+        _pid_infos.erase(it);
+        delete info;
     }
 
     if (fd_tmp < 0)
+    {
         fd_tmp = OpenFilterFd(pid, pes_type, stream_type);
 
-    // try to close a low priority filter
-    if (fd_tmp < 0)
-    {
-        // no free filters available
-        avail = false;
-        PIDInfoMap::iterator lp_it = _pid_infos.begin();
-        for (;lp_it != _pid_infos.end(); ++lp_it)
+        if (fd_tmp < 0)
         {
-            if (lp_it != it && (*lp_it)->priority < kFilterPriorityHigh)
+            // no free filters, try to close a low priority filter
+            avail = false;
+            int min_priority = kFilterPriorityHigh;
+            PIDInfoMap::iterator min_it;
+
+            PIDInfoMap::iterator lp_it = _pid_infos.begin();
+            for (; lp_it != _pid_infos.end(); ++lp_it)
             {
-                (*lp_it)->Close();
-                break;
+                if ((*lp_it)->priority < kFilterPriorityHigh)
+                {
+                    (*lp_it)->priority--;
+                    if ((*lp_it)->priority < min_priority)
+                    {
+                        min_priority = (*lp_it)->priority;
+                        min_it = lp_it;
+                    }
+                }
             }
-        }
-        if (lp_it != _pid_infos.end())
-        {
-            // PMT PIDs are the only low priority pids
-            uint lp_pid = lp_it.key();
 
-            VERBOSE(VB_RECORD, LOC + "Closing low priority PID filter " +
-                    QString("on PID 0x%1.").arg(lp_pid, 0, 16));
+            if (min_priority < kFilterPriorityHigh)
+            {
+                _open_pid_filters = (*min_it)->Close(_open_pid_filters);
+
+                VERBOSE(VB_RECORD, LOC + "Closing low priority PID filter "
+                        + QString("on PID 0x%1.").arg(min_it.key(), 0, 16));
 
-            _pmt_monitoring_pids.push_back(lp_pid);
-            delete *lp_it;
-            _pid_infos.erase(lp_it);
+                // PMT PIDs are the only low priority pids
+                _pmt_monitoring_pids.push_back(min_it.key());
+                delete *min_it;
+                _pid_infos.erase(min_it);
+            }
+            else
+            {
+                VERBOSE(VB_IMPORTANT, LOC_ERR + "Out of PID filters!");
+                return false;
+            }
 
             fd_tmp = OpenFilterFd(pid, pes_type, stream_type);
         }
-        else
-        {
-            VERBOSE(VB_RECORD, LOC_ERR + "Out of PID filters!");
-        }
     }
 
     if (fd_tmp < 0)
-    {
-        if (info)
-        {
-            delete *it;
-            _pid_infos.erase(it);
-        }
-        return avail;
-    }
-
-    if (!info)
-        info = new PIDInfo();
+        return false;
+    
+    info = new PIDInfo();
 
     // Add the file descriptor to the filter list
     info->filter_fd  = fd_tmp;
@@ -564,7 +579,7 @@
         // Delete pids we are no longer interested in
         _stream_data->RemoveListeningPID(it.key());
         _stream_data->RemoveWritingPID(it.key());
-        (*it)->Close();
+        _open_pid_filters = (*it)->Close(_open_pid_filters);
         delete *it;
         _pid_infos.erase(it);
     }
@@ -639,7 +654,7 @@
     if (VB_RECORD & print_verbose_messages)
     {
         QString tmp0 = ""; 
-        QString tmp1 = QString("%1 PID filters open.").arg(_pid_infos.size());
+        QString tmp1 = QString("%1 PID filters open.").arg(_open_pid_filters);
 
         int sz = _pmt_monitoring_pids.size();
         if (sz)
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/dvbrecorder.h mythtv-0.20-new/libs/libmythtv/dvbrecorder.h
--- mythtv-0.20-old/libs/libmythtv/dvbrecorder.h	2006-08-25 08:46:10.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/dvbrecorder.h	2007-06-23 18:32:02.000000000 -0700
@@ -43,7 +43,7 @@
     int    priority;          ///< filters with priority < 0 can be closed
                               //   if a new filter can't be opened
 
-    inline void Close(void);
+    inline uint Close(uint open_filters);
     inline bool CheckCC(uint cc);
 };
 typedef QMap<uint,PIDInfo*> PIDInfoMap;
@@ -134,6 +134,8 @@
     /// Set when we want to generate a new filter set
     MPEGStreamData *_stream_data;
     bool            _reset_pid_filters;
+    uint            _open_pid_filters;
+    uint            _max_pid_filters;
     QMutex          _pid_lock;
     PIDInfoMap      _pid_infos;
     uint_vec_t      _eit_pids;
@@ -186,10 +188,15 @@
     static const int kFilterPriorityLow;
 };
 
-inline void PIDInfo::Close(void)
+inline uint PIDInfo::Close(uint open_filters)
 {
     if (filter_fd >= 0)
+    {
         close(filter_fd);
+        return open_filters - 1;
+    }
+
+    return open_filters;
 }
 
 inline bool PIDInfo::CheckCC(uint new_cnt)
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/dvbtypes.cpp mythtv-0.20-new/libs/libmythtv/dvbtypes.cpp
--- mythtv-0.20-old/libs/libmythtv/dvbtypes.cpp	2006-07-18 05:35:04.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/dvbtypes.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -8,317 +8,6 @@
 static QString mod2dbstr(fe_modulation mod);
 static QString coderate(fe_code_rate_t coderate);
 
-DVBParamHelper<PolarityValues>::Table DVBPolarity::parseTable[] =
-{
-    {"v",Vertical},
-    {"h",Horizontal},
-    {"r",Right},
-    {"l",Left},
-    {NULL,Vertical}
-};
-
-char *DVBPolarity::stringLookup[] =
-{
-   "v",   // Vertical
-   "h",   // Horizontal
-   "r",   // Right
-   "l"    // Left
-};
-
-DVBParamHelper<fe_spectral_inversion_t>::Table DVBInversion::confTable[] =
-{
-   {"INVERSION_AUTO",INVERSION_AUTO},
-   {"INVERSION_OFF",INVERSION_OFF},
-   {"INVERSION_ON",INVERSION_ON},
-   {NULL,INVERSION_AUTO}
-};
-
-DVBParamHelper<fe_spectral_inversion_t>::Table DVBInversion::vdrTable[] =
-{
-   {"999",INVERSION_AUTO},
-   {"0",INVERSION_OFF},
-   {"1",INVERSION_ON},
-   {NULL,INVERSION_AUTO}
-};
-
-DVBParamHelper<fe_spectral_inversion_t>::Table DVBInversion::parseTable[] =
-{
-   {"a",INVERSION_AUTO},
-   {"0",INVERSION_OFF},
-   {"1",INVERSION_ON},
-   {NULL,INVERSION_AUTO}
-};
-
-char* DVBInversion::stringLookup[] =
-{
-    "0", // INVERSION_OFF,
-    "1", // INVERSION_ON,
-    "a"  //INVERSION_AUTO
-};
-
-DVBParamHelper<fe_bandwidth_t>::Table DVBBandwidth::confTable[] =
-{
-   {"BANDWIDTH_AUTO",BANDWIDTH_AUTO},
-   {"BANDWIDTH_8_MHZ",BANDWIDTH_8_MHZ},
-   {"BANDWIDTH_7_MHZ",BANDWIDTH_7_MHZ},
-   {"BANDWIDTH_6_MHZ",BANDWIDTH_6_MHZ},
-   {NULL,BANDWIDTH_AUTO}
-};
-
-DVBParamHelper<fe_bandwidth_t>::Table DVBBandwidth::vdrTable[] =
-{
-   {"999",BANDWIDTH_AUTO},
-   {"8",BANDWIDTH_8_MHZ},
-   {"7",BANDWIDTH_7_MHZ},
-   {"6",BANDWIDTH_6_MHZ},
-   {NULL,BANDWIDTH_AUTO},
-};
-
-DVBParamHelper<fe_bandwidth_t>::Table DVBBandwidth::parseTable[] =
-{
-   {"auto",BANDWIDTH_AUTO},
-   {"8",BANDWIDTH_8_MHZ},
-   {"7",BANDWIDTH_7_MHZ},
-   {"6",BANDWIDTH_6_MHZ},
-   {NULL,BANDWIDTH_AUTO}
-};
-
-char *DVBBandwidth::stringLookup[]=
-{
-    "8",   //BANDWIDTH_8_MHZ,
-    "7",   //BANDWIDTH_7_MHZ,
-    "6",   //BANDWIDTH_6_MHZ,
-    "auto" //BANDWIDTH_AUTO
-};
-
-DVBParamHelper<fe_code_rate_t>::Table DVBCodeRate::confTable[] =
-{
-    {"FEC_AUTO",FEC_AUTO},
-    {"FEC_1_2",FEC_1_2},
-    {"FEC_2_3",FEC_2_3},
-    {"FEC_3_4",FEC_3_4},
-    {"FEC_4_5",FEC_4_5},
-    {"FEC_5_6",FEC_5_6},
-    {"FEC_6_7",FEC_6_7},
-    {"FEC_7_8",FEC_7_8},
-    {"FEC_8_9",FEC_8_9},
-    {"FEC_NONE",FEC_NONE},
-    {NULL,FEC_AUTO}
-};
-
-DVBParamHelper<fe_code_rate_t>::Table DVBCodeRate::vdrTable[] =
-{
-    {"999",FEC_AUTO},
-    {"12",FEC_1_2},
-    {"23",FEC_2_3},
-    {"34",FEC_3_4},
-    {"45",FEC_4_5},
-    {"56",FEC_5_6},
-    {"67",FEC_6_7},
-    {"78",FEC_7_8},
-    {"89",FEC_8_9},
-    {"0",FEC_NONE},
-    {NULL,FEC_AUTO}
-};
-
-DVBParamHelper<fe_code_rate_t>::Table DVBCodeRate::parseTable[] =
-{
-    {"auto",FEC_AUTO},
-    {"1/2",FEC_1_2},
-    {"2/3",FEC_2_3},
-    {"3/4",FEC_3_4},
-    {"4/5",FEC_4_5},
-    {"5/6",FEC_5_6},
-    {"6/7",FEC_6_7},
-    {"7/8",FEC_7_8},
-    {"8/9",FEC_8_9},
-    {"none",FEC_NONE},
-    {NULL,FEC_AUTO}
-};
-
-char *DVBCodeRate::stringLookup[] =
-{
-     "none", //FEC_NONE,
-     "1/2",  //FEC_1_2,
-     "2/3",  //FEC_2_3,
-     "3/4",  //FEC_3_4,
-     "4/5",  //FEC_4_5,
-     "5/6",  //FEC_5_6,
-     "6/7",  //FEC_6_7,
-     "7/8",  //FEC_7_8,
-     "8/9",  //FEC_8_9,
-     "auto"  //FEC_AUTO
-};
-
-DVBParamHelper<fe_modulation_t>::Table DVBModulation::confTable[] =
-{
-   {"QAM_AUTO",QAM_AUTO},
-   {"QAM_16",QAM_16},
-   {"QAM_32",QAM_32},
-   {"QAM_64",QAM_64},
-   {"QAM_128",QAM_128},
-   {"QAM_256",QAM_256},
-   {"QPSK",QPSK},
-#ifdef FE_GET_EXTENDED_INFO
-   {"8PSK", MOD_8PSK},
-#endif
-   {NULL,QAM_AUTO},
-};
-
-DVBParamHelper<fe_modulation_t>::Table DVBModulation::vdrTable[] =
-{
-   {"999",QAM_AUTO},
-   {"16",QAM_16},
-   {"32",QAM_32},
-   {"64",QAM_64},
-   {"128",QAM_128},
-   {"256",QAM_256},
-   {"0",QPSK},
-   {NULL,QAM_AUTO},
-};
-
-DVBParamHelper<fe_modulation_t>::Table DVBModulation::parseTable[] =
-{
-   {"auto",QAM_AUTO},
-   {"qam_16",QAM_16},
-   {"qam_32",QAM_32},
-   {"qam_64",QAM_64},
-   {"qam_128",QAM_128},
-   {"qam_256",QAM_256},
-   {"qpsk",QPSK},
-   {"8vsb",VSB_8},
-   {"16vsb",VSB_16},
-#ifdef FE_GET_EXTENDED_INFO
-   {"8psk", MOD_8PSK},
-#endif
-   {NULL,QAM_AUTO},
-};
-
-char *DVBModulation::stringLookup[] =
-{
-    "qpsk",    //QPSK,
-    "qam_16",  //QAM_16,
-    "qam_32",  //QAM_32,
-    "qam_64",  //QAM_64,
-    "qam_128", //QAM_128,
-    "qam_256", //QAM_256,
-    "auto",    //QAM_AUTO,
-    "8vsb",    //VSB_8,
-    "16vsb",   //VSB_16
-#ifdef FE_GET_EXTENDED_INFO
-    "8psk",    //MOD_8PSK
-#endif
-};
-
-DVBParamHelper<fe_transmit_mode_t>::Table DVBTransmitMode::confTable[] =
-{
-   {"TRANSMISSION_MODE_AUTO",TRANSMISSION_MODE_AUTO},
-   {"TRANSMISSION_MODE_2K",TRANSMISSION_MODE_2K},
-   {"TRANSMISSION_MODE_8K",TRANSMISSION_MODE_8K},
-   {NULL,TRANSMISSION_MODE_AUTO},
-};
-
-DVBParamHelper<fe_transmit_mode_t>::Table DVBTransmitMode::vdrTable[] =
-{
-   {"999",TRANSMISSION_MODE_AUTO},
-   {"2",TRANSMISSION_MODE_2K},
-   {"8",TRANSMISSION_MODE_8K},
-   {NULL,TRANSMISSION_MODE_AUTO},
-};
-
-DVBParamHelper<fe_transmit_mode_t>::Table DVBTransmitMode::parseTable[] =
-{
-   {"auto",TRANSMISSION_MODE_AUTO},
-   {"2",TRANSMISSION_MODE_2K},
-   {"8",TRANSMISSION_MODE_8K},
-   {NULL,TRANSMISSION_MODE_AUTO},
-};
-
-char *DVBTransmitMode::stringLookup[] =
-{
-    "2",   //TRANSMISSION_MODE_2K,
-    "8",   //TRANSMISSION_MODE_8K,
-    "auto" //TRANSMISSION_MODE_AUTO
-};
-
-DVBParamHelper<fe_guard_interval_t>::Table DVBGuardInterval::confTable[] =
-{
-   {"GUARD_INTERVAL_AUTO",GUARD_INTERVAL_AUTO},
-   {"GUARD_INTERVAL_1_32",GUARD_INTERVAL_1_32},
-   {"GUARD_INTERVAL_1_16",GUARD_INTERVAL_1_16},
-   {"GUARD_INTERVAL_1_8",GUARD_INTERVAL_1_8},
-   {"GUARD_INTERVAL_1_4",GUARD_INTERVAL_1_4},
-   {NULL,GUARD_INTERVAL_AUTO},
-};
-
-DVBParamHelper<fe_guard_interval_t>::Table DVBGuardInterval::vdrTable[] =
-{
-   {"999",GUARD_INTERVAL_AUTO},
-   {"32",GUARD_INTERVAL_1_32},
-   {"16",GUARD_INTERVAL_1_16},
-   {"8",GUARD_INTERVAL_1_8},
-   {"4",GUARD_INTERVAL_1_4},
-   {NULL,GUARD_INTERVAL_AUTO},
-};
-
-DVBParamHelper<fe_guard_interval_t>::Table DVBGuardInterval::parseTable[] =
-{
-   {"auto",GUARD_INTERVAL_AUTO},
-   {"1/32",GUARD_INTERVAL_1_32},
-   {"1/16",GUARD_INTERVAL_1_16},
-   {"1/8",GUARD_INTERVAL_1_8},
-   {"1/4",GUARD_INTERVAL_1_4},
-   {NULL,GUARD_INTERVAL_AUTO},
-};
-
-char *DVBGuardInterval::stringLookup[] =
-{
-    "1/32", // GUARD_INTERVAL_1_32,
-    "1/16", // GUARD_INTERVAL_1_16,
-    "1/8",  // GUARD_INTERVAL_1_8,
-    "1/4",  // GUARD_INTERVAL_1_4,
-    "auto"  // GUARD_INTERVAL_AUTO
-};
-
-DVBParamHelper<fe_hierarchy_t>::Table DVBHierarchy::confTable[] =
-{
-   {"HIERARCHY_NONE",HIERARCHY_NONE},
-   {"HIERARCHY_1",HIERARCHY_1},
-   {"HIERARCHY_2",HIERARCHY_2},
-   {"HIERARCHY_4",HIERARCHY_4},
-   {"HIERARCHY_AUTO",HIERARCHY_AUTO},
-   {NULL,HIERARCHY_AUTO},
-};
-
-DVBParamHelper<fe_hierarchy_t>::Table DVBHierarchy::vdrTable[] =
-{
-   {"0",HIERARCHY_NONE},
-   {"1",HIERARCHY_1},
-   {"2",HIERARCHY_2},
-   {"4",HIERARCHY_4},
-   {"999",HIERARCHY_AUTO},
-   {NULL,HIERARCHY_AUTO},
-};
-
-DVBParamHelper<fe_hierarchy_t>::Table DVBHierarchy::parseTable[] =
-{
-   {"n",HIERARCHY_NONE},
-   {"1",HIERARCHY_1},
-   {"2",HIERARCHY_2},
-   {"4",HIERARCHY_4},
-   {"a",HIERARCHY_AUTO},
-   {NULL,HIERARCHY_AUTO},
-};
-
-char *DVBHierarchy::stringLookup[] =
-{
-    "n", //HIERARCHY_NONE,
-    "1", //HIERARCHY_1,
-    "2", //HIERARCHY_2,
-    "4", //HIERARCHY_4,
-    "a"  //HIERARCHY_AUTO
-};
-
 bool equal_qpsk(const struct dvb_fe_params &p,
                 const struct dvb_fe_params &op, uint range)
 {
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/dvbtypes.h mythtv-0.20-new/libs/libmythtv/dvbtypes.h
--- mythtv-0.20-old/libs/libmythtv/dvbtypes.h	2006-07-18 05:35:04.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/dvbtypes.h	2007-06-23 18:32:02.000000000 -0700
@@ -67,225 +67,6 @@
 QString toString(fe_status);
 QString toString(const struct dvb_frontend_event&, const fe_type_t);
 
-//The following are a set of helper classes to allow easy translation
-//between the actual dvb enums and db strings.
-
-//Helper abstract template to do some of the mundain bits
-//of translating the DVBParamHelpers
-template <typename V> class DVBParamHelper 
-{
-protected:
-    V value;
-
-    struct Table
-    {
-        QString symbol;
-        V value;
-    };
-
-    static bool parseParam(QString& symbol, V& value, Table *table)
-    {
-        Table *p = table;
-        while (p->symbol!=NULL)
-        {
-            if (p->symbol==symbol.left(p->symbol.length()))
-            {
-                 symbol=symbol.mid(p->symbol.length());
-                 value = p->value;
-                 return true;
-            }
-            p++;
-        }
-        return false;
-    }
-
-public:
-    DVBParamHelper(V _value) : value(_value) {}
-
-    operator V() const { return value; }
-    V operator=(V _value) {return value = _value;}
-    bool operator==(const V& v) const {return value == v;}
-};
-
-class DVBInversion : public DVBParamHelper<fe_spectral_inversion_t>
-{
-protected:
-    static Table confTable[];
-    static Table vdrTable[];
-    static Table parseTable[];
-    static char* stringLookup[];
-
-public:
-    DVBInversion() : DVBParamHelper<fe_spectral_inversion_t>(INVERSION_AUTO) {}
-    bool parseConf(QString& _value) 
-           {return parseParam(_value,value,confTable);}
-    bool parseVDR(QString& _value)
-           {return parseParam(_value,value,vdrTable);}
-    bool parse(QString& _value)
-           {return parseParam(_value,value,parseTable);}
-
-    QString toString() const {return toString(value);}
-    static QString toString(fe_spectral_inversion_t _value)
-           {return stringLookup[_value];}
-};
-
-class DVBBandwidth : public DVBParamHelper<fe_bandwidth_t>
-{
-protected:
-    static Table confTable[];
-    static Table vdrTable[];
-    static Table parseTable[];
-    static char* stringLookup[];
-
-public:
-    DVBBandwidth() : DVBParamHelper<fe_bandwidth_t>(BANDWIDTH_AUTO) {}
-    bool parseConf(QString& _value) 
-           {return parseParam(_value,value,confTable);}
-    bool parseVDR(QString& _value)
-           {return parseParam(_value,value,vdrTable);}
-    bool parse(QString& _value)
-           {return parseParam(_value,value,parseTable);}
-
-    QString toString() const {return toString(value);}
-    static QString toString(fe_bandwidth_t _value)
-           {return stringLookup[_value];}
-};
-
-class DVBCodeRate : public DVBParamHelper<fe_code_rate_t>
-{
-protected:
-    static Table confTable[];
-    static Table vdrTable[];
-    static Table parseTable[];
-    static char* stringLookup[];
-
-public:
-    DVBCodeRate() : DVBParamHelper<fe_code_rate_t>(FEC_AUTO) {}
-
-    bool parseConf(QString& _value) 
-           {return parseParam(_value,value,confTable);}
-    bool parseVDR(QString& _value)
-           {return parseParam(_value,value,vdrTable);}
-    bool parse(QString& _value)
-           {return parseParam(_value,value,parseTable);}
-
-    QString toString() const {return toString(value);}
-    static QString toString(fe_code_rate_t _value)
-           {return stringLookup[_value];}
-};
-
-class DVBModulation : public DVBParamHelper<fe_modulation_t>
-{
-protected:
-    static Table confTable[];
-    static Table vdrTable[];
-    static Table parseTable[];
-    static char* stringLookup[];
-
-public:
-    DVBModulation() : DVBParamHelper<fe_modulation_t>(QAM_AUTO) {}
-
-    bool parseConf(QString& _value) 
-           {return parseParam(_value,value,confTable);}
-    bool parseVDR(QString& _value)
-           {return parseParam(_value,value,vdrTable);}
-    bool parse(QString& _value)
-           {return parseParam(_value,value,parseTable);}
-
-    QString toString() const {return toString(value);}
-    static QString toString(fe_modulation_t _value)
-           {return stringLookup[_value];}
-};
-
-class DVBTransmitMode : public DVBParamHelper<fe_transmit_mode_t>
-{
-protected:
-    static Table confTable[];
-    static Table vdrTable[];
-    static Table parseTable[];
-    static char* stringLookup[];
-
-public:
-    DVBTransmitMode() : DVBParamHelper<fe_transmit_mode_t>(TRANSMISSION_MODE_AUTO) {}
-
-    bool parseConf(QString& _value) 
-           {return parseParam(_value,value,confTable);}
-    bool parseVDR(QString& _value)
-           {return parseParam(_value,value,vdrTable);}
-    bool parse(QString& _value)
-           {return parseParam(_value,value,parseTable);}
-
-    QString toString() const {return toString(value);}
-    static QString toString(fe_transmit_mode_t _value)
-           {return stringLookup[_value];}
-};
-
-class DVBGuardInterval : public DVBParamHelper<fe_guard_interval_t>
-{
-protected:
-    static Table confTable[];
-    static Table vdrTable[];
-    static Table parseTable[];
-    static char* stringLookup[];
-
-public:
-    DVBGuardInterval() : DVBParamHelper<fe_guard_interval_t>(GUARD_INTERVAL_AUTO) {}
-
-    bool parseConf(QString& _value) 
-           {return parseParam(_value,value,confTable);}
-    bool parseVDR(QString& _value)
-           {return parseParam(_value,value,vdrTable);}
-    bool parse(QString& _value)
-           {return parseParam(_value,value,parseTable);}
-
-    QString toString() const {return toString(value);}
-    static QString toString(fe_guard_interval_t _value)
-           {return stringLookup[_value];}
-};
-
-class DVBHierarchy : public DVBParamHelper<fe_hierarchy_t>
-{
-protected:
-    static Table confTable[];
-    static Table vdrTable[];
-    static Table parseTable[];
-    static char* stringLookup[];
-
-public:
-    DVBHierarchy() : DVBParamHelper<fe_hierarchy_t>(HIERARCHY_AUTO) {}
-
-    bool parseConf(QString& _value) 
-           {return parseParam(_value,value,confTable);}
-    bool parseVDR(QString& _value)
-           {return parseParam(_value,value,vdrTable);}
-    bool parse(QString& _value)
-           {return parseParam(_value,value,parseTable);}
-
-    QString toString() const {return toString(value);}
-    static QString toString(fe_hierarchy_t _value)
-           {return stringLookup[_value];}
-};
-
-enum PolarityValues {Vertical,Horizontal,Right,Left};
-class DVBPolarity : public DVBParamHelper<PolarityValues>
-{
-protected:
-    static Table parseTable[];
-    static char* stringLookup[];
-public:
-    DVBPolarity() :  DVBParamHelper<PolarityValues>(Vertical) { }
-
-    bool parseConf(QString& _value) 
-           {return parseParam(_value,value,parseTable);}
-    bool parseVDR(QString& _value)
-           {return parseParam(_value,value,parseTable);}
-    bool parse(QString& _value)
-           {return parseParam(_value,value,parseTable);}
-
-    QString toString() const {return toString(value);}
-    static QString toString(PolarityValues _value) 
-           {return stringLookup[_value];}
-};
 
 typedef vector<uint16_t> dvb_pid_t;
 // needs to add provider id so dvbcam doesnt require parsing
@@ -398,7 +179,6 @@
                     const QString& pol,            const QString& modulation);
 #endif
 
-  private:
     bool ParseTuningParams(
         fe_type_t type,
         QString frequency,    QString inversion,      QString symbolrate,
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/DVDRingBuffer.cpp mythtv-0.20-new/libs/libmythtv/DVDRingBuffer.cpp
--- mythtv-0.20-old/libs/libmythtv/DVDRingBuffer.cpp	2006-08-28 10:11:08.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/DVDRingBuffer.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -315,7 +315,7 @@
                 ClearSubtitlesOSD();
 
                 if (autoselectsubtitle)
-                    curSubtitleTrack = dvdnav_get_active_spu_stream(dvdnav) & 0x1F;
+                    curSubtitleTrack = dvdnav_get_active_spu_stream(dvdnav);
 
                 if (parent)
                 {
@@ -802,6 +802,34 @@
                 decode_rle(bitmap + w, w * 2, w, h / 2,
                             spu_pkt, offset2 * 2, buf_size);
                 guess_palette(sub->rects[0].rgba_palette, palette, alpha);
+                if (!IsInMenu() && y1 < 5)
+                {
+                    uint8_t *tmp_bitmap;
+                    int sy;
+                    bool found = false;
+                    for (sy = 0; sy < h && !found; ++sy)
+                    {
+                        for (int tmpx = 0; tmpx < w; ++tmpx)
+                        {
+                            const uint8_t color = bitmap[sy * w + tmpx];
+                            if (color > 0)
+                            {
+                                found = true;
+                                break;
+                            }
+                        }
+                    }
+                    
+                    int newh = h - sy;
+                    tmp_bitmap = (uint8_t*) av_malloc(w * newh);
+                    memcpy(tmp_bitmap, bitmap + (w * sy), (w * newh));
+                    av_free(bitmap);
+                    y1 = sy + y1;
+                    h = newh;
+                    bitmap = (uint8_t*) av_malloc(w * h);
+                    memcpy(bitmap, tmp_bitmap, (w * h));
+                    av_free(tmp_bitmap);
+                }
                 sub->rects[0].bitmap = bitmap;
                 sub->rects[0].x = x1;
                 sub->rects[0].y = y1;
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/DVDRingBuffer.h mythtv-0.20-new/libs/libmythtv/DVDRingBuffer.h
--- mythtv-0.20-old/libs/libmythtv/DVDRingBuffer.h	2006-08-08 12:05:25.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/DVDRingBuffer.h	2007-06-23 18:32:02.000000000 -0700
@@ -147,7 +147,7 @@
     /// menu pkt pts is not reliable
     long long      menupktpts;
     int            curAudioTrack;
-    int            curSubtitleTrack;
+    int8_t         curSubtitleTrack;
     bool           autoselectaudio;
     bool           autoselectsubtitle;
     const char     *dvdname;
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/eithelper.cpp mythtv-0.20-new/libs/libmythtv/eithelper.cpp
--- mythtv-0.20-old/libs/libmythtv/eithelper.cpp	2006-07-18 03:25:23.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/eithelper.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -1,5 +1,8 @@
 // -*- Mode: c++ -*-
 
+// Std C headers
+#include <time.h>
+
 // Std C++ headers
 #include <algorithm>
 using namespace std;
@@ -215,6 +218,9 @@
     fix |= fixup[(((uint64_t)eit->TSID()) << 32) |
                  (eit->OriginalNetworkID() << 16)];
     fix |= fixup[(eit->OriginalNetworkID() << 16) | eit->ServiceID()];
+    fix |= fixup[(((uint64_t)eit->TSID()) << 32) |
+                 (uint64_t)(eit->OriginalNetworkID() << 16) |
+		 (uint64_t)eit->ServiceID()];
     fix |= EITFixUp::kFixGenericDVB;
 
     uint networkid = eit->OriginalNetworkID();
@@ -364,8 +370,22 @@
         return;
 
     QDateTime starttime;
-    int off = secs_Between_1Jan1970_6Jan1980 + gps_offset + utc_offset;
-    starttime.setTime_t(off + event.start_time, Qt::LocalTime);
+    time_t off = secs_Between_1Jan1970_6Jan1980 + gps_offset + utc_offset;
+    time_t tmp = event.start_time + off;
+    tm result;
+
+    if (gmtime_r(&tmp, &result))
+    {
+        starttime.setDate(QDate(result.tm_year + 1900,
+                                result.tm_mon + 1,
+                                result.tm_mday));
+        starttime.setTime(QTime(result.tm_hour, result.tm_min, result.tm_sec));
+    }
+    else
+    {
+        starttime.setTime_t(tmp - utc_offset, Qt::LocalTime);
+    }
+
     EITFixUp::TimeFix(starttime);
     QDateTime endtime = starttime.addSecs(event.length);
 
@@ -515,9 +535,55 @@
     fix[ 4096 << 16] = EITFixUp::kFixAUStar;
     fix[ 4096 << 16] = EITFixUp::kFixAUStar;
 
-    fix[ 769LL << 32 | 8468 << 16] = EITFixUp::kEFixPro7Sat; // DVB-T Berlin
-    fix[3075LL << 32 | 8468 << 16] = EITFixUp::kEFixPro7Sat; // DVB-T Bremen
-    fix[                133 << 16] = EITFixUp::kEFixPro7Sat; // Premiere and pro7/Sat.1 
+    // DVB-C germany: Kabel Deutschland encoding fixes
+    fix[   112LL << 32 | 61441U << 16] = EITFixUp::kEFixPro7Sat;
+    fix[ 10000LL << 32 | 61441U << 16] = EITFixUp::kEFixPro7Sat;
+    fix[ 10001LL << 32 | 61441U << 16] = EITFixUp::kEFixPro7Sat;
+    fix[ 10002LL << 32 | 61441U << 16] = EITFixUp::kEFixPro7Sat;
+    fix[ 10003LL << 32 | 61441U << 16] = EITFixUp::kEFixPro7Sat;
+    fix[ 10005LL << 32 | 61441U << 16] = EITFixUp::kEFixPro7Sat;
+    fix[ 10006LL << 32 | 61441U << 16] = EITFixUp::kEFixPro7Sat;
+    fix[ 10009LL << 32 | 61441U << 16] = EITFixUp::kEFixPro7Sat;
+    // On transport 10004 only DMAX needs no fixing:
+    fix[    10004LL<<32 | 61441U << 16 | 50403] = // BBC World Service
+        fix[10004LL<<32 | 61441U << 16 | 53101] = // BBC Prime (engl)
+        fix[10004LL<<32 | 61441U << 16 | 53108] = // Toon Disney (engl)
+        fix[10004LL<<32 | 61441U << 16 | 53109] = // Sky News (engl)
+        fix[10004LL<<32 | 61441U << 16 | 53406] = // BBC Prime
+        fix[10004LL<<32 | 61441U << 16 | 53407] = // Boomerang (engl)
+        fix[10004LL<<32 | 61441U << 16 | 53404] = // Boomerang
+        fix[10004LL<<32 | 61441U << 16 | 53408] = // TCM Classic Movies (engl)
+        fix[10004LL<<32 | 61441U << 16 | 53409] = // Extreme Sports
+        fix[10004LL<<32 | 61441U << 16 | 53410] = // CNBC Europe (engl)
+        fix[10004LL<<32 | 61441U << 16 | 53503] = // Detski Mir
+        fix[10004LL<<32 | 61441U << 16 | 53411] = // Sat.1 Comedy
+        fix[10004LL<<32 | 61441U << 16 | 53412] = // kabel eins classics
+        fix[10004LL<<32 | 61441U << 16 | 53112] = // Extreme Sports (engl)
+        fix[10004LL<<32 | 61441U << 16 | 53513] = // Playhouse Disney (engl)
+        fix[10004LL<<32 | 61441U << 16 | 53618] = // K1010
+        fix[10004LL<<32 | 61441U << 16 | 53619] = // GemsTV
+        EITFixUp::kEFixPro7Sat;
+    // On transport 10007 only following channels need fixing:
+    fix[    10007LL<<32| 61441U << 16 | 53605] = // terranova
+        fix[10007LL<<32| 61441U << 16 | 53607] = // Eurosport
+        fix[10007LL<<32| 61441U << 16 | 53608] = // Das Vierte
+        fix[10007LL<<32| 61441U << 16 | 53609] = // Viva
+        fix[10007LL<<32| 61441U << 16 | 53628] = // COMEDY CENTRAL
+        EITFixUp::kEFixPro7Sat;
+    // On transport 10008 only following channels need fixing:
+    fix[    10008LL<<32 | 61441U << 16 | 53002] = // Tele 5
+        fix[10008LL<<32 | 61441U << 16 | 53624] = // DSF
+        fix[10008LL<<32 | 61441U << 16 | 53630] = // HSE24
+        EITFixUp::kEFixPro7Sat;
+
+    fix[ 774LL << 32 | 8468 << 16 | 16392] = EITFixUp::kEFixPro7Sat; //DVB-T Berlin dsf
+    fix[1082LL << 32 |    1 << 16 | 20001] = EITFixUp::kEFixPro7Sat; //DVB-S Pro7 Swiss
+    fix[1082LL << 32 |    1 << 16 | 20002] = EITFixUp::kEFixPro7Sat; //DVB-S Pro7 Austria
+    fix[1082LL << 32 |    1 << 16 | 20003] = EITFixUp::kEFixPro7Sat; //DVB-S Kabel1 Swiss
+    fix[1082LL << 32 |    1 << 16 | 20004] = EITFixUp::kEFixPro7Sat; //DVB-S Kabel1 Austria
+    fix[1082LL << 32 |    1 << 16 | 20005] = EITFixUp::kEFixPro7Sat; //DVB-S Sat.1 Austria
+
+    fix[ 133 << 16] = EITFixUp::kEFixPro7Sat; // Premiere and Pro7/Sat.1
 }
 
 static int calc_eit_utc_offset(void)
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/firewirerecorder.cpp mythtv-0.20-new/libs/libmythtv/firewirerecorder.cpp
--- mythtv-0.20-old/libs/libmythtv/firewirerecorder.cpp	2006-06-07 16:29:38.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/firewirerecorder.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -25,7 +25,7 @@
 const int FirewireRecorder::kBroadcastChannel    = 63;
 const int FirewireRecorder::kConnectionP2P       = 0;
 const int FirewireRecorder::kConnectionBroadcast = 1;
-const uint FirewireRecorder::kMaxBufferedPackets = 8000;
+const uint FirewireRecorder::kMaxBufferedPackets = 2000;
 
 // callback function for libiec61883
 int fw_tspacket_handler(unsigned char *tspacket, int /*len*/,
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/frequencies.c mythtv-0.20-new/libs/libmythtv/frequencies.c
--- mythtv-0.20-old/libs/libmythtv/frequencies.c	2006-07-26 07:20:46.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/frequencies.c	2007-06-23 18:32:02.000000000 -0700
@@ -238,268 +238,268 @@
 
 /* US HRC */
 static struct CHANLIST ntsc_hrc[] = {
-    { "1",	  72000 },
+    { "1",	  72004 },
 
-    { "2",	  54000 }, 
-    { "3",	  60000 }, 
-    { "4",	  66000 }, 
-
-    { "5",	  78000 }, 
-    { "6",	  84000 }, 
-
-    { "7",	 174000 },
-    { "8",	 180000 },
-    { "9",	 186000 },
-    { "10",	 192000 },
-    { "11",	 198000 },
-    { "12",	 204000 },
-    { "13",	 210000 },
-    { "14",	 120000 },
-    { "15",	 126000 },
-    { "16",	 132000 },
-    { "17",	 138000 },
-    { "18",	 144000 },
-    { "19",	 150000 },
-    { "20",	 156000 },
-    { "21",	 162000 },
-    { "22",	 168000 },
-    { "23",	 216000 },
-    { "24",	 222000 },
-    { "25",	 228000 },
-    { "26",	 234000 },
-    { "27",	 240000 },
-    { "28",	 246000 },
-    { "29",	 252000 },
-    { "30",	 258000 },
-    { "31",	 264000 },
-    { "32",	 270000 },
-    { "33",	 276000 },
-    { "34",	 282000 },
-    { "35",	 288000 },
-    { "36",	 294000 },
-    { "37",	 300000 },
-    { "38",	 306000 },
-    { "39",	 312000 },
-    { "40",	 318000 },
-    { "41",	 324000 },
-    { "42",	 330000 },
-    { "43",	 336000 },
-    { "44",	 342000 },
-    { "45",	 348000 },
-    { "46",	 354000 },
-    { "47",	 360000 },
-    { "48",	 366000 },
-    { "49",	 372000 },
-    { "50",	 378000 },
-    { "51",	 384000 },
-    { "52",	 390000 },
-    { "53",	 396000 },
-    { "54",	 402000 },
-    { "55",	 408000 },
-    { "56",	 414000 },
-    { "57",	 420000 },
-    { "58",	 426000 },
-    { "59",	 432000 },
-    { "60",	 438000 },
-    { "61",	 444000 },
-    { "62",	 450000 },
-    { "63",	 456000 },
-    { "64",	 462000 },
-    { "65",	 468000 },
-    { "66",	 474000 },
-    { "67",	 480000 },
-    { "68",	 486000 },
-    { "69",	 492000 },
-    { "70",	 498000 },
-    { "71",	 504000 },
-    { "72",	 510000 },
-    { "73",	 516000 },
-    { "74",	 522000 },
-    { "75",	 528000 },
-    { "76",	 534000 },
-    { "77",	 540000 },
-    { "78",	 546000 },
-    { "79",	 552000 },
-    { "80",	 558000 },
-    { "81",	 564000 },
-    { "82",	 570000 },
-    { "83",	 576000 },
-    { "84",	 582000 },
-    { "85",	 588000 },
-    { "86",	 594000 },
-    { "87",	 600000 },
-    { "88",	 606000 },
-    { "89",	 612000 },
-    { "90",	 618000 },
-    { "91",	 624000 },
-    { "92",	 630000 },
-    { "93",	 636000 },
-    { "94",	 642000 },
-
-    { "95",	  90000 },
-    { "96",	  96000 },
-    { "97",	 102000 },
-    { "98",	 108000 },
-    { "99",	 114000 },
-
-    { "100",	 648000 },
-    { "101",	 654000 },
-    { "102",	 660000 },
-    { "103",	 666000 },
-    { "104",	 672000 },
-    { "105",	 678000 },
-    { "106",	 684000 },
-    { "107",	 690000 },
-    { "108",	 696000 },
-    { "109",	 702000 },
-    { "110",	 708000 },
-    { "111",	 714000 },
-    { "112",	 720000 },
-    { "113",	 726000 },
-    { "114",	 732000 },
-    { "115",	 738000 },
-    { "116",	 744000 },
-    { "117",	 750000 },
-    { "118",	 756000 },
-    { "119",	 762000 },
-    { "120",	 768000 },
-    { "121",	 774000 },
-    { "122",	 780000 },
-    { "123",	 786000 },
-    { "124",	 792000 },
-    { "125",	 798000 },
+    { "2",	  54003 }, 
+    { "3",	  60003 }, 
+    { "4",	  66003 }, 
+
+    { "5",	  78004 }, 
+    { "6",	  84004 }, 
+
+    { "7",	 174009 },
+    { "8",	 180009 },
+    { "9",	 186009 },
+    { "10",	 192010 },
+    { "11",	 198010 },
+    { "12",	 204010 },
+    { "13",	 210011 },
+    { "14",	 120006 },
+    { "15",	 126006 },
+    { "16",	 132007 },
+    { "17",	 138007 },
+    { "18",	 144007 },
+    { "19",	 150008 },
+    { "20",	 156008 },
+    { "21",	 162008 },
+    { "22",	 168008 },
+    { "23",	 216011 },
+    { "24",	 222011 },
+    { "25",	 228011 },
+    { "26",	 234012 },
+    { "27",	 240012 },
+    { "28",	 246012 },
+    { "29",	 252013 },
+    { "30",	 258013 },
+    { "31",	 264013 },
+    { "32",	 270014 },
+    { "33",	 276014 },
+    { "34",	 282014 },
+    { "35",	 288014 },
+    { "36",	 294015 },
+    { "37",	 300015 },
+    { "38",	 306015 },
+    { "39",	 312016 },
+    { "40",	 318016 },
+    { "41",	 324016 },
+    { "42",	 330017 },
+    { "43",	 336017 },
+    { "44",	 342017 },
+    { "45",	 348017 },
+    { "46",	 354018 },
+    { "47",	 360018 },
+    { "48",	 366018 },
+    { "49",	 372019 },
+    { "50",	 378019 },
+    { "51",	 384019 },
+    { "52",	 390020 },
+    { "53",	 396020 },
+    { "54",	 402020 },
+    { "55",	 408020 },
+    { "56",	 414021 },
+    { "57",	 420021 },
+    { "58",	 426021 },
+    { "59",	 432022 },
+    { "60",	 438022 },
+    { "61",	 444022 },
+    { "62",	 450023 },
+    { "63",	 456023 },
+    { "64",	 462023 },
+    { "65",	 468023 },
+    { "66",	 474024 },
+    { "67",	 480024 },
+    { "68",	 486024 },
+    { "69",	 492025 },
+    { "70",	 498025 },
+    { "71",	 504025 },
+    { "72",	 510026 },
+    { "73",	 516026 },
+    { "74",	 522026 },
+    { "75",	 528026 },
+    { "76",	 534027 },
+    { "77",	 540027 },
+    { "78",	 546027 },
+    { "79",	 552028 },
+    { "80",	 558028 },
+    { "81",	 564028 },
+    { "82",	 570029 },
+    { "83",	 576029 },
+    { "84",	 582029 },
+    { "85",	 588029 },
+    { "86",	 594030 },
+    { "87",	 600030 },
+    { "88",	 606030 },
+    { "89",	 612031 },
+    { "90",	 618031 },
+    { "91",	 624031 },
+    { "92",	 630032 },
+    { "93",	 636032 },
+    { "94",	 642032 },
+
+    { "95",	  90005 },
+    { "96",	  96005 },
+    { "97",	 102005 },
+    { "98",	 108005 },
+    { "99",	 114006 },
+
+    { "100",	 648032 },
+    { "101",	 654033 },
+    { "102",	 660033 },
+    { "103",	 666033 },
+    { "104",	 672034 },
+    { "105",	 678034 },
+    { "106",	 684034 },
+    { "107",	 690035 },
+    { "108",	 696035 },
+    { "109",	 702035 },
+    { "110",	 708035 },
+    { "111",	 714036 },
+    { "112",	 720036 },
+    { "113",	 726036 },
+    { "114",	 732037 },
+    { "115",	 738037 },
+    { "116",	 744037 },
+    { "117",	 750038 },
+    { "118",	 756038 },
+    { "119",	 762038 },
+    { "120",	 768038 },
+    { "121",	 774039 },
+    { "122",	 780039 },
+    { "123",	 786039 },
+    { "124",	 792040 },
+    { "125",	 798040 },
 };
 
 /** US IRC http://www.jneuhaus.com/fccindex/cablech.html */
 static struct CHANLIST ntsc_irc[] = {
-    { "1",	 73250 },
-    { "2",	 55250 },
-    { "3",	 61250 },
-    { "4",	 67250 },
-    { "5",	 79250 },
-    { "6",	 85250 },
-    { "7",	175250 },
-    { "8",	181250 },
-    { "9",	187250 },
-    { "10",	193250 },
-    { "11",	199250 },
-    { "12",	205250 },
-
-    { "13",	211250 },
-    { "14",	121250 },
-    { "15",	127250 },
-    { "16",	133250 },
-    { "17",	139250 },
-    { "18",	145250 },
-    { "19",	151250 },
-    { "20",	157250 },
+    { "1",	 73263 },
+    { "2",	 55263 },
+    { "3",	 61263 },
+    { "4",	 67263 },
+    { "5",	 79263 },
+    { "6",	 85263 },
+    { "7",	175263 },
+    { "8",	181263 },
+    { "9",	187263 },
+    { "10",	193263 },
+    { "11",	199263 },
+    { "12",	205263 },
+
+    { "13",	211263 },
+    { "14",	121263 },
+    { "15",	127263 },
+    { "16",	133263 },
+    { "17",	139263 },
+    { "18",	145263 },
+    { "19",	151263 },
+    { "20",	157263 },
  
-    { "21",	163250 },
-    { "22",	169250 },
-    { "23",	217250 },
-    { "24",	223250 },
-    { "25",	229250 },
-    { "26",	235250 },
-    { "27",	241250 },
-    { "28",	247250 },
-    { "29",	253250 },
-    { "30",	259250 },
-    { "31",	265250 },
-    { "32",	271250 },
-    { "33",	277250 },
-    { "34",	283250 },
-    { "35",	289250 },
-    { "36",	295250 },
-    { "37",	301250 },
-    { "38",	307250 },
-    { "39",	313250 },
-    { "40",	319250 },
-    { "41",	325250 },
-    { "42",	331250 },
-    { "43",	337250 },
-    { "44",	343250 },
-    { "45",	349250 },
-    { "46",	355250 },
-    { "47",	361250 },
-    { "48",	367250 },
-    { "49",	373250 },
-    { "50",	379250 },
-    { "51",	385250 },
-    { "52",	391250 },
-    { "53",	397250 },
-    { "54",	403250 },
-    { "55",	409250 },
-    { "56",	415250 },
-    { "57",	421250 },
-    { "58",	427250 },
-    { "59",	433250 },
-    { "60",	439250 },
-    { "61",	445250 },
-    { "62",	451250 },
-    { "63",	457250 },
-    { "64",	463250 },
-    { "65",	469250 },
-    { "66",	475250 },
-    { "67",	481250 },
-    { "68",	487250 },
-    { "69",	493250 },
+    { "21",	163263 },
+    { "22",	169263 },
+    { "23",	217263 },
+    { "24",	223263 },
+    { "25",	229263 },
+    { "26",	235263 },
+    { "27",	241263 },
+    { "28",	247263 },
+    { "29",	253263 },
+    { "30",	259263 },
+    { "31",	265263 },
+    { "32",	271263 },
+    { "33",	277263 },
+    { "34",	283263 },
+    { "35",	289263 },
+    { "36",	295263 },
+    { "37",	301263 },
+    { "38",	307263 },
+    { "39",	313263 },
+    { "40",	319263 },
+    { "41",	325263 },
+    { "42",	331275 },
+    { "43",	337263 },
+    { "44",	343263 },
+    { "45",	349263 },
+    { "46",	355263 },
+    { "47",	361263 },
+    { "48",	367263 },
+    { "49",	373263 },
+    { "50",	379263 },
+    { "51",	385263 },
+    { "52",	391263 },
+    { "53",	397263 },
+    { "54",	403263 },
+    { "55",	409263 },
+    { "56",	415263 },
+    { "57",	421263 },
+    { "58",	427263 },
+    { "59",	433263 },
+    { "60",	439263 },
+    { "61",	445263 },
+    { "62",	451263 },
+    { "63",	457263 },
+    { "64",	463263 },
+    { "65",	469263 },
+    { "66",	475263 },
+    { "67",	481263 },
+    { "68",	487263 },
+    { "69",	493263 },
  
-    { "70",	499250 },
-    { "71",	505250 },
-    { "72",	511250 },
-    { "73",	517250 },
-    { "74",	523250 },
-    { "75",	529250 },
-    { "76",	535250 },
-    { "77",	541250 },
-    { "78",	547250 },
-    { "79",	553250 },
-    { "80",	559250 },
-    { "81",	565250 },
-    { "82",	571250 },
-    { "83",	577250 },
-    { "84",	583250 },
-    { "85",	589250 },
-    { "86",	595250 },
-    { "87",	601250 },
-    { "88",	607250 },
-    { "89",	613250 },
-    { "90",	619250 },
-    { "91",	625250 },
-    { "92",	631250 },
-    { "93",	637250 },
-    { "94",	643250 },
-    { "95",	 91250 },
-    { "96",	 97250 },
-    { "97",	103250 },
-    { "98",	109250 },
-    { "99",	115250 },
-    { "100",	649250 },
-    { "101",	655250 },
-    { "102",	661250 },
-    { "103",	667250 },
-    { "104",	673250 },
-    { "105",	679250 },
-    { "106",	685250 },
-    { "107",	691250 },
-    { "108",	697250 },
-    { "109",	703250 },
-    { "110",	709250 },
-    { "111",	715250 },
-    { "112",	721250 },
-    { "113",	727250 },
-    { "114",	733250 },
-    { "115",	739250 },
-    { "116",	745250 },
-    { "117",	751250 },
-    { "118",	757250 },
-    { "119",	763250 },
-    { "120",	769250 },
-    { "121",	775250 },
-    { "122",	781250 },
-    { "123",	787250 },
-    { "124",	793250 },
-    { "125",	799250 },
+    { "70",	499263 },
+    { "71",	505263 },
+    { "72",	511263 },
+    { "73",	517263 },
+    { "74",	523263 },
+    { "75",	529263 },
+    { "76",	535263 },
+    { "77",	541263 },
+    { "78",	547263 },
+    { "79",	553263 },
+    { "80",	559263 },
+    { "81",	565263 },
+    { "82",	571263 },
+    { "83",	577263 },
+    { "84",	583263 },
+    { "85",	589263 },
+    { "86",	595263 },
+    { "87",	601263 },
+    { "88",	607263 },
+    { "89",	613263 },
+    { "90",	619263 },
+    { "91",	625263 },
+    { "92",	631263 },
+    { "93",	637263 },
+    { "94",	643263 },
+    { "95",	 91263 },
+    { "96",	 97263 },
+    { "97",	103263 },
+    { "98",	109275 },
+    { "99",	115275 },
+    { "100",	649263 },
+    { "101",	655263 },
+    { "102",	661263 },
+    { "103",	667263 },
+    { "104",	673263 },
+    { "105",	679263 },
+    { "106",	685263 },
+    { "107",	691263 },
+    { "108",	697263 },
+    { "109",	703263 },
+    { "110",	709263 },
+    { "111",	715263 },
+    { "112",	721263 },
+    { "113",	727263 },
+    { "114",	733263 },
+    { "115",	739263 },
+    { "116",	745263 },
+    { "117",	751263 },
+    { "118",	757263 },
+    { "119",	763263 },
+    { "120",	769263 },
+    { "121",	775263 },
+    { "122",	781263 },
+    { "123",	787263 },
+    { "124",	793263 },
+    { "125",	799263 },
 };
 
 /* --------------------------------------------------------------------- */
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/frequencytables.cpp mythtv-0.20-new/libs/libmythtv/frequencytables.cpp
--- mythtv-0.20-old/libs/libmythtv/frequencytables.cpp	2006-08-16 15:36:37.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/frequencytables.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -55,6 +55,51 @@
 }
 #endif // USING_DVB
 
+
+TransportScanItem::TransportScanItem(int                 _sourceid,
+                                     const QString      &_std,
+                                     const QString      &_name,
+                                     const QString      &_cardtype,
+                                     const DTVTransport &_tuning,
+                                     uint                _timeoutTune)
+    : mplexid(-1),         standard(_std),
+      FriendlyName(_name), friendlyNum(0),
+      SourceID(_sourceid), UseTimer(false),
+      scanning(false),     timeoutTune(_timeoutTune)
+{
+    (void) _cardtype;
+
+    bzero(freq_offsets, sizeof(int) * 3);
+    expectedChannels = _tuning.channels;
+
+#ifdef USING_DVB
+    bzero(&tuning, sizeof(DVBTuning));
+
+    fe_type type = FE_QPSK;
+
+    type = (_cardtype.upper() == "QAM")    ? FE_QAM    : type;
+    type = (_cardtype.upper() == "OFDM")   ? FE_OFDM   : type;
+    type = (_cardtype.upper() == "ATSC")   ? FE_ATSC   : type;
+#ifdef FE_GET_EXTENDED_INFO
+    type = (_cardtype.upper() == "DVB_S2") ? FE_DVB_S2 : type;
+#endif
+
+    tuning.ParseTuningParams(
+        type,
+        QString::number(_tuning.frequency),  _tuning.inversion.toString(),
+        QString::number(_tuning.symbolrate), _tuning.fec.toString(),
+        _tuning.polarity.toString(),         _tuning.hp_code_rate.toString(),
+        _tuning.lp_code_rate.toString(),     _tuning.constellation.toString(),
+        _tuning.trans_mode.toString(),       _tuning.guard_interval.toString(),
+        _tuning.hierarchy.toString(),        _tuning.modulation.toString(),
+        _tuning.bandwidth.toString());
+
+#else
+    frequency  = _tuning.frequency;
+    modulation = _tuning.modulation;
+#endif
+}
+
 TransportScanItem::TransportScanItem(int sourceid,
                                      const QString &std,
                                      const QString &fn,
@@ -356,67 +401,96 @@
     uint    mod[]    = { VSB_8,    QAM_256,    QAM_128,    QAM_64,   };
     QString desc[]   = { "ATSC ", "QAM-256 ", "QAM-128 ", "QAM-64 ", };
 
-#define FREQ(A,B, C,D, E,F,G, H) \
+#define FREQ(A,B, C,D, E,F,G, H, I) \
     fmap[QString("atsc_%1_us%2").arg(A).arg(B)] = \
-        new FrequencyTable(C+D, E, F, G, 6000000, H);
+        new FrequencyTable(C+D, E, F, G, H, I);
 
     for (uint i = 0; i < 4; i++)
     {
         // USA Cable, ch 2 to 159 and T.7 to T.14
         FREQ(modStr[i], "cable0", desc[i], "Channel %1",
-             2,    57000000,   69000000, mod[i]); // 2-4
+             2,    57000000,   69000000, 6000000, mod[i]); // 2-4
         FREQ(modStr[i], "cable1", desc[i], "Channel %1",
-             5,    79000000,   85000000, mod[i]); // 5-6
+             5,    79000000,   85000000, 6000000, mod[i]); // 5-6
         FREQ(modStr[i], "cable2", desc[i], "Channel %1",
-             7,   177000000,  213000000, mod[i]); // 7-13
+             7,   177000000,  213000000, 6000000, mod[i]); // 7-13
         FREQ(modStr[i], "cable3", desc[i], "Channel %1",
-             14,  123000000,  171000000, mod[i]); // 14-22
+             14,  123000000,  171000000, 6000000, mod[i]); // 14-22
         FREQ(modStr[i], "cable4", desc[i], "Channel %1",
-             23,  219000000,  645000000, mod[i]); // 23-94
+             23,  219000000,  645000000, 6000000, mod[i]); // 23-94
         FREQ(modStr[i], "cable5", desc[i], "Channel %1",
-             95,   93000000,  117000000, mod[i]); // 95-99
+             95,   93000000,  117000000, 6000000, mod[i]); // 95-99
+        // The center frequency of any EIA-542 std cable channel over 99 is
+        // Frequency_MHz = ( 6 * ( 8 + channel_designation ) ) + 3
         FREQ(modStr[i], "cable6", desc[i], "Channel %1",
-             100, 651000000, 1005000000, mod[i]); // 100-159
+             100, 651000000, 1005000000, 6000000, mod[i]); // 100-159
         FREQ(modStr[i], "cable7", desc[i], "Channel T-%1",
-             7,    8750000,   50750000, mod[i]); // T7-14
+             7,    8750000,   50750000, 6000000, mod[i]); // T7-14
 
         // USA Cable, QAM 256 ch 78 to 159
         FREQ(modStr[i], "cablehigh0", desc[i], "Channel %1",
-             78,  549000000,  645000000, mod[i]); // 78-94
+             78,  549000000,  645000000, 6000000, mod[i]); // 78-94
         FREQ(modStr[i], "cablehigh1", desc[i], "Channel %1",
-             100, 651000000, 1005000000, mod[i]); // 100-159
-
-        QString std[]   = { "hrc",  "irc"   };
-        QString sdesc[] = { "HRC ", "IRC "  };
-        int     off[]   = { 0,      1250000 };
+             100, 651000000, 1005000000, 6000000, mod[i]); // 100-159
 
-        for (uint j = 0; j < 2; j++)
-        {
-            // USA Cable HRC/IRC, ch 1 to 125
-            FREQ(modStr[i], std[j] + "0", desc[i], sdesc[j] + "%1",
-                 1,    73750000 + off[j],  73750001 + off[j], mod[i]);
-            FREQ(modStr[i], std[j] + "1", desc[i], sdesc[j] + "%1",
-                 2,    55750000 + off[j],  67750000 + off[j], mod[i]);
-            FREQ(modStr[i], std[j] + "2", desc[i], sdesc[j] + "%1",
-                 5,    79750000 + off[j],  85750000 + off[j], mod[i]);
-            FREQ(modStr[i], std[j] + "3", desc[i], sdesc[j] + "%1",
-                 7,   175750000 + off[j], 211750000 + off[j], mod[i]);
-            FREQ(modStr[i], std[j] + "4", desc[i], sdesc[j] + "%1",
-                 14,
-                 121750000 + off[j] - (j ? 100000 : 0),
-                 169750000 + off[j] - (j ? 100000 : 0), mod[i]);
-            FREQ(modStr[i], std[j] + "5", desc[i], sdesc[j] + "%1",
-                 23,  217750000 + off[j], 643750000 + off[j], mod[i]);
-            FREQ(modStr[i], std[j] + "6", desc[i], sdesc[j] + "%1",
-                 95,   91750000 + off[j], 115750000 + off[j], mod[i]);
-            FREQ(modStr[i], std[j] + "7", desc[i], sdesc[j] + "%1",
-                 100, 649750000 + off[j], 799750000 + off[j], mod[i]);
-
-            // USA Cable HRC/IRC, ch 76-125
-            FREQ(modStr[i], std[j] + "high0", desc[i], sdesc[j] + "%1",
-                 76,  535750000 + off[j], 643750000 + off[j], mod[i]);
-            FREQ(modStr[i], std[j] + "high1", desc[i], sdesc[j] + "%1",
-                 100, 649750000 + off[j], 799750000 + off[j], mod[i]);
-        }
+        // USA Cable HRC, ch 1 to 125
+        FREQ(modStr[i], "hrc0", desc[i], "HRC %1",
+             1,    73753600,  73753601, 6000300, mod[i]); // 1
+        FREQ(modStr[i], "hrc1", desc[i], "HRC %1",
+             2,    55752700,  67753300, 6000300, mod[i]); // 2-4
+        FREQ(modStr[i], "hrc2", desc[i], "HRC %1",
+             5,    79753900,  85754200, 6000300, mod[i]); // 5-6
+        FREQ(modStr[i], "hrc3", desc[i], "HRC %1",
+             7,   175758700, 211760500, 6000300, mod[i]); // 7-13
+        FREQ(modStr[i], "hrc4", desc[i], "HRC %1",
+             14,  121756000, 169758400, 6000300, mod[i]); // 14-22
+        FREQ(modStr[i], "hrc5", desc[i], "HRC %1",
+             23,  217760800, 643782100, 6000300, mod[i]); // 23-94
+        FREQ(modStr[i], "hrc6", desc[i], "HRC %1",
+             95,   91754500, 115755700, 6000300, mod[i]); // 95-99
+        // The center frequency of any EIA-542 HRC cable channel over 99 is
+        // Frequency_MHz = ( 6.0003 * ( 8 + channel_designation ) ) + 1.75
+        FREQ(modStr[i], "hrc7", desc[i], "HRC %1",
+             100, 649782400, 799789900, 6000300, mod[i]); // 100-125
+
+        // USA Cable HRC, ch 76-94 and 100-125
+        // Channels 95-99 are low frequency despite high channel numbers
+        FREQ(modStr[i], "hrchigh0", desc[i], "HRC %1",
+             76,  535776700, 643782100, 6000300, mod[i]); // 76-94
+        FREQ(modStr[i], "hrchigh1", desc[i], "HRC %1",
+             100, 649782400, 799789900, 6000300, mod[i]); // 100-125
+
+        // USA Cable IRC, ch 1 to 125
+        FREQ(modStr[i], "irc0", desc[i], "IRC %1",
+             1,    75012500,  75012501, 6000000, mod[i]); // 1
+        FREQ(modStr[i], "irc1", desc[i], "IRC %1",
+             2,    57012500,  69012500, 6000000, mod[i]); // 2-4
+        FREQ(modStr[i], "irc2", desc[i], "IRC %1",
+             5,    81012500,  87012500, 6000000, mod[i]); // 5-6
+        FREQ(modStr[i], "irc3", desc[i], "IRC %1",
+             7,   177012500, 213012500, 6000000, mod[i]); // 7-13
+        FREQ(modStr[i], "irc4", desc[i], "IRC %1",
+             14,  123012500, 171012500, 6000000, mod[i]); // 14-22
+        FREQ(modStr[i], "irc5", desc[i], "IRC %1",
+             23,  219012500, 327012500, 6000000, mod[i]); // 23-41
+        FREQ(modStr[i], "irc6", desc[i], "IRC %1",
+             42,  333025000, 333025001, 6000000, mod[i]); // 42
+        FREQ(modStr[i], "irc7", desc[i], "IRC %1",
+             43,  339012500, 645012500, 6000000, mod[i]); // 43-94
+        FREQ(modStr[i], "irc8", desc[i], "IRC %1",
+             95,   93012500, 105012500, 6000000, mod[i]); // 95-97
+        FREQ(modStr[i], "irc9", desc[i], "IRC %1",
+             98,  111025000, 117025000, 6000000, mod[i]); // 98-99
+        // The center frequency of any EIA-542 IRC cable channel over 99 is
+        // Frequency_MHz = ( 6 * ( 8 + channel_designation ) ) + 3.0125
+        FREQ(modStr[i], "irc10", desc[i], "IRC %1",
+             100, 651012500, 801012500, 6000000, mod[i]); // 100-125
+
+        // USA Cable IRC, ch 76-94 and 100-125
+        // Channels 95-99 are low frequency despite high channel numbers
+        FREQ(modStr[i], "irchigh0", desc[i], "IRC %1",
+             76,  537012500, 645012500, 6000000, mod[i]); // 76-94
+        FREQ(modStr[i], "irchigh1", desc[i], "IRC %1",
+             100, 651012500, 801012500, 6000000, mod[i]); // 100-125
     }
 }
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/frequencytables.h mythtv-0.20-new/libs/libmythtv/frequencytables.h
--- mythtv-0.20-old/libs/libmythtv/frequencytables.h	2006-05-01 09:40:46.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/frequencytables.h	2007-06-23 18:32:02.000000000 -0700
@@ -29,6 +29,7 @@
 #endif // USING_DVB
 
 class FrequencyTable;
+#include "dvbconfparser.h"
 class TransportScanItem;
 
 typedef QMap<QString, const FrequencyTable*> freq_table_map_t;
@@ -130,6 +131,13 @@
                       uint           _timeoutTune);
 #endif // USING_DVB
 
+    TransportScanItem(int                 _sourceid,
+                      const QString      &_std,
+                      const QString      &_name,
+                      const QString      &_cardtype,
+                      const DTVTransport &_tuning,
+                      uint                _timeoutTune);
+
     TransportScanItem(int sourceid,           /* source id in DB */
                       const QString &std,     /* atsc/dvb */
                       const QString &strFmt,  /* fmt for info shown to user  */
@@ -144,6 +152,7 @@
     uint freq_offset(uint i) const;
 
     QString ModulationDB(void) const;
+    QString toString() const;
 
   private:
     int GetMultiplexIdFromDB() const;
@@ -168,7 +177,8 @@
     uint      frequency;        ///< Tuning frequency if mplexid == -1
     uint      modulation;       ///< Tuning frequency if mplexid == -1
 #endif
-    QString toString() const;
+
+    DTVChannelInfoList expectedChannels;
 };
 
 class transport_scan_items_it_t
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/guidegrid.cpp mythtv-0.20-new/libs/libmythtv/guidegrid.cpp
--- mythtv-0.20-old/libs/libmythtv/guidegrid.cpp	2006-09-04 12:00:32.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/guidegrid.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -710,6 +710,9 @@
         m_programInfos[row][x] = NULL;
     }
 
+    if (m_channelInfos.size() == 0)
+        return;
+
     int chanNum = row + m_currentStartChannel;
     if (chanNum >= (int) m_channelInfos.size())
         chanNum -= (int) m_channelInfos.size();
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_config.c mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_config.c
--- mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_config.c	2006-07-25 10:48:19.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_config.c	2007-06-23 18:31:55.000000000 -0700
@@ -18,7 +18,6 @@
  * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
  */
 
-#include <stdio.h>
 #include "hdhomerun_os.h"
 #include "hdhomerun_pkt.h"
 #include "hdhomerun_discover.h"
@@ -33,6 +32,7 @@
 	printf("\t%s <id|ip> get help\n", appname);
 	printf("\t%s <id|ip> get <item>\n", appname);
 	printf("\t%s <id|ip> set <item> <value>\n", appname);
+	printf("\t%s <id|ip> scan <tuner> <starting channel>\n", appname);
 	printf("\t%s <id|ip> upgrade <filename>\n", appname);
 	return 1;
 }
@@ -234,6 +234,132 @@
 	return 0;
 }
 
+int cmd_scan(struct hdhomerun_control_sock_t *control_sock, const char *tuner_str, const char *start_value)
+{
+	int tuner = atoi(tuner_str);
+
+	/* Test starting channel. */
+	char item[64];
+	sprintf(item, "/tuner%d/channel", tuner);
+	int ret = cmd_set(control_sock, item, start_value);
+	if (ret != 0) {
+		return ret;
+	}
+
+	char channel_value[64];
+	strncpy(channel_value, start_value, sizeof(channel_value));
+	channel_value[sizeof(channel_value) - 8] = 0;
+
+	char *ptr = strrchr(channel_value, ':');
+	if (!ptr) {
+		ptr = channel_value;
+	} else {
+		ptr++;
+	}
+
+	int channel = atol(ptr);
+	if (channel == 0) {
+		fprintf(stderr, "invalid starting channel\n");
+		return 1;
+	}
+
+	while (1) {
+		/* Update channel value */
+		sprintf(ptr, "%d", channel);
+
+		/* Set channel. */
+		sprintf(item, "/tuner%d/channel", tuner);
+		if (hdhomerun_control_send_set_request(control_sock, item, channel_value) < 0) {
+			fprintf(stderr, "communication error sending request to hdhomerun device\n");
+			return 1;
+		}
+	
+		/* Verify set succeeded. */
+		struct hdhomerun_control_data_t result;
+		if (hdhomerun_control_recv(control_sock, &result, 1000) <= 0) {
+			fprintf(stderr, "communication error receiving response from hdhomerun device\n");
+			return 1;
+		}
+		if (result.type != HDHOMERUN_TYPE_GETSET_RPY) {
+			fprintf(stderr, "unexpected reply type from hdhomerun device\n");
+			return 1;
+		}
+		while (result.ptr < result.end) {
+			unsigned char tag;
+			int length;
+			unsigned char *value;
+			if (hdhomerun_read_tlv(&result.ptr, result.end, &tag, &length, &value) < 0) {
+				break;
+			}
+			if (tag == HDHOMERUN_TAG_ERROR_MESSAGE) {
+				return 0;
+			}
+		}
+
+		/* Wait for 1s. */
+		sleep(1);
+
+		/* Get status. */
+		sprintf(item, "/tuner%d/status", tuner);
+		if (hdhomerun_control_send_get_request(control_sock, item) < 0) {
+			fprintf(stderr, "communication error sending request to hdhomerun device\n");
+			return 1;
+		}
+
+		/* Status result. */
+		if (hdhomerun_control_recv(control_sock, &result, 1000) <= 0) {
+			fprintf(stderr, "communication error receiving response from hdhomerun device\n");
+			return 1;
+		}
+		if (result.type != HDHOMERUN_TYPE_GETSET_RPY) {
+			fprintf(stderr, "unexpected reply type from hdhomerun device\n");
+			return 1;
+		}
+		char *status = NULL;
+		while (result.ptr < result.end) {
+			unsigned char tag;
+			int length;
+			unsigned char *value;
+			if (hdhomerun_read_tlv(&result.ptr, result.end, &tag, &length, &value) < 0) {
+				break;
+			}
+			if (tag == HDHOMERUN_TAG_ERROR_MESSAGE) {
+				return 0;
+			}
+			if (tag == HDHOMERUN_TAG_GETSET_VALUE) {
+				status = (char *)value;
+			}
+		}
+		if (!status) {
+			fprintf(stderr, "unexpected reply type from hdhomerun device\n");
+			return 1;
+		}
+
+		/* If no signal then advance to next channel. */
+		char *ss_str = strstr(status, "ss=");
+		if (!ss_str) {
+			printf("%s\n", status);
+			channel++;
+			continue;
+		}
+		int ss = atoi(ss_str + strlen("ss="));
+		if (ss == 0) {
+			printf("%s\n", status);
+			channel++;
+			continue;
+		}
+
+		/* Wait for 2s. */
+		sleep(2);
+
+		/* Display channel status. */
+		cmd_get(control_sock, item);
+
+		/* Advance to next channel. */
+		channel++;
+	}
+}
+
 int cmd_upgrade(struct hdhomerun_control_sock_t *control_sock, const char *filename)
 {
 	FILE *fp = fopen(filename, "rb");
@@ -272,6 +398,7 @@
 		return 1;
 	}
 
+	printf("upgrade complete\n");
 	return 0;
 }
 
@@ -297,6 +424,13 @@
 		return cmd_set(control_sock, argv[0], argv[1]);
 	}
 
+	if (contains(cmd, "scan")) {
+		if (argc < 2) {
+			return help();
+		}
+		return cmd_scan(control_sock, argv[0], argv[1]);
+	}
+
 	if (contains(cmd, "upgrade")) {
 		if (argc < 1) {
 			return help();
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_discover.c mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_discover.c
--- mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_discover.c	2006-07-03 12:12:30.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_discover.c	2007-06-23 18:31:55.000000000 -0700
@@ -22,6 +22,12 @@
 #include "hdhomerun_pkt.h"
 #include "hdhomerun_discover.h"
 
+#if defined(__CYGWIN__)
+#include <windows.h>
+#include <iptypes.h>
+#include <iphlpapi.h>
+#endif
+
 struct hdhomerun_discover_sock_t {
 	int sock;
 };
@@ -71,7 +77,7 @@
 	free(ds);
 }
 
-int hdhomerun_discover_send(struct hdhomerun_discover_sock_t *ds, unsigned long device_type, unsigned long device_id)
+static int hdhomerun_discover_send_packet(struct hdhomerun_discover_sock_t *ds, unsigned long ip_addr, unsigned long device_type, unsigned long device_id)
 {
 	unsigned char buffer[1024];
 	unsigned char *ptr = buffer;
@@ -80,7 +86,7 @@
 	struct sockaddr_in sock_addr;
 	memset(&sock_addr, 0, sizeof(sock_addr));
 	sock_addr.sin_family = AF_INET;
-	sock_addr.sin_addr.s_addr = htonl(INADDR_BROADCAST);
+	sock_addr.sin_addr.s_addr = htonl(ip_addr);
 	sock_addr.sin_port = htons(HDHOMERUN_DISCOVER_UDP_PORT);
 
 	int length = ptr - buffer;
@@ -91,6 +97,115 @@
 	return 0;
 }
 
+#if defined(__CYGWIN__)
+static int hdhomerun_discover_send_internal(struct hdhomerun_discover_sock_t *ds, unsigned long device_type, unsigned long device_id)
+{
+	PIP_ADAPTER_INFO pAdapterInfo = (IP_ADAPTER_INFO *)malloc(sizeof(IP_ADAPTER_INFO));
+	unsigned long ulOutBufLen = sizeof(IP_ADAPTER_INFO);
+
+	DWORD Ret = GetAdaptersInfo(pAdapterInfo, &ulOutBufLen);
+	if (Ret != NO_ERROR) {
+		free(pAdapterInfo);
+		if (Ret != ERROR_BUFFER_OVERFLOW) {
+			return -1;
+		}
+		pAdapterInfo = (IP_ADAPTER_INFO *)malloc(ulOutBufLen); 
+		Ret = GetAdaptersInfo(pAdapterInfo, &ulOutBufLen);
+		if (Ret != NO_ERROR) {
+			free(pAdapterInfo);
+			return -1;
+		}
+	}
+
+	int send_count = 0;
+	PIP_ADAPTER_INFO pAdapter = pAdapterInfo;
+	while (pAdapter) {
+		IP_ADDR_STRING *pIPAddr = &pAdapter->IpAddressList;
+		while (pIPAddr) {
+			unsigned long addr = ntohl(inet_addr(pIPAddr->IpAddress.String));
+			unsigned long mask = ntohl(inet_addr(pIPAddr->IpMask.String));
+			
+			unsigned long broadcast = addr | ~mask;
+			if ((broadcast == 0x00000000) || (broadcast == 0xFFFFFFFF)) {
+				pIPAddr = pIPAddr->Next;
+				continue;
+			}
+
+			hdhomerun_discover_send_packet(ds, broadcast, device_type, device_id);
+			send_count++;
+
+			pIPAddr = pIPAddr->Next;
+		}
+
+		pAdapter = pAdapter->Next;
+	}
+
+	free(pAdapterInfo);
+
+	if (send_count == 0) {
+		return -1;
+	}
+	return 0;
+}
+#endif
+
+#if defined(__linux__)
+static int hdhomerun_discover_send_internal(struct hdhomerun_discover_sock_t *ds, unsigned long device_type, unsigned long device_id)
+{
+	FILE *fp = fopen("/proc/net/route", "r");
+	if (!fp) {
+		return -1;
+	}
+
+	int send_count = 0;
+	while (1) {
+		char line[256];
+		if (!fgets(line, sizeof(line), fp)) {
+			break;
+		}
+		line[255] = 0;
+
+		unsigned long dest;
+		unsigned long mask;
+		if (sscanf(line, "%*s %lx %*x %*x %*d %*d %*d %lx", &dest, &mask) != 2) {
+			continue;
+		}
+		dest = ntohl(dest);
+		mask = ntohl(mask);
+		
+		unsigned long broadcast = dest | ~mask;
+
+		if ((broadcast == 0x00000000) || (broadcast == 0xFFFFFFFF)) {
+			continue;
+		}
+
+		hdhomerun_discover_send_packet(ds, broadcast, device_type, device_id);
+		send_count++;
+	}
+
+	fclose(fp);
+	if (send_count == 0) {
+		return -1;
+	}
+	return 0;
+}
+#endif
+
+#if !defined(__CYGWIN__) && !defined(__linux__)
+static int hdhomerun_discover_send_internal(struct hdhomerun_discover_sock_t *ds, unsigned long device_type, unsigned long device_id)
+{
+	return -1;
+}
+#endif
+
+int hdhomerun_discover_send(struct hdhomerun_discover_sock_t *ds, unsigned long device_type, unsigned long device_id)
+{
+	if (hdhomerun_discover_send_internal(ds, device_type, device_id) < 0) {
+		return hdhomerun_discover_send_packet(ds, 0xFFFFFFFF, device_type, device_id);
+	}
+	return 0;
+}
+
 int hdhomerun_discover_recv(struct hdhomerun_discover_sock_t *ds, struct hdhomerun_discover_device_t *result, unsigned long timeout)
 {
 	struct timeval t;
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_os.h mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_os.h
--- mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_os.h	2006-04-17 10:10:52.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_os.h	2007-06-23 18:31:55.000000000 -0700
@@ -19,6 +19,7 @@
  */
 
 #include <stdlib.h>
+#include <stdio.h>
 #include <string.h>
 #include <unistd.h>
 #include <errno.h>
@@ -29,3 +30,10 @@
 #include <netdb.h>
 #include <sys/time.h>
 #include <fcntl.h>
+
+#if !defined(TRUE)
+#define TRUE 1
+#endif
+#if !defined(FALSE)
+#define FALSE 0
+#endif
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_pkt.c mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_pkt.c
--- mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_pkt.c	2006-07-03 12:12:30.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_pkt.c	2007-06-23 18:31:55.000000000 -0700
@@ -182,7 +182,7 @@
 	hdhomerun_write_u16(&ptr, length);
 }
 
-static void hdhomerun_write_crc(unsigned char **pptr, unsigned char *start)
+void hdhomerun_write_crc(unsigned char **pptr, unsigned char *start)
 {
 	unsigned char *ptr = *pptr;
 	unsigned long crc = hdhomerun_calc_crc(start, ptr);
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_pkt.h mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_pkt.h
--- mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_pkt.h	2006-07-03 12:12:30.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_pkt.h	2007-06-23 18:31:55.000000000 -0700
@@ -49,6 +49,7 @@
 extern void hdhomerun_write_u8(unsigned char **pptr, unsigned char v);
 extern void hdhomerun_write_u16(unsigned char **pptr, unsigned short v);
 extern void hdhomerun_write_u32(unsigned char **pptr, unsigned long v);
+extern void hdhomerun_write_crc(unsigned char **pptr, unsigned char *start);
 
 extern int hdhomerun_peek_packet_length(unsigned char *ptr);
 extern int hdhomerun_process_packet(unsigned char **pptr, unsigned char **pend);
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_video.c mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_video.c
--- mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_video.c	2006-07-03 12:12:30.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_video.c	2007-06-23 18:31:55.000000000 -0700
@@ -129,6 +129,11 @@
 	return 1;
 }
 
+int hdhomerun_video_get_sock(struct hdhomerun_video_sock_t *vs)
+{
+	return vs->sock;
+}
+
 static void *hdhomerun_video_thread(void *arg)
 {
 	struct hdhomerun_video_sock_t *vs = (struct hdhomerun_video_sock_t *)arg;
@@ -183,6 +188,18 @@
 	vs->tail = tail;
 }
 
+unsigned long hdhomerun_video_available_length(struct hdhomerun_video_sock_t *vs)
+{
+	unsigned long head = vs->head;
+	unsigned long tail = vs->tail;
+
+	if (head >= tail) {
+		return head - tail - vs->advance;
+	} else {
+		return head + vs->buffer_size - tail - vs->advance;
+	}
+}
+
 unsigned long hdhomerun_video_recv_memcpy(struct hdhomerun_video_sock_t *vs, unsigned char *buffer, unsigned long size)
 {
 	unsigned long head = vs->head;
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_video.h mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_video.h
--- mythtv-0.20-old/libs/libmythtv/hdhomerun/hdhomerun_video.h	2006-07-03 12:12:30.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/hdhomerun/hdhomerun_video.h	2007-06-23 18:31:55.000000000 -0700
@@ -30,6 +30,8 @@
 extern void hdhomerun_video_destroy(struct hdhomerun_video_sock_t *vs);
 extern unsigned short hdhomerun_video_get_local_port(struct hdhomerun_video_sock_t *vs);
 extern int hdhomerun_video_get_state(struct hdhomerun_video_sock_t *vs);
+extern int hdhomerun_video_get_sock(struct hdhomerun_video_sock_t *vs);
+extern unsigned long hdhomerun_video_available_length(struct hdhomerun_video_sock_t *vs);
 extern unsigned long hdhomerun_video_recv_memcpy(struct hdhomerun_video_sock_t *vs, unsigned char *buffer, unsigned long size);
 extern unsigned char *hdhomerun_video_recv_inplace(struct hdhomerun_video_sock_t *vs, unsigned long max_size, unsigned long *pactual_size);
 extern void hdhomerun_video_flush(struct hdhomerun_video_sock_t *vs);
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/hdhomerun/Makefile mythtv-0.20-new/libs/libmythtv/hdhomerun/Makefile
--- mythtv-0.20-old/libs/libmythtv/hdhomerun/Makefile	2006-07-03 12:12:30.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/hdhomerun/Makefile	2007-06-23 18:31:55.000000000 -0700
@@ -1,14 +1,19 @@
 
-HDHOMERUN_CONFIG_SRCS += hdhomerun_pkt.c
-HDHOMERUN_CONFIG_SRCS += hdhomerun_discover.c
-HDHOMERUN_CONFIG_SRCS += hdhomerun_control.c
-HDHOMERUN_CONFIG_SRCS += hdhomerun_config.c
+SRCS += hdhomerun_pkt.c
+SRCS += hdhomerun_discover.c
+SRCS += hdhomerun_control.c
+SRCS += hdhomerun_config.c
 
 CFLAGS += -Wall -O2
 
-hdhomerun_config : $(HDHOMERUN_CONFIG_SRCS)
-	gcc $(CFLAGS) $(HDHOMERUN_CONFIG_SRCS) -o hdhomerun_config
-	strip hdhomerun_config
+hdhomerun_config : $(SRCS)
+	gcc $(CFLAGS) $(SRCS) -o $@
+	strip $@
+
+hdhomerun_config.exe : $(SRCS)
+	gcc $(CFLAGS) $(SRCS) -liphlpapi -o $@
+	strip $@
 
 clean :
 	rm -f hdhomerun_config
+	rm -f hdhomerun_config.exe
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/hdhrchannel.cpp mythtv-0.20-new/libs/libmythtv/hdhrchannel.cpp
--- mythtv-0.20-old/libs/libmythtv/hdhrchannel.cpp	2006-07-20 12:54:28.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/hdhrchannel.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -301,12 +301,6 @@
     return TunerSet("target", "0.0.0.0:0");
 }
 
-bool HDHRChannel::TuneTo(uint freqid)
-{
-    VERBOSE(VB_CHANNEL, LOC + "TuneTo("<<freqid<<")");
-    return TunerSet("channel", QString::number(freqid));
-}
-
 bool HDHRChannel::SetChannelByString(const QString &channum)
 {
     QString loc = LOC + QString("SetChannelByString(%1)").arg(channum);
@@ -379,8 +373,10 @@
         }
         else
         {
-            if (!TuneTo(freqid.toInt()))
-                return false;
+            VERBOSE(VB_IMPORTANT, LOC_ERR +
+                    "dtv_multiplex data is required for tuning");
+
+            return false;
         }
     }
     else if (!ChangeExternalChannel(freqid))
@@ -392,6 +388,8 @@
     // Set the major and minor channel for any additional multiplex tuning
     if (atsc_major || atsc_minor)
         SetCachedATSCInfo(QString("%1_%2").arg(atsc_major).arg(atsc_minor));
+    else if (mpeg_prog_num >= 0)
+        SetCachedATSCInfo(QString("0-%1").arg(mpeg_prog_num));
     else
         SetCachedATSCInfo(QString("%1_0").arg(channum));
 
@@ -449,10 +447,18 @@
 
 bool HDHRChannel::Tune(uint frequency, QString /*input*/, QString modulation)
 {
-    int freqid = get_closest_freqid("atsc", modulation, "us", frequency);
-    if (freqid > 0)
-        return TuneTo(freqid);
-    return false;
+    bool ok = false;
+
+    VERBOSE(VB_CHANNEL, LOC + "TuneTo("<<frequency<<","<<modulation<<")");
+
+    if (modulation == "8vsb")
+        ok = TunerSet("channel", QString("8vsb:%1").arg(frequency));
+    else if (modulation == "qam_64")
+        ok = TunerSet("channel", QString("qam64:%1").arg(frequency));
+    else if (modulation == "qam_256")
+        ok = TunerSet("channel", QString("qam256:%1").arg(frequency));
+
+    return ok;
 }
 
 bool HDHRChannel::SwitchToInput(const QString &inputname,
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/hdhrchannel.h mythtv-0.20-new/libs/libmythtv/hdhrchannel.h
--- mythtv-0.20-old/libs/libmythtv/hdhrchannel.h	2006-07-20 12:54:28.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/hdhrchannel.h	2007-06-23 18:32:02.000000000 -0700
@@ -62,7 +62,6 @@
 
     bool DeviceSetTarget(unsigned short localPort);
     bool DeviceClearTarget(void);
-    bool TuneTo(uint freqid);
 
     QString DeviceGet(const QString &name);
     QString DeviceSet(const QString &name, const QString &value);
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/hdhrrecorder.cpp mythtv-0.20-new/libs/libmythtv/hdhrrecorder.cpp
--- mythtv-0.20-old/libs/libmythtv/hdhrrecorder.cpp	2006-07-03 12:12:30.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/hdhrrecorder.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -151,15 +151,12 @@
     }
 }
 
-void HDHRRecorder::SetStreamData(MPEGStreamData *xdata)
+void HDHRRecorder::SetStreamData(MPEGStreamData *data)
 {
-    ATSCStreamData *data = dynamic_cast<ATSCStreamData*>(xdata);
-    VERBOSE(VB_IMPORTANT, LOC + "SetStreamData(xdata: "<<xdata<<") "<<data);
-
     if (data == _stream_data)
         return;
 
-    ATSCStreamData *old_data = _stream_data;
+    MPEGStreamData *old_data = _stream_data;
     _stream_data = data;
     if (old_data)
         delete old_data;
@@ -168,14 +165,20 @@
     {
         data->AddMPEGSPListener(this);
         data->AddMPEGListener(this);
-        data->SetDesiredChannel(data->DesiredMajorChannel(),
-                                data->DesiredMinorChannel());
+
+        ATSCStreamData *atsc = dynamic_cast<ATSCStreamData*>(data);
+
+        if (atsc && atsc->DesiredMinorChannel())
+            atsc->SetDesiredChannel(atsc->DesiredMajorChannel(),
+                                    atsc->DesiredMinorChannel());
+        else if (data->DesiredProgram() >= 0)
+            data->SetDesiredProgram(data->DesiredProgram());
     }
 }
 
-MPEGStreamData *HDHRRecorder::GetStreamData(void)
+ATSCStreamData *HDHRRecorder::GetATSCStreamData(void)
 {
-    return _stream_data;
+    return dynamic_cast<ATSCStreamData*>(_stream_data);
 }
 
 void HDHRRecorder::HandlePAT(const ProgramAssociationTable *_pat)
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/hdhrrecorder.h mythtv-0.20-new/libs/libmythtv/hdhrrecorder.h
--- mythtv-0.20-old/libs/libmythtv/hdhrrecorder.h	2006-06-06 13:12:12.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/hdhrrecorder.h	2007-06-23 18:32:02.000000000 -0700
@@ -39,8 +39,8 @@
     void StartRecording(void);
 
     void SetStreamData(MPEGStreamData*);
-    MPEGStreamData *GetStreamData(void);
-    ATSCStreamData *GetATSCStreamData(void) { return _stream_data; }
+    MPEGStreamData *GetStreamData(void) { return _stream_data; }
+    ATSCStreamData *GetATSCStreamData(void);
 
     // MPEG Stream Listener
     void HandlePAT(const ProgramAssociationTable*);
@@ -69,7 +69,7 @@
   private:
     HDHRChannel                   *_channel;
     struct hdhomerun_video_sock_t *_video_socket;
-    ATSCStreamData                *_stream_data;
+    MPEGStreamData                *_stream_data;
 
     ProgramAssociationTable       *_input_pat;
     ProgramMapTable               *_input_pmt;
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/libmythtv.pro mythtv-0.20-new/libs/libmythtv/libmythtv.pro
--- mythtv-0.20-old/libs/libmythtv/libmythtv.pro	2006-07-18 05:35:04.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/libmythtv.pro	2007-06-23 18:32:02.000000000 -0700
@@ -322,10 +322,12 @@
 
     # Channel scanner stuff
     HEADERS += scanwizard.h                scanwizardhelpers.h
+    HEADERS += dvbconfparser.h             dtvconfparserhelpers.h
     HEADERS += siscan.h
     HEADERS += scanwizardscanner.h
     SOURCES += scanwizard.cpp              scanwizardhelpers.cpp
     SOURCES += siscan.cpp
+    SOURCES += dvbconfparser.cpp           dtvconfparserhelpers.cpp
     SOURCES += scanwizardscanner.cpp
 
     # EIT stuff
@@ -449,8 +451,8 @@
         SOURCES += dvbrecorder.cpp
 
         # Misc
-        HEADERS += dvbconfparser.h        dvbdev/dvbci.h
-        SOURCES += dvbconfparser.cpp      dvbdev/dvbci.cpp
+        HEADERS += dvbdev/dvbci.h
+        SOURCES += dvbdev/dvbci.cpp
 
         DEFINES += USING_DVB
     }
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/mpeg/atsctables.h mythtv-0.20-new/libs/libmythtv/mpeg/atsctables.h
--- mythtv-0.20-old/libs/libmythtv/mpeg/atsctables.h	2006-04-23 08:04:23.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/mpeg/atsctables.h	2007-06-23 18:32:00.000000000 -0700
@@ -44,7 +44,7 @@
  */
 
 /** Seconds between start of GPS time and the start of UNIX time. */
-#define secs_Between_1Jan1970_6Jan1980 315982800
+#define secs_Between_1Jan1970_6Jan1980 315964800
 
 /** Leap seconds as of Jan 1st, 2006. */
 #define GPS_LEAP_SECONDS 14
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/mpeg/dvbdescriptors.cpp mythtv-0.20-new/libs/libmythtv/mpeg/dvbdescriptors.cpp
--- mythtv-0.20-old/libs/libmythtv/mpeg/dvbdescriptors.cpp	2006-08-10 14:23:33.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/mpeg/dvbdescriptors.cpp	2007-06-23 18:32:00.000000000 -0700
@@ -80,7 +80,7 @@
 
     // Strip formatting characters
     // Also, if a override encoding is specified copy it in front of the text
-    char dst[raw_length + encoding_override_length];
+    unsigned char dst[raw_length + encoding_override_length];
     uint length = encoding_override_length;
     if (encoding_override)
         memcpy(dst, encoding_override, encoding_override_length);
@@ -93,7 +93,7 @@
             length++;
         }
     }
-    const char *buf = dst;
+    const unsigned char *buf = dst;
 
     // Exit on empty string, sans formatting.
     if (!length)
@@ -102,11 +102,11 @@
     // Decode using the correct text codec
     if (buf[0] >= 0x20)
     {
-        return decode_iso6937((unsigned char*)buf, length);
+        return decode_iso6937(buf, length);
     }
     else if ((buf[0] >= 0x01) && (buf[0] <= 0x0B))
     {
-        return iso8859_codecs[4 + buf[0]]->toUnicode(buf + 1, length - 1);
+        return iso8859_codecs[4 + buf[0]]->toUnicode((char*)(buf + 1), length - 1);
     }
     else if (buf[0] == 0x10)
     {
@@ -118,14 +118,14 @@
 
         uint code = buf[1] << 8 | buf[2];
         if (code <= 15)
-            return iso8859_codecs[code]->toUnicode(buf + 3, length - 3);
+            return iso8859_codecs[code]->toUnicode((char*)(buf + 3), length - 3);
         else
-            return QString::fromLocal8Bit(buf + 3, length - 3);
+            return QString::fromLocal8Bit((char*)(buf + 3), length - 3);
     }
     else
     {
         // Unknown/invalid encoding - assume local8Bit
-        return QString::fromLocal8Bit(buf + 1, length - 1);
+        return QString::fromLocal8Bit((char*)(buf + 1), length - 1);
     }
 }
 
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/mpeg/dvbdescriptors.h mythtv-0.20-new/libs/libmythtv/mpeg/dvbdescriptors.h
--- mythtv-0.20-old/libs/libmythtv/mpeg/dvbdescriptors.h	2006-08-10 14:23:33.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/mpeg/dvbdescriptors.h	2007-06-23 18:32:00.000000000 -0700
@@ -618,7 +618,7 @@
     uint Modulation() const { return _data[8]&0x1f; }
     QString ModulationString() const
     {
-        static QString ms[] = { "qpsk", "qpsk", "qpsk_8", "qam_16" };
+        static QString ms[] = { "qpsk", "qpsk", "8psk", "qam_16" };
         return (Modulation() <= kModulationQAM16) ? ms[Modulation()] : "auto";
     }
     // symbol_rate             28   9.0
@@ -1160,6 +1160,20 @@
         kServiceTypeRCS_FLS                  = 0x0F,
         kServiceTypeDVB_MHP                  = 0x10,
         kServiceTypeHDTV                     = 0x19,
+        kServiceTypeEchoStarTV1              = 0x91,
+        kServiceTypeEchoStarTV2              = 0x9a,
+        kServiceTypeEchoStarTV3              = 0xa4,
+        kServiceTypeEchoStarTV4              = 0xa6,
+        kServiceTypeNimiqTV1                 = 0x81,
+        kServiceTypeNimiqTV2                 = 0x85,
+        kServiceTypeNimiqTV3                 = 0x86,
+        kServiceTypeNimiqTV4                 = 0x89,
+        kServiceTypeNimiqTV5                 = 0x8a,
+        kServiceTypeNimiqTV6                 = 0x8d, 
+        kServiceTypeNimiqTV7                 = 0x8f,
+        kServiceTypeNimiqTV8                 = 0x90,
+        kServiceTypeNimiqTV9                 = 0x96,
+
     };
     // service_type             8   2.0
     uint ServiceType(void) const { return _data[2]; }
@@ -1178,7 +1192,20 @@
                                ServiceNameLength());
     }
     bool IsDTV(void) const
-        { return ServiceType() ==  kServiceTypeDigitalTelevision; }
+        { return ((ServiceType() ==  kServiceTypeDigitalTelevision) ||
+                  (ServiceType() ==  kServiceTypeEchoStarTV1) ||
+                  (ServiceType() ==  kServiceTypeEchoStarTV2) ||
+                  (ServiceType() ==  kServiceTypeEchoStarTV3) ||
+                  (ServiceType() ==  kServiceTypeEchoStarTV4) ||
+                  (ServiceType() ==  kServiceTypeNimiqTV1) ||
+                  (ServiceType() ==  kServiceTypeNimiqTV2) ||
+                  (ServiceType() ==  kServiceTypeNimiqTV3) ||
+                  (ServiceType() ==  kServiceTypeNimiqTV4) ||
+                  (ServiceType() ==  kServiceTypeNimiqTV5) ||
+                  (ServiceType() ==  kServiceTypeNimiqTV6) ||
+                  (ServiceType() ==  kServiceTypeNimiqTV7) ||
+                  (ServiceType() ==  kServiceTypeNimiqTV8) ||
+                  (ServiceType() ==  kServiceTypeNimiqTV9)); }
     bool IsDigitalAudio(void) const
         { return ServiceType() ==  kServiceTypeDigitalRadioSound; }
     bool IsHDTV(void) const
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/mpeg/mpegstreamdata.cpp mythtv-0.20-new/libs/libmythtv/mpeg/mpegstreamdata.cpp
--- mythtv-0.20-old/libs/libmythtv/mpeg/mpegstreamdata.cpp	2006-09-07 11:58:06.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/mpeg/mpegstreamdata.cpp	2007-06-23 18:32:00.000000000 -0700
@@ -406,11 +406,11 @@
     pmt.Parse();
 
     vector<uint> videoPIDs, audioPIDs;
-    vector<uint> videoTypes, audioTypes;
+    vector<uint> videoTypes;
     vector<uint> pids, types;
 
     // Video
-    uint video_cnt = pmt.FindPIDs(StreamID::AnyVideo, videoPIDs, videoTypes);
+    uint video_cnt = pmt.FindPIDs(StreamID::AnyVideo, videoPIDs, videoTypes, true);
     if (video_cnt < _pmt_single_program_num_video) 
     {
         VERBOSE(VB_RECORD, "Only "<<video_cnt<<" video streams seen in PMT, "
@@ -432,7 +432,7 @@
     }
 
     // Audio
-    pmt.FindPIDs(StreamID::AnyAudio, audioPIDs, audioTypes);
+    pmt.FindPIDs(StreamID::AnyAudio, audioPIDs);
     if (audioPIDs.size() < _pmt_single_program_num_audio)
     {
         VERBOSE(VB_RECORD, "Only "<<audioPIDs.size()
@@ -456,7 +456,7 @@
     uint programNumber = 1;
 
     // Construct
-    pmt.FindPIDs(StreamID::AnyAudio, pids, types);
+    pmt.FindPIDs(StreamID::AnyAudio, pids, types, true);
     ProgramMapTable *pmt2 = ProgramMapTable::
         Create(programNumber, _pid_pmt_single_program,
                pmt.PCRPID(), pmt.Version(), pids, types);
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/mpeg/mpegtables.cpp mythtv-0.20-new/libs/libmythtv/mpeg/mpegtables.cpp
--- mythtv-0.20-old/libs/libmythtv/mpeg/mpegtables.cpp	2006-04-20 12:01:31.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/mpeg/mpegtables.cpp	2007-06-23 18:32:00.000000000 -0700
@@ -256,34 +256,37 @@
 
 bool ProgramMapTable::IsEncrypted(void) const
 {
-    desc_list_t descs = MPEGDescriptor::Parse(
-        ProgramInfo(), ProgramInfoLength());
-    const unsigned char* data = MPEGDescriptor::Find(
-        descs, DescriptorID::conditional_access);
+    desc_list_t descs = MPEGDescriptor::ParseOnlyInclude(
+        ProgramInfo(), ProgramInfoLength(), DescriptorID::conditional_access);
 
-    if (data)
+    bool encrypted = false;
+    QMap<uint,uint> encryption_system;
+    for (uint i = 0; i < descs.size(); i++)
     {
-        ConditionalAccessDescriptor ca(data);
-        return 0x0 != ca.SystemID(); // System ID of 0 == no encrytion
+        ConditionalAccessDescriptor cad(descs[i]);
+        encryption_system[cad.PID()] = cad.SystemID();
+        encrypted |= cad.SystemID();
+
+        //VERBOSE(VB_IMPORTANT, "DTVsm: "<<cad.toString());
     }
 
-    return false;
-#if 0
-    QMap<uint,uint> encryption_system;
-    if (data)
+    for (uint i = 0; i < StreamCount(); i++)
     {
-        for (uint i = 0; i < descs.size(); ++i)
+        desc_list_t descs = MPEGDescriptor::ParseOnlyInclude(
+            StreamInfo(i), StreamInfoLength(i),
+            DescriptorID::conditional_access);
+
+        for (uint j = 0; j < descs.size(); j++)
         {
-            MPEGDescriptor mpegdesc(descs[i]);
-            VERBOSE(VB_IMPORTANT, "DTVsm: "<<mpegdesc.toString());
-            if (DescriptorID::conditional_access == mpegdesc.DescriptorTag())
-            {
-                ConditionalAccessDescriptor cad(descs[i]);
-                encryption_system[cad.PID()] = cad.SystemID();
-            }
+            ConditionalAccessDescriptor cad(descs[j]);
+            encryption_system[cad.PID()] = cad.SystemID();
+            encrypted |= cad.SystemID();
+
+            //VERBOSE(VB_IMPORTANT, "DTVsm: "<<cad.toString());
         }
     }
-#endif
+
+    return encrypted;
 }
 
 bool ProgramMapTable::IsStillPicture(void) const
@@ -310,6 +313,8 @@
  */
 uint ProgramMapTable::FindPIDs(uint type, vector<uint>& pids) const
 {
+    uint pids_start = pids.size();
+
     if ((StreamID::AnyMask & type) != StreamID::AnyMask)
     {
         for (uint i=0; i < StreamCount(); i++)
@@ -337,11 +342,14 @@
  *  \param type  StreamType to match
  *  \param pids  vector pids will be added to
  *  \param types vector types will be added to
+ *  \param normalize if set, types will be normalized
  *  \return number of items in pids and types lists.
  */
 uint ProgramMapTable::FindPIDs(uint type, vector<uint>& pids,
-                               vector<uint>& types) const
+                               vector<uint>& types, bool normalize) const
 {
+    uint pids_start = pids.size();
+
     if ((StreamID::AnyMask & type) != StreamID::AnyMask)
     {
         for (uint i=0; i < StreamCount(); i++)
@@ -351,6 +359,7 @@
                 types.push_back(StreamType(i));
             }
     }
+
     else if (StreamID::AnyVideo == type)
     {
         for (uint i=0; i < StreamCount(); i++)
@@ -370,6 +379,20 @@
             }
     }
 
+    if (!normalize)
+        return pids.size();
+
+    for (uint i = pids_start; i < pids.size(); i++)
+    {
+        int index = FindPID(pids[i]);
+        if (index >= 0)
+        {
+            desc_list_t desc = MPEGDescriptor::Parse(
+                StreamInfo(i), StreamInfoLength(i));
+            types[i] = StreamID::Normalize(types[i], desc);
+        }
+    }
+
     return pids.size();
 }
 
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/mpeg/mpegtables.h mythtv-0.20-new/libs/libmythtv/mpeg/mpegtables.h
--- mythtv-0.20-old/libs/libmythtv/mpeg/mpegtables.h	2006-04-20 12:01:31.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/mpeg/mpegtables.h	2007-06-23 18:32:00.000000000 -0700
@@ -541,7 +541,7 @@
     QString GetLanguage(uint i) const;
 
     uint FindPIDs(uint type, vector<uint>& pids) const;
-    uint FindPIDs(uint type, vector<uint>& pids, vector<uint>& types) const;
+    uint FindPIDs(uint type, vector<uint>& pids, vector<uint>& types, bool normalize) const;
 
     /// \brief Locates stream index of pid.
     /// \return stream index if successful, -1 otherwise
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/mpegrecorder.cpp mythtv-0.20-new/libs/libmythtv/mpegrecorder.cpp
--- mythtv-0.20-old/libs/libmythtv/mpegrecorder.cpp	2006-07-18 08:55:57.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/mpegrecorder.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -456,11 +456,11 @@
     ext_ctrl[3].id    = V4L2_CID_MPEG_AUDIO_L2_BITRATE;
     ext_ctrl[3].value = audbitrate - 1;
 
-    ext_ctrl[4].id    = V4L2_CID_MPEG_VIDEO_BITRATE;
-    ext_ctrl[4].value = (bitrate = min(bitrate, maxbitrate)) * 1000;
+    ext_ctrl[4].id    = V4L2_CID_MPEG_VIDEO_BITRATE_PEAK;
+    ext_ctrl[4].value = maxbitrate * 1000;
 
-    ext_ctrl[5].id    = V4L2_CID_MPEG_VIDEO_BITRATE_PEAK;
-    ext_ctrl[5].value = maxbitrate * 1000;
+    ext_ctrl[5].id    = V4L2_CID_MPEG_VIDEO_BITRATE;
+    ext_ctrl[5].value = (bitrate = min(bitrate, maxbitrate)) * 1000;
 
     ext_ctrl[6].id    = V4L2_CID_MPEG_STREAM_TYPE;
     ext_ctrl[6].value = V4L2_MPEG_STREAM_TYPE_MPEG2_PS;
@@ -875,7 +875,9 @@
     {
         curRecording->SetPositionMapDelta(positionMapDelta,
                                           MARK_GOP_START);
-        curRecording->SetFilesize(lastpackheaderpos);
+        // Stop setting the filesize here until we get the contention issue
+        // between with this thread and the scheduler worked out.
+        //curRecording->SetFilesize(lastpackheaderpos);
         positionMapDelta.clear();
     }
 }
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/NuppelVideoPlayer.cpp mythtv-0.20-new/libs/libmythtv/NuppelVideoPlayer.cpp
--- mythtv-0.20-old/libs/libmythtv/NuppelVideoPlayer.cpp	2006-09-04 19:37:19.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/NuppelVideoPlayer.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -573,7 +573,7 @@
 
 void NuppelVideoPlayer::ReinitOSD(void)
 {
-    if (videoOutput)
+    if (videoOutput && !using_null_videoout)
     {
         QRect visible, total;
         float aspect, scaling;
@@ -5480,30 +5480,26 @@
             ++commBreakIter;
             if (commBreakIter == commBreakMap.end())
             {
-                commBreakMapLock.unlock();
                 VERBOSE(VB_COMMFLAG, LOC + "AutoCommercialSkip(), at "
                         "end of commercial break list, will not skip.");
-                return;
             }
-
-            if (commBreakIter.data() == MARK_COMM_START)
+            else if (commBreakIter.data() == MARK_COMM_START)
             {
-                commBreakMapLock.unlock();
                 VERBOSE(VB_COMMFLAG, LOC + "AutoCommercialSkip(), new "
                         "commBreakIter mark is another start, will not skip.");
-                return;
             }
-
-            VERBOSE(VB_COMMFLAG, LOC + QString("AutoCommercialSkip(), new "
-                    "commBreakIter frame %1").arg(commBreakIter.key()));
-
-            if (commBreakIter.key() == totalFrames)
+            else if ((totalFrames) &&
+                     ((commBreakIter.key() + (10 * video_frame_rate)) >
+                                                                   totalFrames))
             {
-                VERBOSE(VB_IMPORTANT, LOC + "Skipping commercial to end of file");
-                eof = true;
+                VERBOSE(VB_COMMFLAG, LOC + "AutoCommercialSkip(), skipping "
+                        "would take us to the end of the file, will not skip.");
             }
             else
             {
+                VERBOSE(VB_COMMFLAG, LOC + QString("AutoCommercialSkip(), new "
+                        "commBreakIter frame %1").arg(commBreakIter.key()));
+
                 if (osd)
                 {
                     QString comm_msg;
@@ -5668,7 +5664,10 @@
         {
             commBreakIter++;
 
-            if (commBreakIter == commBreakMap.end())
+            if ((commBreakIter == commBreakMap.end()) ||
+                ((totalFrames) &&
+                 ((commBreakIter.key() + (10 * video_frame_rate)) >
+                                                                totalFrames)))
             {
                 if (osd)
                 {
@@ -6314,11 +6313,10 @@
     int numbuttons = ringBuffer->DVD()->NumMenuButtons();
     bool osdshown = osd->IsSetDisplaying("subtitles");
     long long menupktpts = ringBuffer->DVD()->GetMenuPktPts();
-    bool instillframe = ringBuffer->DVD()->InStillFrame();
 
     if ((numbuttons == 0) || 
         (osdshown) ||
-        (instillframe && buffer->timecode > 0) ||
+        (indvdstillframe && buffer->timecode > 0) ||
         ((!osdshown) && 
             (!indvdstillframe) &&
             (hidedvdbutton) &&
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/NuppelVideoRecorder.cpp mythtv-0.20-new/libs/libmythtv/NuppelVideoRecorder.cpp
--- mythtv-0.20-old/libs/libmythtv/NuppelVideoRecorder.cpp	2006-08-29 12:30:22.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/NuppelVideoRecorder.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -2063,7 +2063,9 @@
     if (curRecording && force)
     {
         curRecording->SetPositionMapDelta(positionMapDelta, MARK_KEYFRAME);
-        curRecording->SetFilesize(lastPositionMapPos);
+        // Stop setting the filesize here until we get the contention issue
+        // between with this thread and the scheduler worked out.
+        //curRecording->SetFilesize(lastPositionMapPos);
         positionMapDelta.clear();
     }
 }
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/osd.cpp mythtv-0.20-new/libs/libmythtv/osd.cpp
--- mythtv-0.20-old/libs/libmythtv/osd.cpp	2006-09-09 13:31:14.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/osd.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -2474,6 +2474,13 @@
     totalfadetime = 0;
 }
 
+int OSD::GetRevision(void) const
+{
+    if (drawSurface)
+        return drawSurface->GetRevision();
+    return 0;
+}
+
 OSDSurface *OSD::Display(void)
 {
     bool anytodisplay = false;
@@ -2545,7 +2552,7 @@
 
     m_setsvisible = anytodisplay;
 
-    if (m_setsvisible)
+    if (m_setsvisible && !drawSurface->IsClear())
         return drawSurface;
 
     return NULL;
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/osd.h mythtv-0.20-new/libs/libmythtv/osd.h
--- mythtv-0.20-old/libs/libmythtv/osd.h	2006-06-29 11:29:16.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/osd.h	2007-06-23 18:32:02.000000000 -0700
@@ -60,6 +60,8 @@
 
     OSDSurface *Display(void);
 
+    int  GetRevision(void) const;
+
     void ClearAll(const QString &name);
     void ClearAllText(const QString &name);
     void SetText(const QString &name, QMap<QString, QString> &infoMap,
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/osdsurface.cpp mythtv-0.20-new/libs/libmythtv/osdsurface.cpp
--- mythtv-0.20-old/libs/libmythtv/osdsurface.cpp	2006-08-17 08:25:45.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/osdsurface.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -135,6 +135,11 @@
     usedRegions = QRegion();
 }
 
+bool OSDSurface::IsClear(void) const
+{
+    return (usedRegions == QRegion());
+}
+
 bool OSDSurface::IntersectsDrawn(QRect &newrect)
 {
     QMutexLocker lock(&usedRegionsLock);
@@ -799,7 +804,7 @@
 
         if (startline < 0) startline = 0;
         if (endline >= height) endline = height - 1;
-        if (startcol < 0) endcol = 0;
+        if (startcol < 0) startcol = 0;
         if (endcol >= width) endcol = width - 1;
 
         unsigned char *src;
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/osdsurface.h mythtv-0.20-new/libs/libmythtv/osdsurface.h
--- mythtv-0.20-old/libs/libmythtv/osdsurface.h	2006-08-17 08:25:45.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/osdsurface.h	2007-06-23 18:32:02.000000000 -0700
@@ -24,6 +24,7 @@
 
     void Clear(void);
     void ClearUsed(void);
+    bool IsClear(void) const;
 
     bool IntersectsDrawn(QRect &newrect);
     void AddRect(QRect &newrect);
@@ -35,7 +36,7 @@
         if (change) 
             ++revision;
     }
-    int GetRevision() { return revision; }
+    int GetRevision(void) const { return revision; }
 
     void BlendToYV12(unsigned char *yptr,
                      unsigned char *uptr,
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/osdtypes.cpp mythtv-0.20-new/libs/libmythtv/osdtypes.cpp
--- mythtv-0.20-old/libs/libmythtv/osdtypes.cpp	2006-09-04 11:33:22.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/osdtypes.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -2146,7 +2146,7 @@
         QPoint((int)round(pos.x() / wmult),
                (int)round(pos.y() / hmult)));
 
-    VERBOSE(VB_IMPORTANT,
+    VERBOSE(VB_OSD,
             "OSDTypePositionImage::AddPosition["<<m_numpositions<<"]("
             <<pos.x()<<"x"<<pos.y()
             <<"  "<<wmult<<", "<<hmult<<")");
@@ -2157,7 +2157,7 @@
 void OSDTypePositionImage::Draw(OSDSurface *surface, int fade, int maxfade,
                                 int xoff, int yoff)
 {
-    VERBOSE(VB_IMPORTANT,
+    VERBOSE(VB_OSD,
             "OSDTypePositionImage::Draw["<<m_curposition<<"]("
             <<m_wmult<<", "<<m_hmult<<")");
 
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/profilegroup.cpp mythtv-0.20-new/libs/libmythtv/profilegroup.cpp
--- mythtv-0.20-old/libs/libmythtv/profilegroup.cpp	2006-04-03 01:58:08.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/profilegroup.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -94,10 +94,13 @@
                          it != cardtypes.end(); it++)
                    if (result.value(4).toString() == *it)
                        match = true;
-                   else if (result.value(4).toString() == "TRANSCODE")
-                       transcodeID = result.value(1).toString();
+
                if (! match)
+               {
+                   if (result.value(4).toString() == "TRANSCODE")
+                       transcodeID = result.value(1).toString();
                    continue;
+               }
             }
             QString value = QString::fromUtf8(result.value(0).toString());
             if (result.value(2).toString() != NULL &&
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/progfind.cpp mythtv-0.20-new/libs/libmythtv/progfind.cpp
--- mythtv-0.20-old/libs/libmythtv/progfind.cpp	2006-09-04 20:08:32.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/progfind.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -516,11 +516,9 @@
 
 void ProgFinder::cursorLeft()
 {
-    inSearch--;
-    if (inSearch == -1 && arrowAccel)
-        escape();
-    else
+    if (inSearch > 0)
     {
+        inSearch--;
         if (inSearch == 0)
             showSearchList();
         else if (inSearch == 1)
@@ -529,6 +527,9 @@
             clearShowData();
         }
     }
+    else if (inSearch == 0 && arrowAccel)
+        escape();
+
     update(infoRect);
     update(listRect);
 }
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/programinfo.cpp mythtv-0.20-new/libs/libmythtv/programinfo.cpp
--- mythtv-0.20-old/libs/libmythtv/programinfo.cpp	2006-09-10 21:35:19.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/programinfo.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -309,6 +309,7 @@
     INT_TO_LIST(hasAirDate)     
     STR_TO_LIST((playgroup != "") ? playgroup : "Default")
     INT_TO_LIST(recpriority2)
+    INT_TO_LIST(parentid)
 }
 
 /** \fn ProgramInfo::FromStringList(QStringList&,int)
@@ -407,6 +408,7 @@
     INT_FROM_LIST(hasAirDate);
     STR_FROM_LIST(playgroup)
     INT_FROM_LIST(recpriority2)
+    INT_FROM_LIST(parentid)
 
     return true;
 }
@@ -1039,7 +1041,11 @@
     query.prepare("UPDATE recorded "
                   "SET recordid = :RECID "
                   "WHERE chanid = :CHANID AND starttime = :START");
-    query.bindValue(":RECID",  getRecordID());
+
+    if (rectype == kOverrideRecord && parentid > 0)
+        query.bindValue(":RECID", parentid);
+    else
+        query.bindValue(":RECID",  getRecordID());
     query.bindValue(":CHANID", chanid);
     query.bindValue(":START",  recstartts);
 
@@ -1419,15 +1425,15 @@
     return true;
 }               
 
-/** \fn ProgramInfo::GetRecordBasename(void) const
+/** \fn ProgramInfo::GetRecordBasename() const
  *  \brief Returns a filename for a recording based on the
  *         recording channel and date.
  */
-QString ProgramInfo::GetRecordBasename(void) const
+QString ProgramInfo::GetRecordBasename(bool fromDB) const
 {
     QString retval = "";
 
-    if (!pathname.isEmpty())
+    if (!fromDB && !pathname.isEmpty())
         retval = pathname.section('/', -1);
     else
     {
@@ -1452,13 +1458,13 @@
     return retval;
 }               
 
-/** \fn ProgramInfo::GetRecordFilename(const QString&) const
+/** \fn ProgramInfo::GetRecordFilename() const
  *  \brief Returns prefix+"/"+GetRecordBasename()
  *  \param prefix Prefix to apply to GetRecordBasename().
  */
-QString ProgramInfo::GetRecordFilename(const QString &prefix) const
+QString ProgramInfo::GetRecordFilename(const QString &prefix, bool fromDB) const
 {
-    return QString("%1/%2").arg(prefix).arg(GetRecordBasename());
+    return QString("%1/%2").arg(prefix).arg(GetRecordBasename(fromDB));
 }               
 
 /** \fn ProgramInfo::GetPlaybackURL(QString) const
@@ -1566,9 +1572,11 @@
 
     query.prepare("REPLACE INTO recordedprogram"
                  " SELECT * from program"
-                 " WHERE chanid = :CHANID AND starttime = :START;");
+                 " WHERE chanid = :CHANID AND starttime = :START"
+                 " AND title = :TITLE;");
     query.bindValue(":CHANID", chanid);
     query.bindValue(":START", startts);
+    query.bindValue(":TITLE", title);
     if (!query.exec() || !query.isActive())
         MythContext::DBError("Copy program data on record", query);
 
@@ -1662,17 +1670,28 @@
     query.bindValue(":PROFILE",     schd->getProfileName());
 
     bool ok = query.exec() && (query.numRowsAffected() > 0);
-    if (!ok && !query.isActive())
+    bool active = query.isActive();
+
+    query.prepare("UNLOCK TABLES");
+    query.exec();
+
+    if (!ok && !active)
         MythContext::DBError("insert_program -- insert", query);
     else
     {
         query.prepare("UPDATE record SET last_record = NOW() "
                       "WHERE recordid = :RECORDID");
-        query.bindValue(":RECORDID",    pg->recordid);
+        query.bindValue(":RECORDID", pg->recordid);
         query.exec();
+
+        if (pg->rectype == kOverrideRecord && pg->parentid > 0)
+        {
+            query.prepare("UPDATE record SET last_record = NOW() "
+                          "WHERE recordid = :PARENTID");
+            query.bindValue(":PARENTID", pg->parentid);
+            query.exec();
+        }
     }
-    query.prepare("UNLOCK TABLES");
-    query.exec();
 
     return ok;
 }
@@ -1710,12 +1729,11 @@
 void ProgramInfo::UpdateRecordingEnd(void)
 {
     MSqlQuery query(MSqlQuery::InitCon());
-    query.prepare("UPDATE recorded SET endtime = :ENDTIME, "
-                  "    recordid = :RECORDID "
+    query.prepare("UPDATE recorded SET endtime = :ENDTIME "
                   "WHERE chanid = :CHANID AND "
                   "    starttime = :STARTTIME ");
     query.bindValue(":ENDTIME", recendts);
-    query.bindValue(":RECORDID", recordid);
+
     query.bindValue(":CHANID", chanid);
     query.bindValue(":STARTTIME", recstartts);
 
@@ -2823,6 +2841,8 @@
         return QObject::tr("K", "RecStatusChar rsLowDiskSpace");
     case rsTunerBusy:
         return QObject::tr("B", "RecStatusChar rsTunerBusy");
+    case rsFailed:
+        return QObject::tr("f", "RecStatusChar rsFailed");
     case rsNotListed:
         return QObject::tr("N", "RecStatusChar rsNotListed");
     case rsNeverRecord:
@@ -2879,6 +2899,8 @@
             return QObject::tr("Low Disk Space");
         case rsTunerBusy:
             return QObject::tr("Tuner Busy");
+        case rsFailed:
+            return QObject::tr("Recorder Failed");
         case rsNotListed:
             return QObject::tr("Not Listed");
         case rsNeverRecord:
@@ -2932,6 +2954,9 @@
         case rsTunerBusy:
             message += QObject::tr("the tuner card was already being used.");
             break;
+        case rsFailed:
+            message += QObject::tr("the recording failed.");
+            break;
         default:
             message = QObject::tr("The status of this showing is unknown.");
             break;
@@ -3536,7 +3561,7 @@
                   "editing, bookmark, stereo, closecaptioned, hdtv "
                   "FROM recorded LEFT JOIN recordedprogram ON "
                   "(recorded.chanid = recordedprogram.chanid AND "
-                  "recorded.starttime = recordedprogram.starttime) "
+                  "recorded.progstart = recordedprogram.starttime) "
                   "WHERE recorded.chanid = :CHANID AND recorded.starttime = :STARTTIME ;");
     query.bindValue(":CHANID", chanid);
     query.bindValue(":STARTTIME", recstartts);
@@ -4207,7 +4232,7 @@
         "LEFT JOIN channel ON recorded.chanid = channel.chanid "
         "LEFT JOIN recordedprogram ON "
         " ( recorded.chanid    = recordedprogram.chanid AND "
-        "   recorded.starttime = recordedprogram.starttime ) "
+        "   recorded.progstart = recordedprogram.starttime ) "
         "WHERE ( recorded.deletepending = 0 OR "
         "        DATE_ADD(recorded.lastmodified,  INTERVAL 5 MINUTE) <= NOW() "
         "      ) "
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/programinfo.h mythtv-0.20-new/libs/libmythtv/programinfo.h
--- mythtv-0.20-old/libs/libmythtv/programinfo.h	2006-07-14 12:31:24.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/programinfo.h	2007-06-23 18:32:02.000000000 -0700
@@ -13,7 +13,7 @@
 typedef QMap<long long, long long> frm_pos_map_t;
 typedef QMap<long long, int> frm_dir_map_t;
 
-#define NUMPROGRAMLINES 41
+#define NUMPROGRAMLINES 42
 
 typedef enum {
     MARK_UNSET = -10,
@@ -59,6 +59,7 @@
 };
 
 enum RecStatusType {
+    rsFailed = -9,
     rsTunerBusy = -8,
     rsLowDiskSpace = -7,
     rsCancelled = -6,
@@ -157,8 +158,8 @@
 
     // Quick gets
     bool SetRecordBasename(QString basename);
-    QString GetRecordBasename(void) const;
-    QString GetRecordFilename(const QString &prefix) const;
+    QString GetRecordBasename(bool fromDB = false) const;
+    QString GetRecordFilename(const QString &prefix, bool fromDB = false) const;
     QString GetPlaybackURL(QString playbackHost = "") const;
     QString MakeUniqueKey(void) const;
     int CalculateLength(void) const;
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/scanwizard.cpp mythtv-0.20-new/libs/libmythtv/scanwizard.cpp
--- mythtv-0.20-old/libs/libmythtv/scanwizard.cpp	2006-05-22 15:51:16.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/scanwizard.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -39,6 +39,7 @@
     : paneOFDM(new OFDMPane()),     paneQPSK(new QPSKPane()),
       paneATSC(new ATSCPane()),     paneQAM(new QAMPane()),
       paneSingle(new STPane()),
+      paneDVBUtilsImport(new DVBUtilsImportPane()),
 #ifdef FE_GET_EXTENDED_INFO
       paneDVBS2(new DVBS2Pane()),
 #endif
@@ -111,7 +112,10 @@
     bool vl1 = (configPane->scanConfig->
                 ignoreSignalTimeoutAll->getValue().toInt());
 
-    return (ts0) ? vl0 : ((ts1) ? vl1 : false);
+    bool ts2 = (ScanTypeSetting::DVBUtilsImport == scanType());
+    bool vl2 = paneDVBUtilsImport->DoIgnoreSignalTimeout();
+
+    return (ts0) ? vl0 : ((ts1) ? vl1 : (ts2) ? vl2 : false);
 }
 
 QString ScanWizard::country(void) const
@@ -121,5 +125,5 @@
 
 QString ScanWizard::filename(void) const
 {
-    return configPane->scanConfig->filename->getValue();
+    return paneDVBUtilsImport->GetFilename();
 }
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/scanwizard.h mythtv-0.20-new/libs/libmythtv/scanwizard.h
--- mythtv-0.20-old/libs/libmythtv/scanwizard.h	2006-03-15 14:21:38.000000000 -0800
+++ mythtv-0.20-new/libs/libmythtv/scanwizard.h	2007-06-23 18:32:02.000000000 -0700
@@ -42,6 +42,7 @@
 class ATSCPane;
 class QAMPane;
 class STPane;
+class DVBUtilsImportPane;
 class ScanWizardScanType;
 class ScanWizardScanner;
 
@@ -77,6 +78,8 @@
     ATSCPane     *paneATSC;
     QAMPane      *paneQAM;
     STPane       *paneSingle;
+    DVBUtilsImportPane *paneDVBUtilsImport;
+
     int           nVideoDev;
     unsigned      nCardType;
     int           nCaptureCard;
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/scanwizardhelpers.cpp mythtv-0.20-new/libs/libmythtv/scanwizardhelpers.cpp
--- mythtv-0.20-old/libs/libmythtv/scanwizardhelpers.cpp	2006-08-16 14:47:43.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/scanwizardhelpers.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -1,5 +1,5 @@
 /* -*- Mode: c++ -*-
- * $Id: scanwizardhelpers.cpp 10791 2006-08-16 21:47:43Z danielk $
+ * $Id: scanwizardhelpers.cpp 13237 2007-04-14 04:59:17Z jarod $
  * vim: set expandtab tabstop=4 shiftwidth=4:
  *
  * Original Project
@@ -315,29 +315,27 @@
         addSelection(tr("Full Scan (Tuned)"),
                      QString::number(NITAddScan_OFDM));
         addSelection(tr("Import channels.conf"),
-                     QString::number(Import));
+                     QString::number(DVBUtilsImport));
         break;
     case CardUtil::QPSK:
         addSelection(tr("Full Scan (Tuned)"),
                      QString::number(NITAddScan_QPSK));
         addSelection(tr("Import channels.conf"),
-                     QString::number(Import));
+                     QString::number(DVBUtilsImport));
         break;
     case CardUtil::QAM:
         addSelection(tr("Full Scan (Tuned)"),
                      QString::number(NITAddScan_QAM));
         addSelection(tr("Import channels.conf"),
-                     QString::number(Import));
+                     QString::number(DVBUtilsImport));
         break;
     case CardUtil::ATSC:
     case CardUtil::HDTV:
     case CardUtil::HDHOMERUN:
         addSelection(tr("Full Scan"),
                      QString::number(FullScan_ATSC), true);
-#ifdef USING_DVB
         addSelection(tr("Import channels.conf"),
-                     QString::number(Import));
-#endif
+                     QString::number(DVBUtilsImport));
         break;
     case CardUtil::FREEBOX:
         addSelection(tr("M3U Import"),
@@ -393,8 +391,7 @@
     ConfigurationGroup(false, false, true, true),
     VerticalConfigurationGroup(false, false, true, true),
     country(new ScanCountry()),
-    ignoreSignalTimeoutAll(new IgnoreSignalTimeout()),
-    filename(new ScanFileImport())
+    ignoreSignalTimeoutAll(new IgnoreSignalTimeout())
 {
     setTrigger(scanType);
 
@@ -432,8 +429,8 @@
               scanAllTransports);
     addTarget(QString::number(ScanTypeSetting::FreeBoxImport),
               new BlankSetting());
-    addTarget(QString::number(ScanTypeSetting::Import),
-              filename);
+    addTarget(QString::number(ScanTypeSetting::DVBUtilsImport),
+              wizard->paneDVBUtilsImport);
 }
 
 void ScanOptionalConfig::triggerChanged(const QString& value)
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/scanwizardhelpers.h mythtv-0.20-new/libs/libmythtv/scanwizardhelpers.h
--- mythtv-0.20-old/libs/libmythtv/scanwizardhelpers.h	2006-07-26 06:10:21.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/scanwizardhelpers.h	2007-06-23 18:32:02.000000000 -0700
@@ -1,5 +1,5 @@
 /* -*- Mode: c++ -*-
- * $Id: scanwizardhelpers.h 10645 2006-07-26 13:10:21Z danielk $
+ * $Id: scanwizardhelpers.h 13237 2007-04-14 04:59:17Z jarod $
  * vim: set expandtab tabstop=4 shiftwidth=4:
  *
  * Original Project
@@ -188,16 +188,6 @@
     ScanCountry();
 };
 
-class ScanFileImport : public LineEditSetting, public TransientStorage
-{
-public:
-    ScanFileImport() : LineEditSetting()
-    {
-        setLabel(QObject::tr("File location"));
-        setHelpText(QObject::tr("Location of the channels.conf file."));
-    }
-};
-
 class ScanTypeSetting : public ComboBoxSetting, public TransientStorage
 {
     Q_OBJECT
@@ -222,7 +212,7 @@
         // Freebox import of channels from M3U URL
         FreeBoxImport,
         // Imports lists from dvb-utils scanners
-        Import
+        DVBUtilsImport,
     };
     ScanTypeSetting() : nCaptureCard(-1)
     {
@@ -244,7 +234,7 @@
 
     ScanCountry         *country;
     IgnoreSignalTimeout *ignoreSignalTimeoutAll;
-    ScanFileImport      *filename;
+
   protected slots:
     void triggerChanged(const QString&);
 };
@@ -781,6 +771,43 @@
     IgnoreSignalTimeout     *ignore_signal_timeout;
 };
 
+class DVBUtilsImportPane : public VerticalConfigurationGroup
+{
+  public:
+    DVBUtilsImportPane() :
+        ConfigurationGroup(false,false,true,false),
+        VerticalConfigurationGroup(false,false,true,false),
+        filename(new TransLineEditSetting()),
+        atsc_format(new ScanATSCChannelFormat()),
+        old_channel_treatment(new ScanOldChannelTreatment()),
+        ignore_signal_timeout(new IgnoreSignalTimeout())
+    {
+        filename->setLabel(tr("File location"));
+        filename->setHelpText(tr("Location of the channels.conf file."));
+        addChild(filename);
+
+        addChild(atsc_format);
+        addChild(old_channel_treatment);
+        addChild(ignore_signal_timeout);
+    }
+
+    QString GetFilename(void)   const { return filename->getValue();    }
+    QString GetATSCFormat(void) const { return atsc_format->getValue(); }
+
+    bool DoDeleteChannels(void) const
+        { return old_channel_treatment->getValue() == "delete"; }
+    bool DoRenameChannels(void) const
+        { return old_channel_treatment->getValue() == "rename"; }
+    bool DoIgnoreSignalTimeout(void) const
+        { return ignore_signal_timeout->getValue().toInt(); }
+
+  private:
+    TransLineEditSetting    *filename;
+    ScanATSCChannelFormat   *atsc_format;
+    ScanOldChannelTreatment *old_channel_treatment;
+    IgnoreSignalTimeout     *ignore_signal_timeout;
+};
+
 class ErrorPane : public HorizontalConfigurationGroup
 {
   public:
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/scanwizardscanner.cpp mythtv-0.20-new/libs/libmythtv/scanwizardscanner.cpp
--- mythtv-0.20-old/libs/libmythtv/scanwizardscanner.cpp	2006-07-18 05:35:04.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/scanwizardscanner.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -43,6 +43,7 @@
 #include "channelbase.h"
 #include "dtvsignalmonitor.h"
 #include "siscan.h"
+#include "dvbconfparser.h"
 
 #ifdef USING_V4L
 #include "channel.h"
@@ -53,7 +54,6 @@
 #ifdef USING_DVB
 #include "dvbchannel.h"
 #include "dvbsignalmonitor.h"
-#include "dvbconfparser.h"
 #endif
 
 #ifdef USING_HDHOMERUN
@@ -302,10 +302,9 @@
         do_scan = false;
         ScanAnalog(cardid, nVideoSource);
     }
-    else if (nScanType == ScanTypeSetting::Import)
+    else if (nScanType == ScanTypeSetting::DVBUtilsImport)
     {
-        do_scan = false;
-        Import(nVideoSource, parent->nCardType, parent->filename());
+        ImportDVBUtils(nVideoSource, parent->nCardType, parent->filename());
     }
     else if ((nScanType == ScanTypeSetting::FullScan_ATSC)     ||
              (nScanType == ScanTypeSetting::FullTransportScan) ||
@@ -416,49 +415,36 @@
     }
 }
 
-void ScanWizardScanner::Import(uint sourceid, int cardtype,
-                               const QString &file)
+void ScanWizardScanner::ImportDVBUtils(uint sourceid, int cardtype,
+                                       const QString &file)
 {
-    (void) sourceid;
-    (void) cardtype;
-    (void) file;
+    channels.clear();
 
-#ifdef USING_DVB
-    DVBConfParser *parser = NULL;
-
-    if (CardUtil::OFDM == cardtype)
-        parser = new DVBConfParser(DVBConfParser::OFDM, sourceid, file);
-    else if (CardUtil::QPSK == cardtype)
-        parser = new DVBConfParser(DVBConfParser::QPSK, sourceid, file);
-    else if (CardUtil::QAM == cardtype)
-        parser = new DVBConfParser(DVBConfParser::QAM, sourceid, file);
-    else if ((CardUtil::ATSC == cardtype) ||
-             (CardUtil::HDTV == cardtype))
-        parser = new DVBConfParser(DVBConfParser::ATSC, sourceid, file);
+    DTVConfParser::cardtype_t type = DTVConfParser::UNKNOWN;
+    type = (CardUtil::OFDM == cardtype) ? DTVConfParser::OFDM : type;
+    type = (CardUtil::QPSK == cardtype) ? DTVConfParser::QPSK : type;
+    type = (CardUtil::QAM  == cardtype) ? DTVConfParser::QAM  : type;
+    type = ((CardUtil::ATSC == cardtype) || (CardUtil::HDTV == cardtype) ||
+            (CardUtil::HDHOMERUN == cardtype)) ? DTVConfParser::ATSC : type;
 
-    if (!parser)
+    if (type == DTVConfParser::UNKNOWN)
         return;
 
-    connect(parser, SIGNAL(updateText(const QString&)),
-            this,   SLOT(  updateText(const QString&)));
-
-    int ret = parser->parse();
-    parser->deleteLater();
+    DTVConfParser parser(type, sourceid, file);
 
-    if (DVBConfParser::ERROR_OPEN == ret)
+    DTVConfParser::return_t ret = parser.Parse();
+    if (DTVConfParser::OK != ret)
     {
-        MythPopupBox::showOkPopup(
-            gContext->GetMainWindow(), tr("ScanWizard"),
-            tr("Failed to open '%1'").arg(file));
-    }
+        QString msg = (DTVConfParser::ERROR_PARSE == ret) ?
+            tr("Failed to parse '%1'") : tr("Failed to open '%1'");
 
-    if (DVBConfParser::ERROR_PARSE == ret)
+        MythPopupBox::showOkPopup(gContext->GetMainWindow(),
+                                  tr("ScanWizard"), msg.arg(file));
+    }
+    else
     {
-        MythPopupBox::showOkPopup(
-            gContext->GetMainWindow(), tr("ScanWizard"),
-            tr("Failed to parse '%1'").arg(file));
+        channels = parser.GetChannels();
     }
-#endif // USING_DVB
 }
 
 void ScanWizardScanner::PreScanCommon(uint cardid, uint sourceid)
@@ -734,6 +720,55 @@
                        ScannerEvent::ERROR_TUNE);
         }
     }
+    else if (nScanType == ScanTypeSetting::DVBUtilsImport && channels.size())
+    {
+        ok = true;
+
+        VERBOSE(VB_SIPARSER, LOC + "ScanForChannels("<<nVideoSource<<")");
+
+        scanner->SetChannelFormat(parent->paneDVBUtilsImport->GetATSCFormat());
+
+        if (parent->paneDVBUtilsImport->DoDeleteChannels())
+        {
+            MSqlQuery query(MSqlQuery::InitCon());
+            query.prepare("DELETE FROM channel "
+                          "WHERE sourceid = :SOURCEID");
+            query.bindValue(":SOURCEID", nVideoSource);
+            query.exec();
+        }
+
+        scanner->SetRenameChannels(
+            parent->paneDVBUtilsImport->DoRenameChannels());
+
+        int  ccardid = parent->captureCard();
+        int  pcardid = CardUtil::GetParentCardID(ccardid);
+        int  cardid  = (pcardid) ? pcardid : ccardid;
+        QString card_type = CardUtil::GetRawCardType(cardid, nVideoSource);
+        QString sub_type = card_type;
+        if (card_type == "DVB")
+        {
+            QString device = CardUtil::GetVideoDevice(cardid, nVideoSource);
+            ok = !device.isEmpty();
+            if (ok)
+                sub_type = CardUtil::ProbeDVBType(device.toUInt()).upper();
+        }
+
+        if (ok)
+        {
+            ok = scanner->ScanForChannels(nVideoSource, std,
+                                          sub_type, channels);
+        }
+        if (ok)
+        {
+            post_event(this, ScannerEvent::ServicePct,
+                       TRANSPORT_PCT);
+        }
+        else
+        {
+            post_event(this, ScannerEvent::TuneComplete,
+                       ScannerEvent::ERROR_TUNE);
+        }
+    }
     else if (nScanType == ScanTypeSetting::TransportScan)
     {
         VERBOSE(VB_SIPARSER, LOC + "ScanTransport("<<nMultiplexToTuneTo<<")");
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/scanwizardscanner.h mythtv-0.20-new/libs/libmythtv/scanwizardscanner.h
--- mythtv-0.20-old/libs/libmythtv/scanwizardscanner.h	2006-07-08 10:48:37.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/scanwizardscanner.h	2007-06-23 18:32:02.000000000 -0700
@@ -40,6 +40,7 @@
 
 // MythTV headers
 #include "settings.h"
+#include "dvbconfparser.h"
 
 class ScanWizard;
 class AnalogScan;
@@ -79,7 +80,7 @@
     void serviceScanPctComplete(int pct);
 
   protected:
-    void Import(uint sourceid, int cardtype, const QString &file);
+    void ImportDVBUtils(uint sourceid, int cardtype, const QString &file);
     void PreScanCommon(uint cardid, uint sourceid);
     void TunedScanCommon(uint cardid, uint sourceid, bool ok);
     void ScanAnalog(uint cardid, uint sourceid);
@@ -113,6 +114,9 @@
     uint               frequency;
     QString            modulation;
     QMap<QString,QString> startChan;
+
+    // dvb-utils imported channels
+    DTVChannelList channels;
 };
 
 #endif // _SCANWIZARDSCANNER_H_
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/siscan.cpp mythtv-0.20-new/libs/libmythtv/siscan.cpp
--- mythtv-0.20-old/libs/libmythtv/siscan.cpp	2006-08-18 13:37:07.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/siscan.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -322,7 +322,10 @@
     pat_vec_t pats = sd->GetCachedPATs();
     pmt_map_t pmt_map = sd->GetCachedPMTMap();
     for (uint i = 0; i < pats.size(); i++)
-        UpdatePATinDB(mplexid, fn, freqid, pats[i], pmt_map, true);
+    {
+        UpdatePATinDB(mplexid, fn, freqid, pats[i], pmt_map,
+                      (*current).expectedChannels, true);
+    }
     sd->ReturnCachedPMTTables(pmt_map);
     sd->ReturnCachedPATTables(pats);
 
@@ -354,13 +357,19 @@
     // Insert Terrestrial VCTs
     tvct_vec_t tvcts = sd->GetAllCachedTVCTs();
     for (uint i = 0; i < tvcts.size(); i++)
-        UpdateVCTinDB(mplexid, fn, freqid, tvcts[i], true);
+    {
+        UpdateVCTinDB(mplexid, fn, freqid, tvcts[i],
+                      (*current).expectedChannels, true);
+    }
     sd->ReturnCachedTVCTTables(tvcts);
 
     // Insert Cable VCTs
     cvct_vec_t cvcts = sd->GetAllCachedCVCTs();
     for (uint i = 0; i < cvcts.size(); i++)
-        UpdateVCTinDB(mplexid, fn, freqid, cvcts[i], true);
+    {
+        UpdateVCTinDB(mplexid, fn, freqid, cvcts[i],
+                      (*current).expectedChannels, true);
+    }
     sd->ReturnCachedCVCTTables(cvcts);
 
     // tell UI we are done with these channels
@@ -386,7 +395,10 @@
 
     vector<const ServiceDescriptionTable*> sdts = sd->GetAllCachedSDTs();
     for (uint i = 0; i < sdts.size(); i++)
-        UpdateSDTinDB((*current).mplexid, sdts[i], forceUpdate);
+    {
+        UpdateSDTinDB((*current).mplexid, sdts[i],
+                      (*current).expectedChannels, forceUpdate);
+    }
     sd->ReturnCachedSDTTables(sdts);
 
     emit ServiceScanUpdateText(tr("Finished processing Services"));
@@ -535,20 +547,19 @@
     if (!waitingForTables)
         return true;
 
-    QString offset_str = current.offset() ?
-        QObject::tr(" offset %2").arg(current.offset()) : "";
-    QString cur_chan = QString("%1%2")
-        .arg((*current).FriendlyName).arg(offset_str);
-    QString time_out_table_str =
-        QObject::tr("Timeout Scanning %1 -- no tables").arg(cur_chan);
-    QString time_out_sig_str =
-        QObject::tr("Timeout Scanning %1 -- no signal").arg(cur_chan);
-
     // have the tables have timed out?
     if (timer.elapsed() > (int)channelTimeout)
     { 
+        QString offset_str = current.offset() ?
+            QObject::tr(" offset %2").arg(current.offset()) : "";
+        QString cur_chan = QString("%1%2")
+            .arg((*current).FriendlyName).arg(offset_str);
+        QString time_out_table_str =
+            QObject::tr("Timeout Scanning %1 -- no tables").arg(cur_chan);
+
         emit ServiceScanUpdateText(time_out_table_str);
         VERBOSE(VB_SIPARSER, LOC + time_out_table_str);
+
         return true;
     }
 
@@ -560,6 +571,13 @@
         if (NULL == sm || sm->HasSignalLock())
             return false;
 
+        QString offset_str = current.offset() ?
+            QObject::tr(" offset %2").arg(current.offset()) : "";
+        QString cur_chan = QString("%1%2")
+            .arg((*current).FriendlyName).arg(offset_str);
+        QString time_out_sig_str =
+            QObject::tr("Timeout Scanning %1 -- no signal").arg(cur_chan);
+
         emit ServiceScanUpdateText(time_out_sig_str);
         VERBOSE(VB_SIPARSER, LOC + time_out_sig_str);
 
@@ -787,6 +805,41 @@
     return true;
 }
 
+bool SIScan::ScanForChannels(uint sourceid,
+                             const QString &std,
+                             const QString &cardtype,
+                             const DTVChannelList &channels)
+{
+    scanTransports.clear();
+    nextIt = scanTransports.end();
+
+    DTVChannelList::const_iterator it = channels.begin();
+    for (uint i = 0; it != channels.end(); ++it, i++)
+    {
+        TransportScanItem item(sourceid, std, QString::number(i),
+                               cardtype, *it, signalTimeout);
+
+        scanTransports += item;
+
+        VERBOSE(VB_SIPARSER, LOC + item.toString());
+    }
+
+    if (scanTransports.empty())
+    {
+        VERBOSE(VB_IMPORTANT, LOC_ERR + "ScanForChannels() no transports");
+        return false;
+    }
+
+    timer.start();
+    waitingForTables = false;
+
+    nextIt            = scanTransports.begin();
+    transportsScanned = 0;
+    scanMode          = TRANSPORT_LIST;
+
+    return true;
+}
+
 /** \fn SIScan::ScanTransportsStartingOn(int,const QMap<QString,QString>&)
  *  \brief Generates a list of frequencies to scan and adds it to the
  *   scanTransport list, and then sets the scanMode to TRANSPORT_LIST.
@@ -953,6 +1006,52 @@
 #endif // USING_DVB
 }
 
+/** \fn SIScan::CheckImportedList(const DTVChannelInfoList&,uint,QString&,QString&,QString&)
+ *  \brief If we as scanning a dvb-utils import verify channel is in list..
+ */
+bool SIScan::CheckImportedList(const DTVChannelInfoList &channels,
+                               uint mpeg_program_num,
+                               QString &service_name,
+                               QString &callsign,
+                               QString &common_status_info)
+{
+    if (channels.empty())
+        return true;
+
+    bool found = false;
+    for (uint i = 0; i < channels.size(); i++)
+    {
+        VERBOSE(VB_IMPORTANT,
+                QString("comparing %1 %2 against %3 %4")
+                .arg(channels[i].serviceid).arg(channels[i].name)
+                .arg(mpeg_program_num).arg(common_status_info));
+
+        if (channels[i].serviceid == mpeg_program_num)
+        {
+            found = true;
+            if (!channels[i].name.isEmpty())
+            {
+                service_name = QDeepCopy<QString>(channels[i].name);
+                callsign     = QDeepCopy<QString>(channels[i].name);
+            }
+        }
+    }
+
+    if (found)
+    {
+        common_status_info += QString(" %1 %2")
+            .arg(tr("as")).arg(service_name);
+    }
+    else
+    {
+        emit ServiceScanUpdateText(
+            tr("Skipping %1, not in imported channel map")
+            .arg(common_status_info));
+    }
+
+    return found;
+}
+
 // ///////////////////// DB STUFF /////////////////////
 // ///////////////////// DB STUFF /////////////////////
 // ///////////////////// DB STUFF /////////////////////
@@ -962,7 +1061,8 @@
 void SIScan::UpdatePMTinDB(
     int db_source_id,
     int db_mplexid, const QString &friendlyName, int freqid,
-    int pmt_indx, const ProgramMapTable *pmt, bool /*force_update*/)
+    int pmt_indx, const ProgramMapTable *pmt,
+    const DTVChannelInfoList &channels, bool /*force_update*/)
 {
     // See if service already in database based on program number
     int chanid = ChannelUtil::GetChanID(
@@ -988,10 +1088,16 @@
 
     QString common_status_info = tr("%1%2%3 on %4 (%5)")
         .arg(service_name)
-        .arg(service_name.isEmpty() ? "" : " as ")
+        .arg(service_name.isEmpty() ? "" : QString(" %1 ").arg(tr("as")))
         .arg(chan_num)
         .arg(friendlyName).arg(freqid);
 
+    if (!CheckImportedList(channels, pmt->ProgramNumber(),
+                           service_name, chan_num, common_status_info))
+    {
+        return;
+    }
+
     if (chanid < 0)
     {   // The service is not in database, add it
         emit ServiceScanUpdateText(
@@ -1028,7 +1134,7 @@
 void SIScan::UpdatePATinDB(
     int db_mplexid, const QString &friendlyName, int freqid,
     const ProgramAssociationTable *pat, const pmt_map_t &pmt_map,
-    bool force_update)
+    const DTVChannelInfoList &channels, bool force_update)
 {
     VERBOSE(VB_SIPARSER, LOC +
             QString("UpdatePATinDB(): tsid: 0x%1  mplex: %2")
@@ -1066,7 +1172,7 @@
                 continue;
 
             UpdatePMTinDB(db_source_id, db_mplexid, friendlyName, freqid,
-                          i, *vit, force_update);
+                          i, *vit, channels, force_update);
         }
     }    
 }
@@ -1076,6 +1182,7 @@
 void SIScan::UpdateVCTinDB(int db_mplexid,
                            const QString &friendlyName, int freqid,
                            const VirtualChannelTable *vct,
+                           const DTVChannelInfoList &channels,
                            bool force_update)
 {
     (void) force_update;
@@ -1142,6 +1249,13 @@
             .arg(vct->MajorChannel(i)).arg(vct->MinorChannel(i))
             .arg(chan_num).arg(friendlyName).arg(freqid);
 
+        QString callsign = vct->ShortChannelName(i);
+
+        if (!CheckImportedList(channels, vct->ProgramNumber(i),
+                               longName, callsign, common_status_info))
+        {
+            continue;
+        }
         QString msg = "";
         if (chanid < 0)
         {   // The service is not in database, add it
@@ -1153,7 +1267,7 @@
                     db_mplexid,
                     db_source_id,
                     chanid,
-                    vct->ShortChannelName(i),
+                    callsign,
                     longName,
                     chan_num,
                     vct->ProgramNumber(i),
@@ -1170,7 +1284,7 @@
                 db_mplexid,
                 db_source_id,
                 chanid,
-                vct->ShortChannelName(i),
+                callsign,
                 longName,
                 chan_num,
                 vct->ProgramNumber(i),
@@ -1186,6 +1300,7 @@
  *  \brief Inserts channels from service description table.
  */
 void SIScan::UpdateSDTinDB(int /*mplexid*/, const ServiceDescriptionTable *sdt,
+                           const DTVChannelInfoList &channels,
                            bool force_update)
 {
     if (!sdt->ServiceCount())
@@ -1261,6 +1376,14 @@
             continue;
         }
 
+        QString common_status_info = service_name;
+
+        if (!CheckImportedList(channels, sdt->ServiceID(i),
+                               service_name, service_name, common_status_info))
+        {
+            continue;
+        }
+
         // See if service already in database based on service ID
         int chanid = ChannelUtil::GetChanID(db_mplexid, -1, -1, -1,
                                             sdt->ServiceID(i));
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/siscan.h mythtv-0.20-new/libs/libmythtv/siscan.h
--- mythtv-0.20-old/libs/libmythtv/siscan.h	2006-08-18 13:37:07.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/siscan.h	2007-06-23 18:32:02.000000000 -0700
@@ -14,6 +14,7 @@
 // MythTV includes
 #include "frequencytables.h"
 #include "streamlisteners.h"
+#include "dvbconfparser.h"
 
 class MSqlQuery;
 
@@ -54,6 +55,9 @@
     bool ScanTransportsStartingOn(
         int sourceid, const QMap<QString,QString> &valueMap);
     bool ScanTransport(int mplexid);
+    bool ScanForChannels(
+        uint sourceid, const QString &std, const QString &cardtype,
+        const DTVChannelList&);
 
     bool ScanServicesSourceID(int SourceID);
 
@@ -119,24 +123,34 @@
     /// \brief Updates Transport Scan progress bar
     inline void UpdateScanPercentCompleted(void);
 
+    bool CheckImportedList(const DTVChannelInfoList&,
+                           uint mpeg_program_num,
+                           QString &service_name,
+                           QString &callsign,
+                           QString &common_status_info);
+
     void HandleMPEGDBInsertion(const ScanStreamData *sd, bool wait);
     void UpdatePATinDB(int mplexid, const QString &friendlyName, int freqid,
                        const ProgramAssociationTable*, const pmt_map_t&,
+                       const DTVChannelInfoList&,
                        bool force_update);
 
     void UpdatePMTinDB(int sourceid,
                        int mplexid, const QString &friendlyName, int freqid,
                        int pmt_indx, const ProgramMapTable*,
+                       const DTVChannelInfoList&,
                        bool force_update);
 
     void HandleATSCDBInsertion(const ScanStreamData *sd, bool wait);
     void UpdateVCTinDB(int mplexid, const QString &friendlyName, int freqid,
                        const VirtualChannelTable*,
+                       const DTVChannelInfoList&,
                        bool force_update);
 
     void HandleDVBDBInsertion(const ScanStreamData *sd, bool wait);
     void UpdateSDTinDB(int mplexid,
                        const ServiceDescriptionTable*,
+                       const DTVChannelInfoList&,
                        bool force_update);
 
     bool HandlePostInsertion(void);
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/tv_play.cpp mythtv-0.20-new/libs/libmythtv/tv_play.cpp
--- mythtv-0.20-old/libs/libmythtv/tv_play.cpp	2006-09-07 09:52:11.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/tv_play.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -5445,6 +5445,7 @@
         return;
 
     browsechannum = chan;
+    browsechanid = QString::null;
     BrowseDispInfo(BROWSE_SAME);
 }
 
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/tv_rec.cpp mythtv-0.20-new/libs/libmythtv/tv_rec.cpp
--- mythtv-0.20-old/libs/libmythtv/tv_rec.cpp	2006-09-09 12:45:01.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/tv_rec.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -554,6 +554,10 @@
 
     WaitForEventThreadSleep();
 
+    if ((curRecording) && (curRecording->recstatus == rsFailed) &&
+        (retval == rsRecording))
+        retval = rsFailed;
+
     return retval;
 }
 
@@ -675,20 +679,21 @@
     VERBOSE(VB_RECORD, LOC + QString("FinishedRecording(%1) in recgroup: %2")
                                      .arg(curRec->title).arg(pigrp));
 
-    curRec->recstatus = rsRecorded;
+    if (curRec->recstatus != rsFailed)
+        curRec->recstatus = rsRecorded;
     curRec->recendts = mythCurrentDateTime();
 
     if (tvchain)
         tvchain->FinishedRecording(curRec);
 
+    // Make sure really short recordings have positive run time.
+    if (curRec->recendts <= curRec->recstartts)
+        curRec->recendts = curRec->recstartts.addSecs(60);
+
     curRec->recendts.setTime(QTime(
         curRec->recendts.addSecs(30).time().hour(),
         curRec->recendts.addSecs(30).time().minute()));
 
-    // Make sure really short recordings have positive run time.
-    if (curRec->recendts <= curRec->recstartts)
-        curRec->recendts = mythCurrentDateTime().addSecs(1);
-
     if (pigrp != "LiveTV")
     {
         MythEvent me(QString("UPDATE_RECORDING_STATUS %1 %2 %3 %4 %5")
@@ -699,7 +704,8 @@
                      .arg(curRec->recendts.toString(Qt::ISODate)));
         gContext->dispatch(me);
     }
-    curRec->FinishedRecording(false);
+
+    curRec->FinishedRecording(curRec->recstatus != rsRecorded);
 }
 
 #define TRANSITION(ASTATE,BSTATE) \
@@ -1679,6 +1685,9 @@
         sd->SetCaching(true);
     }
 
+    bool fta = CardUtil::IgnoreEncrypted(
+        GetCaptureCardNum(), channel->GetCurrentInput());
+
     // Check if this is an ATSC Channel
     int major = channel->GetMajorChannel();
     int minor = channel->GetMinorChannel();
@@ -1700,7 +1709,7 @@
         sm->SetStreamData(sd);
         sm->SetChannel(major, minor);
         sd->SetVideoStreamsRequired(1);
-        sm->SetFTAOnly(true);
+        sm->SetFTAOnly(fta);
 
         // Try to get pid of VCT from cache and
         // require MGT if we don't have VCT pid.
@@ -1750,9 +1759,6 @@
         if (GetDVBChannel())
             sd->SetIgnoreCRC(GetDVBChannel()->HasCRCBug());
 
-        bool fta = CardUtil::IgnoreEncrypted(
-            GetCaptureCardNum(), channel->GetCurrentInput());
-
         dsd->Reset(netid, tsid, progNum);
         sm->SetStreamData(sd);
         sm->SetDVBService(netid, tsid, progNum);
@@ -1791,9 +1797,6 @@
             sd->SetIgnoreCRC(GetDVBChannel()->HasCRCBug());
 #endif // USING_DVB
 
-        bool fta = CardUtil::IgnoreEncrypted(
-            GetCaptureCardNum(), channel->GetCurrentInput());
-
         sd->Reset(progNum);
         sm->SetStreamData(sd);
         sm->SetProgramNumber(progNum);
@@ -3443,6 +3446,9 @@
     {
         if (!(request.flags & kFlagLiveTV))
         {
+            if (curRecording)
+                curRecording->recstatus = rsFailed;
+
             VERBOSE(VB_IMPORTANT, LOC_ERR +
                     QString("Failed to set channel to %1. "
                             "Reverting to kState_None")
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/videodev2_myth.h mythtv-0.20-new/libs/libmythtv/videodev2_myth.h
--- mythtv-0.20-old/libs/libmythtv/videodev2_myth.h	2006-07-18 08:55:57.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/videodev2_myth.h	2007-06-23 18:32:02.000000000 -0700
@@ -721,7 +721,7 @@
 		__s64 value64;
 		void *reserved;
 	};
-};
+}  __attribute__ ((packed));
 
 struct v4l2_ext_controls
 {
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/videoout_quartz.cpp mythtv-0.20-new/libs/libmythtv/videoout_quartz.cpp
--- mythtv-0.20-old/libs/libmythtv/videoout_quartz.cpp	2006-08-31 20:25:59.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/videoout_quartz.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -17,7 +17,7 @@
  *   a second time, may cause a crash (backtraces appreciated)
  * 
  * = REVISION
- * $Id: videoout_quartz.cpp 11013 2006-09-01 03:25:59Z nigel $
+ * $Id: videoout_quartz.cpp 13053 2007-03-15 22:34:28Z nigel $
  *
  * = AUTHORS
  * Nigel Pearson, Jeremiah Morris
@@ -1638,10 +1638,8 @@
         accel->DecodeFrame(buffer);
 #endif // CONFIG_MAC_ACCEL
 
-    if (!buffer)
-        buffer = vbuffers.GetScratchFrame();
-
-    framesPlayed = buffer->frameNumber + 1;
+    if (buffer)
+        framesPlayed = buffer->frameNumber + 1;
 }
 
 void VideoOutputQuartz::Show(FrameScanType t)
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/videoout_xv.cpp mythtv-0.20-new/libs/libmythtv/videoout_xv.cpp
--- mythtv-0.20-old/libs/libmythtv/videoout_xv.cpp	2006-08-29 00:13:24.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/videoout_xv.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -2859,9 +2859,7 @@
         VideoFrame *osdframe = NULL;
         int ret = DisplayOSD(xvmc_osd->OSDFrame(), osd, -1,
                              xvmc_osd->GetRevision());
-        OSDSurface *osdsurf = osd->Display();
-        if (osdsurf)
-            xvmc_osd->SetRevision(osdsurf->GetRevision());
+        xvmc_osd->SetRevision(osd->GetRevision());
         if (ret >= 0 && xvmc_osd->NeedFrame())
         {
             // If there are no available buffer, try to toss old
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/videosource.cpp mythtv-0.20-new/libs/libmythtv/videosource.cpp
--- mythtv-0.20-old/libs/libmythtv/videosource.cpp	2006-09-07 08:43:22.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/videosource.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -1477,26 +1477,32 @@
     };
 };
 
-class FreeToAir: public CheckBoxSetting, public CISetting {
+class FreeToAir: public CheckBoxSetting, public CISetting
+{
   public:
     FreeToAir(const CardInput& parent):
         CISetting(parent, "freetoaironly")
     {
         setValue(true);
-        setLabel(QObject::tr("Free to air channels only."));
-        setHelpText(QObject::tr("If set, only free to air channels will be "
-                    "used."));
+        setLabel(QObject::tr("Unencrypted channels only"));
+        setHelpText(QObject::tr(
+                        "If set, only unencrypted channels will be tuned to "
+                        "by MythTV or not be ignored by the MythTV channel "
+                        "scanner."));
     };
 };
 
-class RadioServices: public CheckBoxSetting, public CISetting {
-public:
+class RadioServices: public CheckBoxSetting, public CISetting
+{
+  public:
     RadioServices(const CardInput& parent):
         CISetting(parent, "radioservices")
     {
         setValue(true);
-        setLabel(QObject::tr("Radio channels."));
-        setHelpText(QObject::tr("If set, radio channels will also be included.")); 
+        setLabel(QObject::tr("Allow audio only channels"));
+        setHelpText(QObject::tr(
+                        "If set, audio only channels will not be ignored "
+                        "by the MythTV channel scanner.")); 
     };
 };
 
@@ -1597,7 +1603,7 @@
     };
 };
 
-CardInput::CardInput(bool isDVBcard, int _cardid)
+CardInput::CardInput(bool isDTVcard, bool isDVBcard, int _cardid)
 {
     (void) _cardid;
 
@@ -1621,28 +1627,30 @@
         group->addChild(new PresetTuner(*this));
     }
 
-#ifdef USING_DVB
-    if (isDVBcard)
+    if (isDTVcard)
     {
-        ConfigurationGroup *dvbgroup =
-            new HorizontalConfigurationGroup();
-        dvbgroup->setLabel(QObject::tr("DVB options"));
-
+        // we place this in a group just so the margins match the DVB ones.
         ConfigurationGroup *chgroup = 
-            new VerticalConfigurationGroup(false, false, true, true);
+            new HorizontalConfigurationGroup(false, false, true, true);
+        chgroup->addChild(new FreeToAir(*this));
+        group->addChild(chgroup);
+    }
 
+#ifdef USING_DVB
+    if (isDVBcard)
+    {
         TransButtonSetting *diseqc = new TransButtonSetting();
         diseqc->setLabel(tr("DVB-S"));
         diseqc->setHelpText(tr("Input and satellite settings."));
         diseqc->setVisible(DTVDeviceNeedsConfiguration(_cardid));
-        dvbgroup->addChild(diseqc);
+        group->addChild(diseqc);
         connect(diseqc, SIGNAL(pressed()), SLOT(diseqcConfig()));
    
-        chgroup->addChild(new FreeToAir(*this));
+        ConfigurationGroup *chgroup = 
+            new HorizontalConfigurationGroup(false, false, true, true);
         chgroup->addChild(new RadioServices(*this));
         chgroup->addChild(new DishNetEIT(*this));
-        dvbgroup->addChild(chgroup);
-        group->addChild(dvbgroup);
+        group->addChild(chgroup);
     }
 #endif
 
@@ -2079,6 +2087,30 @@
     if (val == 0)
     {
         MSqlQuery query(MSqlQuery::InitCon());
+
+        // Delete the channels associated with the source
+        query.prepare("DELETE FROM channel "
+                      "WHERE sourceid = :SOURCEID");
+        query.bindValue(":SOURCEID", getValue());
+
+        if (!query.exec() || !query.isActive())
+        {
+            MythContext::DBError("Deleting Channels", query);
+            return;
+        }
+
+        // Delete the inputs associated with the source
+        query.prepare("DELETE FROM cardinput "
+                      "WHERE sourceid = :SOURCEID");
+        query.bindValue(":SOURCEID", getValue());
+
+        if (!query.exec() || !query.isActive())
+        {
+            MythContext::DBError("Deleting cardinputs", query);
+            return;
+        }
+
+        // Delete the source itself
         query.prepare("DELETE FROM videosource "
                       "WHERE sourceid = :SOURCEID");
         query.bindValue(":SOURCEID", getValue());
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/videosource.h mythtv-0.20-new/libs/libmythtv/videosource.h
--- mythtv-0.20-old/libs/libmythtv/videosource.h	2006-07-20 14:24:51.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/videosource.h	2007-06-23 18:32:02.000000000 -0700
@@ -531,7 +531,7 @@
 {
     Q_OBJECT
   public:
-    CardInput(bool is_dvb_card, int cardid);
+    CardInput(bool is_dtv_card, bool is_dvb_card, int cardid);
 
     int getInputID(void) const { return id->intValue(); };
 
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/vsync.cpp mythtv-0.20-new/libs/libmythtv/vsync.cpp
--- mythtv-0.20-old/libs/libmythtv/vsync.cpp	2006-05-24 07:56:37.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/vsync.cpp	2007-06-23 18:32:02.000000000 -0700
@@ -437,12 +437,64 @@
     UpdateNexttrigger();
 }
 
+#ifdef USING_OPENGL_VSYNC
+class OpenGLVideoSyncPrivate
+{
+  public:
+    OpenGLVideoSyncPrivate()
+    {
+        m_glXGetVideoSyncSGI = (PFNGLXGETVIDEOSYNCSGIPROC)
+                glXGetProcAddress("glXGetVideoSyncSGI");
+        m_glXWaitVideoSyncSGI = (PFNGLXWAITVIDEOSYNCSGIPROC)
+                glXGetProcAddress("glXWaitVideoSyncSGI");
+    }
+
+    bool funcsLoaded()
+    {
+        return m_glXGetVideoSyncSGI && m_glXWaitVideoSyncSGI;
+    }
+
+  public:
+    int glXGetVideoSyncSGI(unsigned int *count)
+    {
+        return m_glXGetVideoSyncSGI(count);
+    }
+
+    int glXWaitVideoSyncSGI(int divisor, int remainder, unsigned int *count)
+    {
+        return m_glXWaitVideoSyncSGI(divisor, remainder, count);
+    }
+
+  private:
+    __GLXextFuncPtr glXGetProcAddress(const char * const procName)
+    {
+        __GLXextFuncPtr ret = glXGetProcAddressARB((const GLubyte *) procName);
+
+        if (!ret)
+        {
+            VERBOSE(VB_PLAYBACK,
+                    QString("Error: glXGetProcAddressARB unable to find %1")
+                    .arg(procName));
+        }
+
+        return ret;
+    }
+
+  private:
+    PFNGLXGETVIDEOSYNCSGIPROC m_glXGetVideoSyncSGI;
+    PFNGLXWAITVIDEOSYNCSGIPROC m_glXWaitVideoSyncSGI;
+};
+#endif // USING_OPENGL_VSYNC
+
 OpenGLVideoSync::OpenGLVideoSync(VideoOutput *video_output,
                                  int frame_interval, int refresh_interval,
                                  bool interlaced)
     : VideoSync(video_output, frame_interval, refresh_interval, interlaced),
-      m_drawable(0), m_context(0)
+      m_drawable(0), m_context(0), m_imp(0)
 {
+#ifdef USING_OPENGL_VSYNC
+    m_imp = new OpenGLVideoSyncPrivate;
+#endif // USING_OPENGL_VSYNC
 }
 
 OpenGLVideoSync::~OpenGLVideoSync()
@@ -457,6 +509,7 @@
         if (m_drawable)
             X11S(XDestroyWindow(vo->XJ_disp, m_drawable));
     }
+    delete m_imp;
 #endif /* USING_OPENGL_VSYNC */
 }
 
@@ -503,6 +556,12 @@
         return false;
     }
 
+    if (!m_imp->funcsLoaded())
+    {
+       VERBOSE(VB_PLAYBACK, QString("GL sync functions not found"));
+       return false;
+    }
+
     int attribList[] = {GLX_RGBA, 
                         GLX_RED_SIZE, 1,
                         GLX_GREEN_SIZE, 1,
@@ -552,7 +611,7 @@
     if (ret != False)
     {
         unsigned int count;
-        X11S(ret = glXGetVideoSyncSGI(&count));
+        X11S(ret = m_imp->glXGetVideoSyncSGI(&count));
         if (ret == 0)
         {
             VERBOSE(VB_PLAYBACK, "Using OpenGLVideoSync");
@@ -631,9 +690,9 @@
 
     // Wait for a refresh so we start out synched
     unsigned int count;
-    err = glXGetVideoSyncSGI(&count);
+    err = m_imp->glXGetVideoSyncSGI(&count);
     checkGLSyncError("OpenGLVideoSync::Start(): Frame Number Query", err);
-    err = glXWaitVideoSyncSGI(2, (count+1)%2 ,&count);
+    err = m_imp->glXWaitVideoSyncSGI(2, (count+1)%2 ,&count);
     checkGLSyncError("OpenGLVideoSync::Start(): A/V Sync", err);
 
     // Initialize next trigger 
@@ -649,13 +708,13 @@
     OffsetTimeval(m_nexttrigger, sync_delay);
 
     unsigned int frameNum = 0;
-    int err = glXGetVideoSyncSGI(&frameNum);
+    int err = m_imp->glXGetVideoSyncSGI(&frameNum);
     checkGLSyncError("Frame Number Query", err);
 
     // Always sync to the next retrace execpt when we are very late.
     if ((m_delay = CalcDelay()) > -(m_refresh_interval/2)) 
     {
-        err = glXWaitVideoSyncSGI(2, (frameNum+1)%2 ,&frameNum);
+        err = m_imp->glXWaitVideoSyncSGI(2, (frameNum+1)%2 ,&frameNum);
         checkGLSyncError(msg1, err);
         m_delay = CalcDelay();
     }
@@ -664,7 +723,7 @@
     if (m_delay > 0)
     {
         uint n = m_delay / m_refresh_interval + 1;
-        err = glXWaitVideoSyncSGI((n+1), (frameNum+n)%(n+1), &frameNum);
+        err = m_imp->glXWaitVideoSyncSGI((n+1), (frameNum+n)%(n+1), &frameNum);
         checkGLSyncError(msg2, err);
         m_delay = CalcDelay();
     }
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythtv/vsync.h mythtv-0.20-new/libs/libmythtv/vsync.h
--- mythtv-0.20-old/libs/libmythtv/vsync.h	2006-05-11 07:50:17.000000000 -0700
+++ mythtv-0.20-new/libs/libmythtv/vsync.h	2007-06-23 18:32:02.000000000 -0700
@@ -214,6 +214,8 @@
   private:
     GLXDrawable m_drawable;
     GLXContext  m_context;
+  private:
+    class OpenGLVideoSyncPrivate *m_imp;
 };
 
 #ifdef __linux__
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythui/mythmainwindow.cpp mythtv-0.20-new/libs/libmythui/mythmainwindow.cpp
--- mythtv-0.20-old/libs/libmythui/mythmainwindow.cpp	2006-08-24 20:17:16.000000000 -0700
+++ mythtv-0.20-new/libs/libmythui/mythmainwindow.cpp	2007-06-23 18:32:05.000000000 -0700
@@ -142,6 +142,7 @@
     int screenwidth, screenheight;
 
     QRect screenRect;
+    QRect uiScreenRect;
 
     int xbase, ybase;
     bool does_fill_screen;
@@ -428,7 +429,7 @@
     }
 
     if (!d->painter->SupportsClipping())
-        d->repaintRegion = d->repaintRegion.unite(d->screenRect);
+        d->repaintRegion = d->repaintRegion.unite(d->uiScreenRect);
 
     d->painter->Begin(this);
 
@@ -439,7 +440,7 @@
         if (rects[i].width() == 0 || rects[i].height() == 0)
             continue;
 
-        if (rects[i] != d->screenRect)
+        if (rects[i] != d->uiScreenRect)
             d->painter->SetClipRect(rects[i]);
 
         for (it = d->stackList.begin(); it != d->stackList.end(); ++it)
@@ -503,6 +504,7 @@
                                 d->ybase, d->screenheight, d->hmult);
 
     d->screenRect = QRect(d->xbase, d->ybase, d->screenwidth, d->screenheight);
+    d->uiScreenRect = QRect(0, 0, d->screenwidth, d->screenheight);
 
     setGeometry(d->xbase, d->ybase, d->screenwidth, d->screenheight);
     setFixedSize(QSize(d->screenwidth, d->screenheight));
@@ -814,8 +816,6 @@
         else
         {
             QString inskey = keybind;
-            inskey.replace('\\', "\\\\");
-            inskey.replace('\"', "\\\"");
 
             query.prepare("INSERT INTO keybindings (context, action, "
                           "description, keylist, hostname) VALUES "
@@ -936,8 +936,6 @@
         else
         {
             QString inskey = keybind;
-            inskey.replace('\\', "\\\\");
-            inskey.replace('\"', "\\\"");
 
             query.prepare("INSERT INTO jumppoints (destination, description, "
                           "keylist, hostname) VALUES ( :DEST, :DESC, :KEYLIST, "
@@ -1474,6 +1472,6 @@
 
 QRect MythMainWindow::GetUIScreenRect(void)
 {
-    return QRect(0, 0, d->screenwidth, d->screenheight);
+    return d->uiScreenRect;
 }
 
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythui/myththemedmenu.cpp mythtv-0.20-new/libs/libmythui/myththemedmenu.cpp
--- mythtv-0.20-old/libs/libmythui/myththemedmenu.cpp	2006-09-09 13:59:59.000000000 -0700
+++ mythtv-0.20-new/libs/libmythui/myththemedmenu.cpp	2007-06-23 18:32:05.000000000 -0700
@@ -14,7 +14,6 @@
 #include "mythfontproperties.h"
 #include "mythimage.h"
 #include "mythdialogbox.h"
-#include "mythmediamonitor.h"
 
 #include "lcddevice.h"
 #include "mythplugin.h"
@@ -136,6 +135,7 @@
     bool buttoncenter;
 
     QMap<QString, MythImage *> titleIcons;
+    QMap<QString, MythImage *> m_loadedImages;
     QString titleText;
     QPoint titlePos;
 
@@ -301,6 +301,7 @@
         jt.data()->DownRef();
     }
     titleIcons.clear();
+    m_loadedImages.clear();
 
     normalAttributes = activeAttributes = TextAttributes();
     setDefaults();
@@ -766,16 +767,32 @@
         {
             if (info.tagName() == "image")
             {
-                QString titlepath = dir + getFirstText(info);
-                QImage *tmppix = gContext->LoadScaleImage(titlepath);
 
-                if (!tmppix)
-                    continue;
+                QString titlepath = dir + getFirstText(info);
 
                 QString name = info.attribute("mode", "");
                 if (name != "")
                 {
-                    titleIcons[name] = MythImage::FromQImage(&tmppix);
+                    MythImage *icon;
+                    QImage *tmppix;
+
+                    if (m_loadedImages[titlepath])
+                    {
+                        icon = m_loadedImages[titlepath];
+                        icon->UpRef();
+                    }
+                    else
+                    {
+                        tmppix = gContext->LoadScaleImage(titlepath);
+
+                        if (!tmppix)
+                            continue;
+
+                        icon = MythImage::FromQImage(&tmppix);
+                        m_loadedImages.insert(titlepath, icon);
+                    }
+
+                    titleIcons[name] = icon;
                 }
                 else
                 {
@@ -884,9 +901,10 @@
     bool hasicon = false;
 
     QString name = "";
-    QImage *image = NULL;
-    QImage *activeimage = NULL;
-    QImage *watermark = NULL;
+    QImage *tmpimg = NULL;
+    MythImage *image = NULL;
+    MythImage *activeimage = NULL;
+    MythImage *watermark = NULL;
     QPoint offset;
 
     name = element.attribute("name", "");
@@ -895,21 +913,44 @@
 
     for (QDomNode child = element.firstChild(); !child.isNull();
          child = child.nextSibling())
-    {    
+    {
         QDomElement info = child.toElement();
         if (!info.isNull())
         {
             if (info.tagName() == "image")
             {
-                QString imagepath = dir + getFirstText(info); 
-                image = gContext->LoadScaleImage(imagepath);
+                QString imagepath = dir + getFirstText(info);
+
+                if (m_loadedImages[imagepath])
+                {
+                    image = m_loadedImages[imagepath];
+                    image->UpRef();
+                }
+                else
+                {
+                    tmpimg = gContext->LoadScaleImage(imagepath);
+                    image = MythImage::FromQImage(&tmpimg);
+                    m_loadedImages.insert(imagepath, image);
+                }
+
                 if (image)
                     hasicon = true;
             }
             else if (info.tagName() == "activeimage")
             {
                 QString imagepath = dir + getFirstText(info);
-                activeimage = gContext->LoadScaleImage(imagepath);
+
+                if (m_loadedImages[imagepath])
+                {
+                    activeimage = m_loadedImages[imagepath];
+                    activeimage->UpRef();
+                }
+                else
+                {
+                    tmpimg = gContext->LoadScaleImage(imagepath);
+                    activeimage = MythImage::FromQImage(&tmpimg);
+                    m_loadedImages.insert(imagepath, activeimage);
+                }
             }
             else if (info.tagName() == "offset")
             {
@@ -919,8 +960,19 @@
             else if (info.tagName() == "watermarkimage")
             {
                 QString imagepath = dir + getFirstText(info);
-                watermark = gContext->LoadScaleImage(imagepath);
-            }    
+
+                if (m_loadedImages[imagepath])
+                {
+                    watermark = m_loadedImages[imagepath];
+                    watermark->UpRef();
+                }
+                else
+                {
+                    tmpimg = gContext->LoadScaleImage(imagepath);
+                    watermark = MythImage::FromQImage(&tmpimg);
+                    m_loadedImages.insert(imagepath, watermark);
+                }
+            }
             else
             {
                 VERBOSE(VB_GENERAL, QString("MythThemedMenuPrivate: Unknown tag %1 "
@@ -953,9 +1005,9 @@
     ButtonIcon newbutton;
 
     newbutton.name = name;
-    newbutton.icon = MythImage::FromQImage(&image);
+    newbutton.icon = image;
     newbutton.offset = offset;
-    newbutton.activeicon = MythImage::FromQImage(&activeimage);
+    newbutton.activeicon = activeimage;
 
     if (watermark)
     {
@@ -966,9 +1018,12 @@
             watermarkRect.setHeight(watermark->height());
     }
 
-    newbutton.watermark = MythImage::FromQImage(&watermark);
+    newbutton.watermark = watermark;
 
     allButtonIcons[name] = newbutton;
+
+    if (tmpimg)
+        delete tmpimg;
 }
 
 void MythThemedMenuState::setDefaults(void)
@@ -1870,9 +1925,7 @@
         }
         else if (action == "EJECT")
         {
-            MediaMonitor *mon = MediaMonitor::GetMediaMonitor();
-            if (mon)
-                mon->ChooseAndEjectMedia();
+            myth_eject();
         }
         else
             handled = false;
@@ -2078,9 +2131,7 @@
     }
     else if (action.left(5) == "EJECT")
     {
-        MediaMonitor *mon = MediaMonitor::GetMediaMonitor();
-        if (mon)
-            mon->ChooseAndEjectMedia();
+        myth_eject();
     }
     else if (action.left(5) == "JUMP ")
     {
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythupnp/bufferedsocketdevice.cpp mythtv-0.20-new/libs/libmythupnp/bufferedsocketdevice.cpp
--- mythtv-0.20-old/libs/libmythupnp/bufferedsocketdevice.cpp	2006-06-05 23:51:03.000000000 -0700
+++ mythtv-0.20-new/libs/libmythupnp/bufferedsocketdevice.cpp	2007-06-23 18:32:14.000000000 -0700
@@ -392,6 +392,15 @@
 //
 /////////////////////////////////////////////////////////////////////////////
 
+void BufferedSocketDevice::ClearReadBuffer()
+{
+    m_bufRead.clear();
+}
+
+/////////////////////////////////////////////////////////////////////////////
+//
+/////////////////////////////////////////////////////////////////////////////
+
 Q_LONG BufferedSocketDevice::ReadBlock( char *data, Q_ULONG maxlen )
 {
     if ( data == 0 && maxlen != 0 ) 
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythupnp/bufferedsocketdevice.h mythtv-0.20-new/libs/libmythupnp/bufferedsocketdevice.h
--- mythtv-0.20-old/libs/libmythupnp/bufferedsocketdevice.h	2006-06-05 23:51:03.000000000 -0700
+++ mythtv-0.20-new/libs/libmythupnp/bufferedsocketdevice.h	2007-06-23 18:32:14.000000000 -0700
@@ -68,6 +68,7 @@
         Q_ULONG             WaitForMore         ( int msecs, bool *timeout = NULL );
         Q_ULONG             BytesToWrite        () const;
         void                ClearPendingData    ();
+        void                ClearReadBuffer     ();
 
         Q_LONG              ReadBlock           ( char *data, Q_ULONG maxlen );
         Q_LONG              WriteBlock          ( const char *data, Q_ULONG len );
diff -Naur -x mytharchive mythtv-0.20-old/libs/libmythupnp/httprequest.cpp mythtv-0.20-new/libs/libmythupnp/httprequest.cpp
--- mythtv-0.20-old/libs/libmythupnp/httprequest.cpp	2006-06-07 08:41:00.000000000 -0700
+++ mythtv-0.20-new/libs/libmythupnp/httprequest.cpp	2007-06-23 18:32:14.000000000 -0700
@@ -28,6 +28,7 @@
 #include <unistd.h>
 #include <fcntl.h>
 
+#include "util.h"
 #include "mythcontext.h"
 #include "upnp.h"
 
@@ -238,7 +239,9 @@
                                                               .arg( llStart )
                                                               .arg( llEnd   )
                                                               .arg( llSize  );
-                llSize = (llEnd - llStart) + 1;
+                //llSize = (llEnd - llStart) + 1;
+                llSize = (llEnd - llStart);
+
             }
         }
         
@@ -257,12 +260,16 @@
     else
         m_nResponseStatus = 404;
 
+    QString sDate = QDateTime::currentDateTime().toString( "d MMM yyyy hh:mm:ss" );  
+
     sHeader   = QString("HTTP/%1.%2 %3\r\n"
-                        "Content-Type: %4\r\n"
-                        "Content-Length: %5\r\n" )
+                        "Date: %4\r\n"
+                        "Content-Type: %5\r\n"
+                        "Content-Length: %6\r\n" )
                         .arg( m_nMajor )
                         .arg( m_nMinor )
                         .arg( GetResponseStatus())
+                        .arg( sDate )
                         .arg( sContentType )
                         .arg( llSize       ).utf8();
 
@@ -281,7 +288,19 @@
     {
         __off64_t offset = llStart;
         int       file   = open( sFileName.ascii(), O_RDONLY | O_LARGEFILE );
-        sendfile64( getSocketHandle(), file, &offset, llSize );
+        ssize_t   sent   = 0;  
+
+        do 
+        {  
+            // SSIZE_MAX should work in kernels 2.6.16 and later.  
+            // The loop is needed in any case.  
+
+            sent = sendfile64( getSocketHandle(), file, &offset, 
+                               (size_t)(llSize > INT_MAX ? INT_MAX : llSize));  
+
+            llSize -= sent;  
+        } 
+        while (( sent >= 0 ) && ( llSize > 0 ));  
 
         close( file );
     }
@@ -1163,6 +1182,7 @@
 QString BufferedSocketDeviceRequest::ReadLine( int msecs )
 {
     QString sLine;
+    MythTimer timeout;
 
     if (m_pSocket)
     {
@@ -1177,13 +1197,24 @@
         {
             bool bTimeout = false;
 
+            timeout.start();
+
             while ( !m_pSocket->CanReadLine() && !bTimeout )
             {
                 m_pSocket->WaitForMore( msecs, &bTimeout );
+
+                if ( timeout.elapsed() >= msecs ) 
+                {
+                    bTimeout = true;
+                    m_pSocket->ClearReadBuffer(); 
+                }
+                else 
+                    usleep(20);
             }
             
             if (!bTimeout)
                 sLine = m_pSocket->ReadLine();
+
         }
     }
 
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythbackend/housekeeper.cpp mythtv-0.20-new/programs/mythbackend/housekeeper.cpp
--- mythtv-0.20-old/programs/mythbackend/housekeeper.cpp	2006-07-16 13:56:57.000000000 -0700
+++ mythtv-0.20-new/programs/mythbackend/housekeeper.cpp	2007-06-23 18:32:16.000000000 -0700
@@ -221,16 +221,11 @@
                 }
             }
 
-            if (wantToRun("JobQueueCleanup", 1, 0, 24))
-            {
+            if (wantToRun("DailyCleanup", 1, 0, 24)) {
                 JobQueue::CleanupOldJobsInQueue();
-                updateLastrun("JobQueueCleanup");
-            }
-
-            if (wantToRun("InUseProgramsCleanup", 1, 0, 24))
-            {
                 CleanupAllOldInUsePrograms();
-                updateLastrun("InUseProgramsCleanup");
+                CleanupRecordedTables();
+                updateLastrun("DailyCleanup");
             }
         }
 
@@ -331,6 +326,48 @@
     query.exec();
 }
 
+void HouseKeeper::CleanupRecordedTables(void)
+{
+    MSqlQuery query(MSqlQuery::InitCon());
+    MSqlQuery deleteQuery(MSqlQuery::InitCon());
+    int tableIndex = 0;
+    QString tables[] = {
+        "recordedprogram",
+        "recordedrating",
+        "recordedcredits",
+        "" }; // This blank entry must exist, do not remove.
+    QString table = tables[tableIndex];
+   
+    while (table != "")
+    {
+        query.prepare(QString("SELECT DISTINCT p.chanid, p.starttime "
+                              "FROM %1 p LEFT JOIN recorded r "
+                              "ON p.chanid = r.chanid "
+                              "AND p.starttime = r.progstart "
+                              "WHERE r.chanid IS NULL;")
+                              .arg(table));
+        if (!query.exec() || !query.isActive())
+        {
+            MythContext::DBError("HouseKeeper Cleaning Recorded Tables", query);
+            return;
+        }
+
+        deleteQuery.prepare(QString("DELETE FROM %1 "
+                                    "WHERE chanid = :CHANID "
+                                    "AND starttime = :STARTTIME;")
+                                    .arg(table));
+        while (query.next())
+        {
+            deleteQuery.bindValue(":CHANID", query.value(0).toString());
+            deleteQuery.bindValue(":STARTTIME", query.value(1).toString());
+            deleteQuery.exec();
+        }
+
+        tableIndex++;
+        table = tables[tableIndex];
+    }
+}
+
 void *HouseKeeper::doHouseKeepingThread(void *param)
 {
     HouseKeeper *hkeeper = (HouseKeeper*)param;
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythbackend/housekeeper.h mythtv-0.20-new/programs/mythbackend/housekeeper.h
--- mythtv-0.20-old/programs/mythbackend/housekeeper.h	2006-05-27 16:03:56.000000000 -0700
+++ mythtv-0.20-new/programs/mythbackend/housekeeper.h	2007-06-23 18:32:16.000000000 -0700
@@ -34,6 +34,7 @@
     void runFillDatabase();
     void CleanupMyOldRecordings(void);
     void CleanupAllOldInUsePrograms(void);
+    void CleanupRecordedTables(void);
     bool threadrunning;
     bool filldbRunning;
     bool isMaster;
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythbackend/httpstatus.cpp mythtv-0.20-new/programs/mythbackend/httpstatus.cpp
--- mythtv-0.20-old/programs/mythbackend/httpstatus.cpp	2006-07-18 18:34:13.000000000 -0700
+++ mythtv-0.20-new/programs/mythbackend/httpstatus.cpp	2007-06-23 18:32:16.000000000 -0700
@@ -913,10 +913,14 @@
 
     ThreadData *pData = (ThreadData *)pThread->GetWorkerData();
 
-    if ((pData != NULL) && (pData->m_eType == ThreadData::DT_Recording))
-    {
-        if (pData->IsSameRecording( sChanId, sStartTime ))
-           pRequest->m_sFileName = pData->m_sFileName;
+    if (pData != NULL)
+    {   
+        if ((pData->m_eType == ThreadData::DT_Recording) && 
+               pData->IsSameRecording( sChanId, sStartTime ))
+        {   
+            pRequest->m_sFileName = pData->m_sFileName;
+
+        }
         else
            pData = NULL;
     }
@@ -1009,10 +1013,14 @@
 
     ThreadData *pData = (ThreadData *)pThread->GetWorkerData();
 
-    if ((pData != NULL) && (pData->m_eType == ThreadData::DT_Music))
-    {
-        if (pData->m_nTrackNumber == nTrack )
-           pRequest->m_sFileName = pData->m_sFileName;
+    if (pData != NULL)
+    {   
+        if ((pData->m_eType == ThreadData::DT_Music) && 
+               (pData->m_nTrackNumber == nTrack))
+        {   
+            pRequest->m_sFileName = pData->m_sFileName;
+
+        }
         else
            pData = NULL;
     }
@@ -1391,7 +1399,8 @@
         acpiTempFile.close(); 
     }                                                  
 
-#ifdef HAVE_LMSENSORS 
+#ifdef HAVE_LMSENSORS
+    tempSettingLock.lock();
     if (!found_acpi) 
     { 
         int chip_nr, a, b; 
@@ -1425,6 +1434,7 @@
         }  
         sensors_cleanup(); 
     } 
+    tempSettingLock.unlock();
 #endif 
 
     // Guide Data ---------------------
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythbackend/httpstatus.h mythtv-0.20-new/programs/mythbackend/httpstatus.h
--- mythtv-0.20-old/programs/mythbackend/httpstatus.h	2006-06-15 13:25:42.000000000 -0700
+++ mythtv-0.20-new/programs/mythbackend/httpstatus.h	2007-06-23 18:32:16.000000000 -0700
@@ -177,6 +177,7 @@
         int     PrintScheduled    ( QTextStream &os, QDomElement scheduled );
         int     PrintJobQueue     ( QTextStream &os, QDomElement jobs );
         int     PrintMachineInfo  ( QTextStream &os, QDomElement info );
+        QMutex  tempSettingLock;
 
     public:
                  HttpStatus( QMap<int, EncoderLink *> *tvList, Scheduler *sched, AutoExpire *expirer, bool bIsMaster );
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythbackend/main.cpp mythtv-0.20-new/programs/mythbackend/main.cpp
--- mythtv-0.20-old/programs/mythbackend/main.cpp	2006-06-08 21:41:00.000000000 -0700
+++ mythtv-0.20-new/programs/mythbackend/main.cpp	2007-06-23 18:32:16.000000000 -0700
@@ -268,6 +268,7 @@
     bool testsched = false;
     bool resched = false;
     bool nosched = false;
+    bool noupnp = false;
     bool nojobqueue = false;
     bool nohousekeeper = false;
     bool noexpirer = false;
@@ -378,6 +379,10 @@
         {
             nosched = true;
         } 
+        else if (!strcmp(a.argv()[argpos],"--noupnp"))
+        {
+            noupnp = true;
+        } 
         else if (!strcmp(a.argv()[argpos],"--nojobqueue"))
         {
             nojobqueue = true;
@@ -422,6 +427,7 @@
                     "--testsched                    Test run scheduler (ignore existing schedule)" << endl <<
                     "--resched                      Force the scheduler to update" << endl <<
                     "--nosched                      Do not perform any scheduling" << endl <<
+                    "--noupnp                       Do not enable the UPNP server" << endl <<
                     "--nojobqueue                   Do not start the JobQueue" << endl <<
                     "--nohousekeeper                Do not start the Housekeeper" << endl <<
                     "--noautoexpire                 Do not start the AutoExpire thread" << endl <<
@@ -626,7 +632,11 @@
     g_pHttpServer->RegisterExtension(new HttpStatus(&tvList, sched, expirer, ismaster ));
 
     // Start UPnP Services For Master Backends Only
-    if (ismaster)
+    if (ismaster && noupnp)
+        cerr << "********* The UPNP service has been DISABLED with the "
+                "--noupnp option *********\n";
+
+    if (ismaster && !noupnp)
     {
         g_pUPnp = new UPnp(ismaster, g_pHttpServer);
 
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythbackend/mainserver.cpp mythtv-0.20-new/programs/mythbackend/mainserver.cpp
--- mythtv-0.20-old/programs/mythbackend/mainserver.cpp	2006-09-10 21:35:19.000000000 -0700
+++ mythtv-0.20-new/programs/mythbackend/mainserver.cpp	2007-06-23 18:32:16.000000000 -0700
@@ -674,6 +674,36 @@
             return;
         }
 
+        if ((me->Message().left(16) == "DELETE_RECORDING") ||
+            (me->Message().left(22) == "FORCE_DELETE_RECORDING"))
+        {
+            QStringList tokens = QStringList::split(" ", me->Message());
+            if (tokens.size() != 3)
+            {
+                VERBOSE(VB_IMPORTANT, QString("Bad %1 message").arg(tokens[0]));
+                return;
+            }
+
+            QDateTime startts = QDateTime::fromString(tokens[2], Qt::ISODate);
+            ProgramInfo *pinfo = ProgramInfo::GetProgramFromRecorded(tokens[1],
+                                                                     startts);
+            if (pinfo)
+            {
+                if (tokens[0] == "FORCE_DELETE_RECORDING")
+                    DoHandleDeleteRecording(pinfo, NULL, true);
+                else
+                    DoHandleDeleteRecording(pinfo, NULL, false);
+            }
+            else
+            {
+                VERBOSE(VB_IMPORTANT,
+                    QString("Cannot find program info for '%1' while "
+                            "attempting to delete.").arg(me->Message()));
+            }
+
+            return;
+        }
+
         if (me->Message().left(21) == "RESCHEDULE_RECORDINGS" && m_sched)
         {
             QStringList tokens = QStringList::split(" ", me->Message());
@@ -1034,7 +1064,7 @@
         "LEFT JOIN channel ON recorded.chanid = channel.chanid "
         "LEFT JOIN recordedprogram ON "
         " ( recorded.chanid = recordedprogram.chanid AND "
-        "  recorded.starttime = recordedprogram.starttime ) "
+        "  recorded.progstart = recordedprogram.starttime ) "
         "WHERE ( recorded.deletepending = 0 OR "
         "        DATE_ADD(recorded.lastmodified, INTERVAL 5 MINUTE) <= NOW() "
         "      ) "
@@ -1203,7 +1233,8 @@
 
                     proginfo->filesize = size;
 
-                    proginfo->SetFilesize(size);
+                    if (proginfo->recendts < QDateTime::currentDateTime())
+                        proginfo->SetFilesize(size);
                 }
             }
             else
@@ -1225,7 +1256,8 @@
                     {
                         slave->FillProgramInfo(proginfo, playbackhost);
 
-                        proginfo->SetFilesize(proginfo->filesize);
+                        if (proginfo->recendts < QDateTime::currentDateTime())
+                            proginfo->SetFilesize(proginfo->filesize);
                     }
                     else
                     {
@@ -1393,11 +1425,17 @@
     bool followLinks = gContext->GetNumSetting("DeletesFollowLinks", 0);
     bool slowDeletes = gContext->GetNumSetting("TruncateDeletesSlowly", 0);
     int fd = -1;
+    off_t size = 0;
     bool errmsg = false;
 
     /* Delete recording. */
     if (slowDeletes)
     {
+        // Since stat fails after unlinking on some filesystems,
+        // get the filesize first
+        struct stat st;
+        if (stat(ds->filename.ascii(), &st) == 0)
+            size = st.st_size;
         fd = DeleteFile(ds->filename, followLinks);
 
         if ((fd < 0) && checkFile.exists())
@@ -1445,7 +1483,7 @@
     if (slowDeletes && fd != -1)
     {
         m_expirer->TruncatePending();
-        TruncateAndClose(m_expirer, fd, ds->filename);
+        TruncateAndClose(m_expirer, fd, ds->filename, size);
         m_expirer->TruncateFinished();
     }
 }
@@ -1600,7 +1638,8 @@
  *         is running at a time.
  */
 bool MainServer::TruncateAndClose(const AutoExpire *expirer,
-                                  int fd, const QString &filename)
+                                  int fd, const QString &filename,
+                                  off_t fsize)
 {
     QMutexLocker locker(&truncate_and_close_lock);
 
@@ -1621,17 +1660,6 @@
             .arg(increment / (1024.0 * 1024.0), 0, 'f', 2)
             .arg(sleep_time));
 
-    // Get the on disk file size and preferred I/O block size.
-    struct stat buf;
-    fstat(fd, &buf);
-    // Estimate the file size.  Don't use buf.st_blksize * buf.st_blocks
-    // The unit for st_blocks is undefined.  See section "RATIONALE" at
-    // http://www.opengroup.org/onlinepubs/000095399/basedefs/sys/stat.h.html
-    off_t fsize = ((buf.st_size / buf.st_blksize) + 1) * buf.st_blksize;
-
-    // Round truncate increment up to a blocksize, w/min of 1 block.
-    increment = ((increment / buf.st_blksize) + 1) * buf.st_blksize;
-
     while (fsize > 0)
     {
         //VERBOSE(VB_FILE, QString("Truncating '%1' to %2 MB")
@@ -1810,7 +1838,7 @@
         pbssock = pbs->getSocket();
 
     QString fileprefix = gContext->GetFilePrefix();
-    QString filename = pginfo->GetRecordFilename(fileprefix);
+    QString filename = pginfo->GetRecordFilename(fileprefix, true);
 
     // If this recording was made by a another recorder, and that
     // recorder is available, tell it to do the deletion.
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythbackend/mainserver.h mythtv-0.20-new/programs/mythbackend/mainserver.h
--- mythtv-0.20-old/programs/mythbackend/mainserver.h	2006-07-03 11:31:35.000000000 -0700
+++ mythtv-0.20-new/programs/mythbackend/mainserver.h	2007-06-23 18:32:16.000000000 -0700
@@ -152,7 +152,8 @@
     static int  DeleteFile(const QString &filename, bool followLinks);
     static int  OpenAndUnlink(const QString &filename);
     static bool TruncateAndClose(const AutoExpire *expirer,
-                                 int fd, const QString &filename);
+                                 int fd, const QString &filename,
+                                 off_t fsize);
 
     QPtrList<LiveTVChain> liveTVChains;
     QMutex liveTVChainsLock;
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythbackend/scheduler.cpp mythtv-0.20-new/programs/mythbackend/scheduler.cpp
--- mythtv-0.20-old/programs/mythbackend/scheduler.cpp	2006-09-08 21:20:38.000000000 -0700
+++ mythtv-0.20-new/programs/mythbackend/scheduler.cpp	2007-06-23 18:32:16.000000000 -0700
@@ -1384,6 +1384,14 @@
 
             VERBOSE(VB_GENERAL, msg << ": " << details);
             gContext->LogEntry("scheduler", LP_NOTICE, msg, details);
+
+            if (nextRecording->recstatus == rsFailed)
+            {
+                MythEvent me(QString("FORCE_DELETE_RECORDING %1 %2")
+                         .arg(nextRecording->chanid)
+                         .arg(nextRecording->recstartts.toString(Qt::ISODate)));
+                gContext->dispatch(me);
+            }
         }
 
         if (statuschanged)
@@ -1544,7 +1552,7 @@
     if (recIter != reclist.end())
     {
         ProgramInfo *nextRecording = (*recIter);
-        QDateTime restarttime = nextRecording->startts.addSecs((-1) * 
+        QDateTime restarttime = nextRecording->recstartts.addSecs((-1) * 
                                                                prerollseconds);
 
         int add = gContext->GetNumSetting("StartupSecsBeforeRecording", 240);
@@ -1981,17 +1989,15 @@
         {
             MSqlQuery epicnt(dbConn);
 
-            epicnt.prepare("SELECT count(*) FROM recorded "
-                           "WHERE title = :TITLE AND duplicate <> 0;");
-            epicnt.bindValue(":TITLE", qtitle.utf8());
+            epicnt.prepare("SELECT DISTINCT chanid, progstart, progend "
+                           "FROM recorded "
+                           "WHERE recordid = :RECID AND preserve = 0 "
+                               "AND recgroup <> 'LiveTV';");
+            epicnt.bindValue(":RECID", recid);
 
-            epicnt.exec();
-
-            if (epicnt.isActive() && epicnt.size() > 0)
+            if (epicnt.exec() && epicnt.isActive())
             {
-                epicnt.next();
-
-                if (epicnt.value(0).toInt() >= maxEpisodes)
+                if ((epicnt.size() > 0) && (epicnt.size() >= maxEpisodes))
                 {
                     tooManyMap[recid] = true;
                     checkTooMany = true;
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythbackend/upnpcdsmusic.cpp mythtv-0.20-new/programs/mythbackend/upnpcdsmusic.cpp
--- mythtv-0.20-old/programs/mythbackend/upnpcdsmusic.cpp	2006-06-05 23:51:03.000000000 -0700
+++ mythtv-0.20-new/programs/mythbackend/upnpcdsmusic.cpp	2007-06-23 18:32:16.000000000 -0700
@@ -153,7 +153,9 @@
     // Parse out request object's path
     // ----------------------------------------------------------------------
 
-    QStringList idPath = QStringList::split( "/", pRequest->m_sObjectId );
+    QStringList idPath = QStringList::split( "/", pRequest->m_sObjectId.section('=',0,0) );
+
+    QString key = pRequest->m_sObjectId.section('=',1);
 
     if (idPath.count() == 0)
         return( NULL );
@@ -166,6 +168,10 @@
 
     if (pResults != NULL)
     {
+
+        if (key)
+            idPath.last().append(QString("=%1").arg(key));
+
         QString sLast = idPath.last();
 
         pRequest->m_sParentId = RemoveToken( "/", pRequest->m_sObjectId, 1 );
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythbackend/upnpcdstv.cpp mythtv-0.20-new/programs/mythbackend/upnpcdstv.cpp
--- mythtv-0.20-old/programs/mythbackend/upnpcdstv.cpp	2006-06-05 23:51:03.000000000 -0700
+++ mythtv-0.20-new/programs/mythbackend/upnpcdstv.cpp	2007-06-23 18:32:16.000000000 -0700
@@ -155,7 +155,9 @@
     // Parse out request object's path
     // ----------------------------------------------------------------------
 
-    QStringList idPath = QStringList::split( "/", pRequest->m_sObjectId );
+    QStringList idPath = QStringList::split( "/", pRequest->m_sObjectId.section('=',0,0) );
+
+    QString key = pRequest->m_sObjectId.section('=',1);
 
     if (idPath.count() == 0)
         return( NULL );
@@ -168,6 +170,9 @@
 
     if (pResults != NULL)
     {
+        if (key)  
+            idPath.last().append(QString("=%1").arg(key)); 
+
         QString sLast = idPath.last();
 
         pRequest->m_sParentId = RemoveToken( "/", pRequest->m_sObjectId, 1 );
@@ -708,6 +713,8 @@
     QString        sRecGroup    = query.value( 8).toString();
     long long      nFileSize    = stringToLongLong( query.value( 9).toString() );
     QString        sBaseName    = query.value(10).toString();
+    //VERBOSE(VB_UPNP, QString(" %1 : %2 - %3 - %4").arg(sTitle).arg(sSubtitle).arg(sBaseName).arg(nFileSize));
+
     QDateTime      dtProgStart  = query.value(11).toDateTime();
     QDateTime      dtProgEnd    = query.value(12).toDateTime();
 
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythcommflag/ClassicCommDetector.cpp mythtv-0.20-new/programs/mythcommflag/ClassicCommDetector.cpp
--- mythtv-0.20-old/programs/mythcommflag/ClassicCommDetector.cpp	2006-08-17 06:41:53.000000000 -0700
+++ mythtv-0.20-new/programs/mythcommflag/ClassicCommDetector.cpp	2007-06-23 18:32:15.000000000 -0700
@@ -52,7 +52,8 @@
         recordingStartedAt(recordingStartedAt_in),
         recordingStopsAt(recordingStopsAt_in),
         framesProcessed(0),preRoll(0),postRoll(0),
-        logoDetector(0)
+        logoDetector(0),
+        sceneChangeDetector(0)
 {
 
     stillRecording = recordingStopsAt > QDateTime::currentDateTime();
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythfilldatabase/filldata.cpp mythtv-0.20-new/programs/mythfilldatabase/filldata.cpp
--- mythtv-0.20-old/programs/mythfilldatabase/filldata.cpp	2006-09-04 19:54:51.000000000 -0700
+++ mythtv-0.20-new/programs/mythfilldatabase/filldata.cpp	2007-06-23 18:32:16.000000000 -0700
@@ -2574,8 +2574,8 @@
                         xmltv_grabber.ascii(), configfile.ascii(),
                         filename.ascii());
     else if (xmltv_grabber == "tv_grab_nl")
-        command.sprintf("nice %s --output %s",
-                        xmltv_grabber.ascii(),
+        command.sprintf("nice %s --config-file '%s' --output %s",
+                        xmltv_grabber.ascii(), configfile.ascii(),
                         filename.ascii());
     else if (xmltv_grabber == "tv_grab_fi")
         // Use the default of 10 days for Finland's grabber
@@ -2782,24 +2782,6 @@
     query.bindValue(":OFFSET", offset);
     query.exec();
 
-    query.prepare("DELETE p FROM recordedprogram p "
-                  "LEFT JOIN recorded r ON "
-                  "  p.chanid = r.chanid AND p.starttime = r.progstart "
-                  "WHERE r.chanid IS NULL;");
-    query.exec();
-
-    query.prepare("DELETE p FROM recordedrating p "
-                  "LEFT JOIN recorded r ON "
-                  "  p.chanid = r.chanid AND p.starttime = r.progstart "
-                  "WHERE r.chanid IS NULL;");
-    query.exec();
-
-    query.prepare("DELETE p FROM recordedcredits p "
-                  "LEFT JOIN recorded r ON "
-                  "  p.chanid = r.chanid AND p.starttime = r.progstart "
-                  "WHERE r.chanid IS NULL;");
-    query.exec();
-
     query.prepare("DELETE FROM record WHERE (type = :SINGLE "
                   "OR type = :OVERRIDE OR type = :DONTRECORD) "
                   "AND enddate < NOW();");
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythfrontend/main.cpp mythtv-0.20-new/programs/mythfrontend/main.cpp
--- mythtv-0.20-old/programs/mythfrontend/main.cpp	2006-09-10 22:34:42.000000000 -0700
+++ mythtv-0.20-new/programs/mythfrontend/main.cpp	2007-06-23 18:32:15.000000000 -0700
@@ -1130,6 +1130,7 @@
     MythMainWindow *mainWindow = GetMythMainWindow();
     gContext->SetMainWindow(mainWindow);
 
+    gContext->UpdateImageCache();
     themeBase = new MythThemeBase();
 
     LanguageSettings::prompt();
@@ -1143,8 +1144,6 @@
     MythPluginManager *pmanager = new MythPluginManager();
     gContext->SetPluginManager(pmanager);
 
-    gContext->UpdateImageCache();
-
     if (gContext->GetNumSetting("EnableXbox") == 1)
     {
         xbox = new XBox();
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythfrontend/playbackbox.cpp mythtv-0.20-new/programs/mythfrontend/playbackbox.cpp
--- mythtv-0.20-old/programs/mythfrontend/playbackbox.cpp	2006-09-08 22:25:45.000000000 -0700
+++ mythtv-0.20-new/programs/mythfrontend/playbackbox.cpp	2007-06-23 18:32:15.000000000 -0700
@@ -325,7 +325,10 @@
     if ((!recGroupPassword.isEmpty()) ||
         ((titleList.count() <= 1) && (progsInDB > 0)) ||
         (initialFilt))
+    {
+        recGroup = "";
         showRecGroupChooser();
+    }
 
     gContext->addCurrentLocation((type == Delete)? "DeleteBox":"PlaybackBox");
 }
@@ -406,6 +409,20 @@
     }
 }
 
+int PlaybackBox::exec(void)
+{
+    if (recGroup != "")
+        return MythDialog::exec();
+    else if (gContext->GetNumSetting("QueryInitialFilter", 0) == 0)
+    {
+        recGroup = "All Programs";
+        showRecGroupChooser();
+        return MythDialog::exec();
+    }
+
+    return 0;
+}
+
 void PlaybackBox::setDefaultView(ViewType defaultView)
 {
     int mask;
@@ -1477,7 +1494,8 @@
                    (p->recgroup != "LiveTV" || LiveTVInAllPrograms))) &&
                  (recGroupPassword == curGroupPassword)) ||
                 ((recGroupType[recGroup] == "category") &&
-                 (p->category == recGroup ) &&
+                 ((p->category == recGroup ) ||
+                  ((p->category == "") && (recGroup == tr("Unknown")))) &&
                  ( !recGroupPwCache.contains(p->recgroup))))
             {
                 if (viewMask != VIEW_NONE)
@@ -3007,10 +3025,12 @@
     else
     {
         ScheduledRecording record;
-        record.loadByProgram(curitem);
+        ProgramInfo *t_pginfo = new ProgramInfo(*curitem);
+        record.loadByProgram(t_pginfo);
         record.exec();
     
         connected = FillList();
+        delete t_pginfo;
     }
 }    
 
@@ -3727,7 +3747,7 @@
  */
 bool PlaybackBox::SetPreviewGenerator(const QString &xfn, PreviewGenerator *g)
 {
-    QString fn = xfn.mid(max(xfn.findRev('/'),0));
+    QString fn = xfn.mid(max(xfn.findRev('/') + 1,0));
     if (!g)
     {
         if (previewGeneratorLock.tryLock())
@@ -3756,7 +3776,7 @@
     QMap<QString, PreviewGenerator*>::const_iterator it;
     QMutexLocker locker(&previewGeneratorLock);
 
-    QString fn = xfn.mid(max(xfn.findRev('/'),0));
+    QString fn = xfn.mid(max(xfn.findRev('/') + 1,0));
     if ((it = previewGenerator.find(fn)) == previewGenerator.end())
         return false;
     return *it;
@@ -3769,7 +3789,7 @@
 uint PlaybackBox::IncPreviewGeneratorAttempts(const QString &xfn)
 {
     QMutexLocker locker(&previewGeneratorLock);
-    QString fn = xfn.mid(max(xfn.findRev('/'),0));
+    QString fn = xfn.mid(max(xfn.findRev('/') + 1,0));
     return previewGeneratorAttempts[fn]++;
 }
 
@@ -4171,6 +4191,7 @@
     MSqlQuery query(MSqlQuery::InitCon());
     QString itemStr;
     QString dispGroup;
+    QString saveRecGroup = recGroup;
     int items;
     int totalItems = 0;
     bool liveTVInAll = gContext->GetNumSetting("LiveTVInAllPrograms",0);
@@ -4225,13 +4246,23 @@
         "GROUP BY category");
     if (query.exec() && query.isActive() && query.size() > 0)
     {
+        int unknownCount = 0;
         while (query.next())
         {
-            dispGroup = QString::fromUtf8(query.value(0).toString());
             items     = query.value(1).toInt();
             itemStr   = (items == 1) ? tr("item") : tr("items");
 
-            if (!recGroupType.contains(dispGroup))
+            dispGroup = QString::fromUtf8(query.value(0).toString());
+            if (dispGroup == "")
+            {
+                unknownCount += items;
+                dispGroup = tr("Unknown");
+            }
+            else if (dispGroup == tr("Unknown"))
+                unknownCount += items;
+
+            if ((!recGroupType.contains(dispGroup)) &&
+                (dispGroup != tr("Unknown")))
             {
                 groups += QString("%1 [%2 %3]").arg(dispGroup)
                                   .arg(items).arg(itemStr);
@@ -4239,6 +4270,17 @@
                 recGroupType[dispGroup] = "category";
             }
         }
+
+        if (unknownCount)
+        {
+            dispGroup = tr("Unknown");
+            items     = unknownCount;
+            itemStr   = (items == 1) ? tr("item") : tr("items");
+            groups += QString("%1 [%2 %3]").arg(dispGroup)
+                              .arg(items).arg(itemStr);
+
+            recGroupType[dispGroup] = "category";
+        }
     }
 
     // Add the category entries
@@ -4263,6 +4305,9 @@
 
     // select the recGroup in the dialog
     int index = recGroupListBox->index(recGroupListBox->findItem(dispGroup));
+    if (index < 0)
+        index = 0;
+
     // HACK make the selection show up by selecting a different item first.
     recGroupListBox->setCurrentItem((index + 1) % 2);
     recGroupListBox->setCurrentItem(index);
@@ -4310,6 +4355,9 @@
 
 void PlaybackBox::setGroupFilter(void)
 {
+    QString savedPW = recGroupPassword;
+    QString savedRecGroup = recGroup;
+
     recGroup = recGroupListBox->currentText().section(" [", 0, 0);
 
     if (groupnameAsAllProg)
@@ -4336,7 +4384,11 @@
         pwd->exec();
         delete pwd;
         if (!ok)
+        {
+            recGroupPassword = savedPW;
+            recGroup = savedRecGroup;
             return;
+        }
 
         curGroupPassword = recGroupPassword;
     } else
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythfrontend/playbackbox.h mythtv-0.20-new/programs/mythfrontend/playbackbox.h
--- mythtv-0.20-old/programs/mythfrontend/playbackbox.h	2006-07-14 19:15:28.000000000 -0700
+++ mythtv-0.20-new/programs/mythfrontend/playbackbox.h	2007-06-23 18:32:15.000000000 -0700
@@ -102,7 +102,10 @@
    ~PlaybackBox(void);
    
     void customEvent(QCustomEvent *e);
-  
+
+  public slots:
+    int exec();
+
   protected slots:
     void timeout(void);
 
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythtranscode/mpeg2fix.cpp mythtv-0.20-new/programs/mythtranscode/mpeg2fix.cpp
--- mythtv-0.20-old/programs/mythtranscode/mpeg2fix.cpp	2006-07-18 17:24:00.000000000 -0700
+++ mythtv-0.20-new/programs/mythtranscode/mpeg2fix.cpp	2007-06-23 18:32:15.000000000 -0700
@@ -726,7 +726,8 @@
         {
 
             case CODEC_TYPE_VIDEO:
-                vid_id = i;
+                if(vid_id == -1)
+                    vid_id = i;
                 break;
 
             case CODEC_TYPE_AUDIO:
@@ -1134,6 +1135,12 @@
             if (ret < 0)
             {
                 //insert a bogus frame (this won't be written out)
+                if(vFrame.isEmpty())
+                {
+                    VERBOSE(MPF_IMPORTANT, "Found end of file without finding "
+                                           " any frames");
+                    return TRANSCODE_EXIT_UNKNOWN_ERROR;
+                }
                 MPEG2frame *tmpFrame = GetPoolFrame(&vFrame.last()->pkt);
                 if (tmpFrame == NULL)
                     return TRANSCODE_EXIT_UNKNOWN_ERROR;
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythtranscode/replex/element.c mythtv-0.20-new/programs/mythtranscode/replex/element.c
--- mythtv-0.20-old/programs/mythtranscode/replex/element.c	2006-08-28 10:09:05.000000000 -0700
+++ mythtv-0.20-new/programs/mythtranscode/replex/element.c	2007-06-23 18:32:15.000000000 -0700
@@ -480,7 +480,7 @@
 {
 	int c = 0;
 	int fr =0;
-	uint8_t headr[4];
+	uint8_t headr[7];
 
 	af->set=0;
 
@@ -529,7 +529,7 @@
 int get_ac3_info(ringbuffer *rbuf, audio_frame_t *af, int off, int le)
 {
 	int c=0;
-	uint8_t headr[6];
+	uint8_t headr[7];
 	uint8_t frame;
 	int half = 0;
 	int fr;
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythtranscode/replex/multiplex.c mythtv-0.20-new/programs/mythtranscode/replex/multiplex.c
--- mythtv-0.20-old/programs/mythtranscode/replex/multiplex.c	2006-01-03 12:55:58.000000000 -0800
+++ mythtv-0.20-new/programs/mythtranscode/replex/multiplex.c	2007-06-23 18:32:15.000000000 -0700
@@ -31,7 +31,7 @@
 {
 	int i;
 	int started = 0;
-	int pos = 0;
+	int pos = -1;
 	uint64_t tmppts;
 	for(i=0; i < n; i++)
 		if(aok[i]){
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythtranscode/replex/pes.c mythtv-0.20-new/programs/mythtranscode/replex/pes.c
--- mythtv-0.20-old/programs/mythtranscode/replex/pes.c	2005-12-27 15:12:39.000000000 -0800
+++ mythtv-0.20-new/programs/mythtranscode/replex/pes.c	2007-06-23 18:32:15.000000000 -0700
@@ -157,225 +157,231 @@
 
 	int l;
 	unsigned short *pl;
-	int c=0;
+        int done;
 
 	uint8_t headr[3] = { 0x00, 0x00, 0x01} ;
-
-	while (c < count && (!p->mpeg ||
-			     (p->mpeg == 2 && p->found < 9))
-	       &&  (p->found < 5 || !p->done)){
-		switch ( p->found ){
-		case 0:
-		case 1:
-			if (buf[c] == 0x00) p->found++;
-			else p->found = 0;
-			c++;
-			break;
-		case 2:
-			if (buf[c] == 0x01) p->found++;
-			else if (buf[c] == 0){
-				p->found = 2;
-			} else p->found = 0;
-			c++;
-			break;
-		case 3:
-			p->cid = 0;
-			switch (buf[c]){
-			case PROG_STREAM_MAP:
-			case PRIVATE_STREAM2:
-			case PROG_STREAM_DIR:
-			case ECM_STREAM     :
-			case EMM_STREAM     :
-			case PADDING_STREAM :
-			case DSM_CC_STREAM  :
-			case ISO13522_STREAM:
-				p->done = 1;
-			case PRIVATE_STREAM1:
-			case VIDEO_STREAM_S ... VIDEO_STREAM_E:
-			case AUDIO_STREAM_S ... AUDIO_STREAM_E:
-				p->found++;
-				p->cid = buf[c];
+	do {
+		int c=0;
+		done = 1;
+		while (c < count && (!p->mpeg ||
+				     (p->mpeg == 2 && p->found < 9))
+	               &&  (p->found < 5 || !p->done)){
+			switch ( p->found ){
+			case 0:
+			case 1:
+				if (buf[c] == 0x00) p->found++;
+				else p->found = 0;
 				c++;
 				break;
-			default:
-			case PACK_START:
-			case SYS_START:
-				p->found = 0;
+			case 2:
+				if (buf[c] == 0x01) p->found++;
+				else if (buf[c] == 0){
+					p->found = 2;
+				} else p->found = 0;
 				c++;
 				break;
-			}
-			break;
+			case 3:
+				p->cid = 0;
+				switch (buf[c]){
+				case PROG_STREAM_MAP:
+				case PRIVATE_STREAM2:
+				case PROG_STREAM_DIR:
+				case ECM_STREAM     :
+				case EMM_STREAM     :
+				case PADDING_STREAM :
+				case DSM_CC_STREAM  :
+				case ISO13522_STREAM:
+					p->done = 1;
+				case PRIVATE_STREAM1:
+				case VIDEO_STREAM_S ... VIDEO_STREAM_E:
+				case AUDIO_STREAM_S ... AUDIO_STREAM_E:
+					p->found++;
+					p->cid = buf[c];
+					c++;
+					break;
+				default:
+				case PACK_START:
+				case SYS_START:
+					p->found = 0;
+					c++;
+					break;
+				}
+				break;
 			
 
-		case 4:
-			if (count-c > 1){
-				pl = (unsigned short *) (buf+c);
-				p->plength =  ntohs(*pl);
-				p->plen[0] = buf[c];
-				c++;
+			case 4:
+				if (count-c > 1){
+					pl = (unsigned short *) (buf+c);
+					p->plength =  ntohs(*pl);
+					p->plen[0] = buf[c];
+					c++;
+					p->plen[1] = buf[c];
+					c++;
+					p->found+=2;
+				} else {
+					p->plen[0] = buf[c];
+					p->found++;
+					return;
+				}
+				break;
+			case 5:
 				p->plen[1] = buf[c];
 				c++;
-				p->found+=2;
-			} else {
-				p->plen[0] = buf[c];
+				pl = (unsigned short *) p->plen;
+				p->plength = ntohs(*pl);
 				p->found++;
-				return;
-			}
-			break;
-		case 5:
-			p->plen[1] = buf[c];
-			c++;
-			pl = (unsigned short *) p->plen;
-			p->plength = ntohs(*pl);
-			p->found++;
-			break;
+				break;
 
 
-		case 6:
-			if (!p->done){
-				p->flag1 = buf[c];
-				c++;
-				p->found++;
-				if ( (p->flag1 & 0xC0) == 0x80 ) p->mpeg = 2;
-				else {
-					fprintf(stderr, 
-						"Error: THIS IS AN MPEG1 FILE\n");
-					exit(1);
+			case 6:
+				if (!p->done){
+					p->flag1 = buf[c];
+					c++;
+					p->found++;
+					if ( (p->flag1 & 0xC0) == 0x80 ) p->mpeg = 2;
+					else {
+						fprintf(stderr, 
+							"Error: THIS IS AN MPEG1 FILE\n");
+						exit(1);
+					}
 				}
-			}
-			break;
+				break;
 
-		case 7:
-			if ( !p->done && p->mpeg == 2){
-				p->flag2 = buf[c];
-				c++;
-				p->found++;
-			}	
-			break;
+			case 7:
+				if ( !p->done && p->mpeg == 2){
+					p->flag2 = buf[c];
+					c++;
+					p->found++;
+				}	
+				break;
 
-		case 8:
-			if ( !p->done && p->mpeg == 2){
-				p->hlength = buf[c];
-				c++;
-				p->found++;
-			}
-			break;
+			case 8:
+				if ( !p->done && p->mpeg == 2){
+					p->hlength = buf[c];
+					c++;
+					p->found++;
+				}
+				break;
 			
-		default:
+			default:
 
-			break;
+				break;
+			}
 		}
-	}
 
-	if (!p->plength) p->plength = MMAX_PLENGTH-6;
+		if (!p->plength) p->plength = MMAX_PLENGTH-6;
 
 
-	if ( p->done || (p->mpeg == 2 && p->found >= 9) ){
-		switch (p->cid){
+		if ( p->done || (p->mpeg == 2 && p->found >= 9) ){
+			switch (p->cid){
 			
-		case AUDIO_STREAM_S ... AUDIO_STREAM_E:			
-		case VIDEO_STREAM_S ... VIDEO_STREAM_E:
-		case PRIVATE_STREAM1:
-
-			if (p->withbuf){
-				memcpy(p->buf, headr, 3);
-				p->buf[3] = p->cid;
-				memcpy(p->buf+4,p->plen,2);
-			} else {
-				memcpy(p->hbuf, headr, 3);
-				p->hbuf[3] = p->cid;
-				memcpy(p->hbuf+4,p->plen,2);
-			}
+			case AUDIO_STREAM_S ... AUDIO_STREAM_E:			
+			case VIDEO_STREAM_S ... VIDEO_STREAM_E:
+			case PRIVATE_STREAM1:
 
-			if (p->found == 9){
 				if (p->withbuf){
-					p->buf[6] = p->flag1;
-					p->buf[7] = p->flag2;
-					p->buf[8] = p->hlength;
+					memcpy(p->buf, headr, 3);
+					p->buf[3] = p->cid;
+					memcpy(p->buf+4,p->plen,2);
 				} else {
-					p->hbuf[6] = p->flag1;
-					p->hbuf[7] = p->flag2;
-					p->hbuf[8] = p->hlength;
+					memcpy(p->hbuf, headr, 3);
+					p->hbuf[3] = p->cid;
+					memcpy(p->hbuf+4,p->plen,2);
 				}
-			}
 
-			if ( (p->flag2 & PTS_ONLY) &&  p->found < 14){
-				while (c < count && p->found < 14){
-					p->pts[p->found-9] = buf[c];
-					if (p->withbuf)
-						p->buf[p->found] = buf[c];
-					else 
-						p->hbuf[p->found] = buf[c];
-					c++;
-					p->found++;
+				if (p->found == 9){
+					if (p->withbuf){
+						p->buf[6] = p->flag1;
+						p->buf[7] = p->flag2;
+						p->buf[8] = p->hlength;
+					} else {
+						p->hbuf[6] = p->flag1;
+						p->hbuf[7] = p->flag2;
+						p->hbuf[8] = p->hlength;
+					}
 				}
-				if (c == count) return;
-			}
 
-			if (((p->flag2 & PTS_DTS) == 0xC0) && p->found < 19){
-				while (c < count && p->found < 19){
-					p->dts[p->found-14] = buf[c];
-					if (p->withbuf)
-						p->buf[p->found] = buf[c];
-					else 
-						p->hbuf[p->found] = buf[c];
-					c++;
-					p->found++;
+				if ( (p->flag2 & PTS_ONLY) &&  p->found < 14){
+					while (c < count && p->found < 14){
+						p->pts[p->found-9] = buf[c];
+						if (p->withbuf)
+							p->buf[p->found] = buf[c];
+						else 
+							p->hbuf[p->found] = buf[c];
+						c++;
+						p->found++;
+					}
+					if (c == count) return;
 				}
-				if (c == count) return;
-			}
 
+				if (((p->flag2 & PTS_DTS) == 0xC0) && p->found < 19){
+					while (c < count && p->found < 19){
+						p->dts[p->found-14] = buf[c];
+						if (p->withbuf)
+							p->buf[p->found] = buf[c];
+						else 
+							p->hbuf[p->found] = buf[c];
+						c++;
+						p->found++;
+					}
+					if (c == count) return;
+				}
 
-			while (c < count && p->found < p->plength+6){
-				l = count -c;
-				if (l+p->found > p->plength+6)
-					l = p->plength+6-p->found;
-				if (p->withbuf)
-					memcpy(p->buf+p->found, buf+c, l);
-				else {
-					if ( p->found < 
-                                             (unsigned int)p->hlength+9 ){
-						int rest = p->hlength+9-p->found;
-						memcpy(p->hbuf+p->found, buf+c, rest);
-						if (ring_write(p->rbuf, buf+c+rest, 
-							       l-rest) <0){
-							exit(1);
-						}
-					} else {
-						if (ring_write(p->rbuf, buf+c, l)<0){
-							fprintf(stderr,
-								"ring buffer overflow %d\n"
-								,p->rbuf->size);
-							exit(1);
+
+				while (c < count && p->found < p->plength+6){
+					l = count -c;
+					if (l+p->found > p->plength+6)
+						l = p->plength+6-p->found;
+					if (p->withbuf)
+						memcpy(p->buf+p->found, buf+c, l);
+					else {
+						if ( p->found < 
+                                                     (unsigned int)p->hlength+9 ){
+							int rest = p->hlength+9-p->found;
+							memcpy(p->hbuf+p->found, buf+c, rest);
+							if (ring_write(p->rbuf, buf+c+rest, 
+								       l-rest) <0){
+								exit(1);
+							}
+						} else {
+							if (ring_write(p->rbuf, buf+c, l)<0){
+								fprintf(stderr,
+									"ring buffer overflow %d\n"
+									,p->rbuf->size);
+								exit(1);
+							}
 						}
 					}
-				}
 
-				p->found += l;
-				c += l;
-			}			
-			if(p->found == p->plength+6){
-				func(p);
+					p->found += l;
+					c += l;
+				}			
+				if(p->found == p->plength+6){
+					func(p);
+				}
+				break;
 			}
-			break;
-		}
 
-		if ( p->done ){
-			if( p->found + count - c < p->plength+6){
-				p->found += count-c;
-				c = count;
-			} else {
-				c += p->plength+6 - p->found;
-				p->found = p->plength+6;
+			if ( p->done ){
+				if( p->found + count - c < p->plength+6){
+					p->found += count-c;
+					c = count;
+				} else {
+					c += p->plength+6 - p->found;
+					p->found = p->plength+6;
+				}
 			}
-		}
 
-		if (p->plength && p->found == p->plength+6) {
-			init_pes_in(p, p->type, NULL, p->withbuf);
-			if (c < count)
-				get_pes(p, buf+c, count-c, func);
-		}
-	}
+			if (p->plength && p->found == p->plength+6) {
+				init_pes_in(p, p->type, NULL, p->withbuf);
+				if (c < count) {
+					done = 0;
+					count -= c;
+					buf += c;
+				}
+			}
+		} 
+	} while(!done);
 	return;
 }
 
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythtranscode/replex/replex.c mythtv-0.20-new/programs/mythtranscode/replex/replex.c
--- mythtv-0.20-old/programs/mythtranscode/replex/replex.c	2006-08-28 10:09:05.000000000 -0700
+++ mythtv-0.20-new/programs/mythtranscode/replex/replex.c	2007-06-23 18:32:15.000000000 -0700
@@ -294,10 +294,13 @@
 						// add each extra frame required direct to the output file
 						int x;
 						for (x = 0; x < framesdiff; x++){
-							if (type == AC3)
-								write(rx->dmx_out[num+1+rx->apidn], framebuf, aframe->framesize);
-							else
-								write(rx->dmx_out[num+1], framebuf, aframe->framesize);
+							if (type == AC3){
+								if (rx->dmx_out[num+1+rx->apidn])	
+									write(rx->dmx_out[num+1+rx->apidn], framebuf, aframe->framesize);
+							}else{
+								if (rx->dmx_out[num+1])
+									write(rx->dmx_out[num+1], framebuf, aframe->framesize);
+							}
 							*acount += 1;
 						}
 						
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythtranscode/replex/ringbuffer.c mythtv-0.20-new/programs/mythtranscode/replex/ringbuffer.c
--- mythtv-0.20-old/programs/mythtranscode/replex/ringbuffer.c	2006-05-26 19:55:41.000000000 -0700
+++ mythtv-0.20-new/programs/mythtranscode/replex/ringbuffer.c	2007-06-23 18:32:15.000000000 -0700
@@ -423,3 +423,18 @@
 
 	return dsize;
 }
+void dummy_print(dummy_buffer *dbuf)
+{
+   int i;
+   uint64_t rtime;
+   uint32_t size;
+   int avail = ring_avail(&dbuf->time_index) / sizeof(uint64_t);
+   for(i = 0; i < avail; i++) {
+       ring_peek(&dbuf->time_index,(uint8_t *) &rtime, 
+			      sizeof(uint64_t), i * sizeof(uint64_t));
+       ring_peek(&dbuf->data_index,(uint8_t *) &size, 
+			      sizeof(uint32_t), i * sizeof(uint32_t));
+       printf("%d : %llu %u\n", i, rtime, size);
+   }
+   printf("Used: %d Free: %d data-free: %d\n", avail, 1000-avail, dbuf->size - dbuf->fill);
+}
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythtranscode/replex/ringbuffer.h mythtv-0.20-new/programs/mythtranscode/replex/ringbuffer.h
--- mythtv-0.20-old/programs/mythtranscode/replex/ringbuffer.h	2006-01-24 20:08:01.000000000 -0800
+++ mythtv-0.20-new/programs/mythtranscode/replex/ringbuffer.h	2007-06-23 18:32:15.000000000 -0700
@@ -97,10 +97,10 @@
 
 	static inline unsigned int ring_free(ringbuffer *rbuf){
 		int free;
-		free = rbuf->read_pos - rbuf->write_pos-1;
+		free = rbuf->read_pos - rbuf->write_pos;
 		if (free <= 0) free += rbuf->size;
-		
-		return free;
+		//Note: free is gauranteed to be >=1 from the above
+		return free - 1;
 	}
 
 	static inline unsigned int ring_avail(ringbuffer *rbuf){
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythtv-setup/main.cpp mythtv-0.20-new/programs/mythtv-setup/main.cpp
--- mythtv-0.20-old/programs/mythtv-setup/main.cpp	2006-09-10 22:34:42.000000000 -0700
+++ mythtv-0.20-new/programs/mythtv-setup/main.cpp	2007-06-23 18:32:16.000000000 -0700
@@ -239,6 +239,7 @@
     mainWindow->Show();
     gContext->SetMainWindow(mainWindow);
 
+    gContext->UpdateImageCache();
     MythThemeBase *themeBase = new MythThemeBase();
     (void) themeBase;
 
diff -Naur -x mytharchive mythtv-0.20-old/programs/mythwelcome/welcomedialog.cpp mythtv-0.20-new/programs/mythwelcome/welcomedialog.cpp
--- mythtv-0.20-old/programs/mythwelcome/welcomedialog.cpp	2006-07-25 01:40:11.000000000 -0700
+++ mythtv-0.20-new/programs/mythwelcome/welcomedialog.cpp	2007-06-23 18:32:17.000000000 -0700
@@ -465,7 +465,7 @@
     QStringList strlist;
     
     // get list of current recordings
-    QString querytext = QString("SELECT cardid FROM capturecard;");
+    QString querytext = QString("SELECT cardid FROM capturecard WHERE parentid = 0;");
     MSqlQuery query(MSqlQuery::InitCon());
     query.exec(querytext);
     QString Status = "";
diff -Naur -x mytharchive mythtv-0.20-old/settings.pro mythtv-0.20-new/settings.pro
--- mythtv-0.20-old/settings.pro	2006-08-28 13:47:26.000000000 -0700
+++ mythtv-0.20-new/settings.pro	2007-06-23 18:32:19.000000000 -0700
@@ -4,8 +4,8 @@
     PREFIX = /usr/local
 }
 
-LIBVERSION = 0.20
-VERSION = 0.20.0
+LIBVERSION = 0.20.1
+VERSION = 0.20.1
 
 # Die on the (common) case where OS X users inadvertently use Fink's
 # Qt/X11 install instead of Qt/Mac. '
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/pd-background.png mythtv-0.20-new/themes/default/pd-background.png
--- mythtv-0.20-old/themes/default/pd-background.png	2005-12-26 10:41:25.000000000 -0800
+++ mythtv-0.20-new/themes/default/pd-background.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,9 +1,4 @@
 PNG
 
-   IHDR       d   bKGD      	pHYs    ~   tIME. G	  IDATx_e~{?f$dldW()$Ex]
-{*XX)].[RVZRpJAKwM#qZu18q9o/}gy}L"+s^9ssf{~<9E\b!  l;v-v  WB7%%W?~|orr(EqKD p[^YYy377O>O_x$=H|0$p(~	 Uw}yz--c}EDeqMz/b~~>~]U  #g||<G;=}/"O"0U/'gw_ v{]vmonn.z'auPj3336w>(""^z?E}=  #zo;/G{XN7 ;:CxEDlO/w#ba. i/z?^\\>(O?3g{{: 9Ion"wwqI~~\O  \	~?<x`|qB{~=[8aOGeG/"WU29bD9B 06u3<staa!fggc]q+"^|)th]eG",w#"z&N@7A JM'O?7{^LNNFYgt->,zWU'Nh&:E#=]/uicF  F!n<?<yw_WG3u#THovy)E]b}}|,--EyGzWWa zvobll,&"['m/|!'6_YYh=!  nozz:""k.b526=h<)XDd9.m*{byv  vr7+@$/&&&H/Z3_vCwwC=vw<_?M)] CmIx;33N'&Nq9yEDey?( 8  R,}/qY_&PO-qk{h=qcD=:  #Ee|RhUUi374m;#nx?nxhk5O\z% zAOm":zE}8?]~I:  *i?=E\^}(yt. OkZ-7}Q^vnyy@ `B=Al7y="7n/O  `'Ez/4O{mofStbl (zAmIzm[:vjo']yK2:  ;=#?k+ -q^I@c}t  F)5y?V%zR 0*,vxi:7$Ke/m^ XO7Ny;{]O` Q:RwS_K z/K)Kx  ev    "         t    H    t    H    t    H  D:  t  @ H  D:  t  @ H  D:    @  "  D:    @  "  D:       "         "         t    H    t    H    t  @ H  D:  t  @ H  D:  t  @  "  D:    @  "  D:    @  "         "         "    H    t    H    t    H  D:  t  @ H  D:  t  @ H  D:  t  @  "  D:    @  "  D:    @  "         "         "    H    t    H    t    H  D:  t  @ H  D:  t  @ H  D:    @  "  D:    @  "  D:       "         "         t    H    t    H    t  @ H  D:  t  @ H  D:  t  @  "  D:    @  "  D:    @  "  D?  t  @ H  D:  t  @ H  D:  t  @  "  D:    @  "  D:    @  "         "         "    H    t    H    t    H  D:  t  @ H  D:  t  @ H  D:    @  "  D:    @  "  D:       "         "         t    H    t    H    t  @ H  D:  t  @ H  D:  t  @  "  D:    @  &"}{GX+  "b2"M/_X8]gs}uSEzU?|w"b<V"bes	: `5nu/yn"9O#\}Y^c  0"  D:    @  "  D:    @  "  D:       "         "         t    H    t    H    t  @ H  D:  t  @ H  D:  t  @  "  D:    @  "  D:    @  "         "         "    H    t    H    t    H  D:  t  @ H  D:  t  @ H  D:    @  "  D:    @  "  D:       "         "         "    H    t    H    t    H  D:  t  @ H  D:  t  @ H  D:    @  "  D:    @  "  D:       "         "         t    H    t    H    t  @ H  D:  t  @ H  D:  t  @  "  D:    @  "  D:    @  "         WdOMMK @(H<  |I76X U_~=z-:  DG Uivv6N>EzUUJsc~~yEKx  F]1.r#=^'?h	^vm9P Jw1ZZx;I9={n}zeB okqX\\2*7}{XQOPcK~n XDk9?IGv|H'x?8Wzk(>y  @uGy$?+++su+Ob8k{nc'N#Gw  TU<@;wnkE}:{XGN*|9x}>sSN? Uc>;uEDMburD\KW__}DDLE5+"#bfbbbM7={(b(8tPzqm7]w]D `]p!fggS+M;w|1]u/E,"#Bm>VGdMG1>|'&& pZYY?|wen6L'}>"H_#|K>].&e""&?^UeYUU\n&  0_~8q=;Xt7Dl\T\L|*.l^)'mW>p`./  $C'JiX]L?)X	Avq'4=_"]>  X7WC}z/iWc$Jm?t9<,w):  ;=qAt$\)rySoAG70';h	t (EzDL	t8}1;PO8o~^14>B3UUv  N#8Oar=AWO^f~Rz3E `"=McHZm^4
-HO;uy}E/	  EiQ/qYc16NlUK;4O8|LW 0
-$MW4HC8Z$]$):TV  ;]>E>_6I<6~h&u{76XQe17u  F5z9}x&HT DzcP `#z[/%An[]6,ogSIP `UJ:MO7^IIwvxA'>MM R#=$1~QWGo]O,z&^B QFYdq)[I
-X@'2m5E  (6MohW3N|z5E  bwM<%
--};N>5#] 0Gz>UoJmSzu  F1AK-r[hC~X (G{_
-a Us        JSm    IENDB`
\ No newline at end of file
+   IHDR       d   tIMEz^   	pHYs    d_   gAMA  a  IDATx{e~eSn"+PnUb JkHK B-+
+BM&qt'd}9gfMf&sL|ys:t B6y8\6>>Ne]UlbbB =V:mOvq<<t^X?./ry,o?  .v<_zk ~N^t:?~/zg w^g+WX|cccCwrNO5t'8zvnY%e]RV_o `k]qk7m{kYQy;rpYnto5GGGOK?eG+6@h~5 `<3?uccc'mW>_6Xf~H{=5,av]%,@q>S  puz{|WGy7<xGn>~P._>^ v  _7|mwK+c7nOkl8q^YAO?^G5GE:  MKwG~C+V' +eo[_j#g=znei{o{%WC8{HV  5FGGGv|7o^s"YOgE/o4)'/t bU]vo~Rn{C3M;_%k-.'OzU BN'?NWZU[8Y[:Qo=pWASv@ `i?96<<\yYlYf-51#gA3EWhllzFz{ XB}rr6qni\u','	;;6e:  d^5_9|i>u9}  Xji^W_4Sg,  XIz:Y \"}N  `93I 3/n  }p  D:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:    F @  aD:  ki  aD:    F @  aD:    F t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  t  #  H 0"  5+_"  fLNLL+rE3w   P^zU,=|f;gz5\588   7cgNn^Ru]kX  (w}i]67Y"^hOaN E4ic|>i\|B|p'8ro|jQu s?Xr;o2tzt5PsS z/zl> #<v?5>F\atlT|w'K{~S'?fF  ]Q+z?+0{/6a~Y_U`*hj~Ix_Z?[/`=;wogG| ROqn+~v?<c?+wu]xoY{CMw>^(xo;K?p* :.Q|'lr:1?nq-;I2O)on[?P|q  pG={Yt--_U~Vc_]W_}O>u`K,Y2XhLtt  #G~?}:TwLMk#V{d}SYz/biF53u9}BL{.H `!ioAM7u_	.I12u?~  {k58A[\	:EN{qMu  ukq^n}@'FxOoi<&  OyN8m@Bj w]%vlCiWt  vZ>NM XL&                                                   3B    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/pf-background.png mythtv-0.20-new/themes/default/pf-background.png
--- mythtv-0.20-old/themes/default/pf-background.png	2005-06-21 23:54:48.000000000 -0700
+++ mythtv-0.20-new/themes/default/pf-background.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,102 +1,5 @@
 PNG
 
-   IHDR    ;   PV   gAMA  7   tEXtSoftware Adobe ImageReadyqe<  xIDATx   p  :   `z9)  O	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*B&FFFP'@@@|h`Q0
-F(C #@?qxCS3
-F(#dPg.`T DRcX`)S fF{	'(KfQ0
-F*h]0
-F( < Rz4@IjN(`T@h]0
-F( QK~7A@Gb;5(`:h]0
-F( <t-L+_GrfQ0
-FrJh]0
-F(  bFAuwjF(`buFQ0
-F? @ IahfQ0
-F,;3ZQ0
-
- 
-HN(`h@(`
- <
-DN(`h N@~.`T 6`8`* n4F(`  h]0
-F(V :    u;  `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ 7h8Q0
-FF`Q0 @ :h8Q0
-F?Q0
-F Y DLc
-0
-F(#?
-F( "1op`GhQ@#M DLc!`Q0Rz (F 6Zsb	_Gz8Q0
-FHx(`3 QGS@0KP?p`
-FvF( &` D90+Pp`
-HFvF(TD& LFFA "C<>qF0
-F(#]  `1hPQ0
-(L {T <R!&*@;o k CJn(`T@z`t`gQ@t ;  aLeF}EW pQ	1[$    nG+y  J    A   	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L%  ur,	    IENDB`
\ No newline at end of file
+   IHDR    ;   PV   tIME3{o   	pHYs    iTS   gAMA  a  IDATxd8ID	LV'[w,#!.! $!~cUuo_YG={{
+                      G>XOX/}1?c}>Gc}?/Se&k}gc=t_X
+WZ{LfY1{7.X<CZcLfpoxw`_?xCtLfp5>_:gLfpsX~2;WV:> )s`2z4}Ne 90ZN=nXWm=J7?|} 8%s`2-=n$,_<a k`mK[-9.zOw~} 8-Y las%1be 'c [XrK  %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  < \{io 81  u#  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  Dy    %  J @ (1  Qb  <  D-M( pTw, |'qQY las%1X_}X dLf*7 dLf~ {_NY c=x pX, rs>cU>81q 90=~_}^X:e 9098>^|_W?	}UY ,svXO_j|eqh/6} 8Y :                                              |r7    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/pf-lines.png mythtv-0.20-new/themes/default/pf-lines.png
--- mythtv-0.20-old/themes/default/pf-lines.png	2005-06-21 23:54:48.000000000 -0700
+++ mythtv-0.20-new/themes/default/pf-lines.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,206 +1,13 @@
 PNG
 
-   IHDR    ;   PV   gAMA  7   tEXtSoftware Adobe ImageReadyqe<  SIDATxA  h9W   bF<S?FN(`T@h]0
-F(k@cA3gD@c?9#Q0
-F(>O>F(?X Pa^H1(Y	S3
-F((:*XFeh]0
-F( OQ@4q`\lkG0||b:>CS3
-F(#B%vP<:p.`S' F2
-%&,lJl3ih'![fQ0
-FzJ'45ZQ0
-)(0 O[axg"8
--\?46 '0`Q@Al r.`Rp@D41gdeeUbaa_>ly_h46 52mW>ZpQ0
-FUuLic7u(DIb HDCeSZSxStW~c`ddcz&&&vvvnnn0 6\p|@#[[[%KxCQ0
-F(5)u^@
-.\5ZQ0
-)(wO9L/69@\h"3gW:Pc^\\A]]]K__APPEgHKKi62m6ugglll~Y`7)xQ0
-_q@ 4#$$XF?|N#cGagg7	7A70pQ0
-7<<<;Ae/6F m;Xb ,.|r7A(hGn6]00d\MMM#""4jN81'O2:5?f;wO3>}Q0
-FHeXddd`?,5_hP`033UUUtuulll$%%1aT:"J@6"=]RtqW ,P:7q)@aaaAu/^T#'dL<p#H FQ0
-F( 7===KKK v\mmNzr7o
-gH\\;u#` (80hOl#*EkcmU b{ ;nwo@lHydK0&xB
-S544.Tp5:kwww_4i'Ol{vG#~ `:7o>X]8qb&HPHH(y	
-
-
-0?y!1+?s*bM`a6_}{)=btuu-HjnnP[[q"3,f_X@,XF	M=H_o) PGUxODb|KNYjRuYf^,yH?0Luuu;'xgc+F`Q00yqlll4 ''W)  p3(((04N5sgOBy695
-F(sc=qcWTlW/<v_4(Kl^oA#{]hz&=i,_9z1IIIFAAA3 (w[c~B_8:C(`n_z4sX0
-		+U)???E?. MfD6rkQ@<;yeu3`^lK9;;_~<#f| BG/l4<rAluB?5k?ltttAt84(`V8 <w			C@S\\\H:h%6 3fC)zpQ0
-GWN:u\^^4
-322Cr| L c<l~!)4
-PN P1 w#ZCHF(`eDoxqq&H9`= VPP3o Z:@pQ0
-[+vU#,k~
-+Fa4 Xl~)ZZ!bdPRp18 q6wy://J\\\G.0.4qU$#0`Q@F<F41NHHHBhy=/;'4+KQ0
-F7Ngi}}}uPCBDZ!g@*}6_F;<H2.FbzJ{*&&:tk,RcQ<2?:j?
-F(`.s}666F\z@>| :G7ZcWO}EQ0
-F98lyyh
-6a[yd  6\o(#dnpd=tsbVR*yn6qk|)^<bG16GDQl&-4G5R(bU^ -9-g7Zs<s)s.3/;3XZ`_(<ykm!Ae&>C	T`{E]@hd^7WG2+xeUB{l0qW;2e{d~Y	.BBe&l]{(y ]A
-0.ke+"$V%^ZAY'&q__u~l$gttz7Q	 > 1]uU4.6vnekG^O4E6i\9Lh%p
-\w) 0/;eP0MCH~z5r0kX3[LiHLA$DEM)A.#.;gHaw
-9P s8}Mfvd 
- c:C~?Aot(zh6?Z|II<>w$Ia@6
-I$4Bc?8y?wcyr%PqUgVzM\aS}O X& { P?2 1Ft K^@*\t^@`u05Ei0Oko0/,kEL59%Ar/~H]>F
-,#HqO`
-R aX+A5i$UP0Iz r:8Ta]!P<yPnaFz.Rxl1VJ/o&Cfs	 QabZoK_5e593tIP`=Na#+R$>4v50%vPlv-`B@:7Si`q a0PXaKaJUf[ZvH\O|~PVq+'jn44A0(2~A<T [j,+syzBPLf~`Q aBkw.E@ $$cI foD 8%! wu`&asBYFI?<P#-a`Q4iq31yBW	=o0]f3
-F(LH6*Ue6|yF=#-G(CA>#K@61  " "za@c:7")_lj0g(hxQ0
-F+T#u:EoF(.erY<&od8#v.Oy !k+QiEZxFaj
-qr9	H`GQ0
-F(N~:r]m]=<.;uicE_r9Z'Q0eI67u/+@ ij'AZ f,~:_,3Sn\GAQ0
-F(+Nfc"bPP=~<zh]0
-F({OB}u b!dzzZ50>r?pLR'tza>f~Q0
-{ff nP?z]-1GRbF( 2rg2@D+r  {gPQE)0\-t,oz)'aQQ;91)z$Pj)L!Ttr%?E)5&C  UOKAH@ dKc28*45k#Rd!$-.Y>j   PJ!'[/. u'
-d>jK v -x#N:$!AH^'S{a<'|ibES^# =y`Og6fI '+z?m)XpRHBBw`R2P)C^F(#e eu bbTNlGQ0
-F(ON`2y
- 
-Nh}Q0
-FvCZfchQ0J;` @L:
-F(``AQ\.hQ0
-F(Q0
-F,o [$    nG+y  J     A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% bb. fElP?3>}z&H\PPWddddQ0
-F(`Q0
-0?K.:s/={n_Zf(@ /4D`u0~-+\|v'-|A.;Bc$11/%nr*}am5
-8Mi>]GFCK32J)kqN<;C00Gba#)Z,_yHA,{|zi@_\^yobM>z`yDQBuZ%%I+3H)>2wM ?x`uls:t/=E*KEBG
-$X(## 
-W^1|	aBUUUe 5~e 	kCp`[Z|P	M.gHh]0
-F*{xyy^ccc^;; qNNNo~ =~ng"- |DD(i 3M6+W@9XV1 `7O@dB)V(.,^d	;0kP	F@@(`_=T#P28`]K@p
-j_r<-!tF(eyHFFyBaaaw6?4A ]3HAhb!==r2omwJ7*mLQh*/
-s
-
-nl z	LABtzL0NS/rm;B:4| o >}D6O>@^UkmF= }|`xH{xyAJ:Yk3$c^#e~gu@;`v[[':@ @G.?&Z2!7aY@|?~#4yxj/ 14?22K=P0
-F(##p3@uhX=AXUH'TcQ0
-F-{yDGG%6LLLv&V D1 
-_~9s\bBPxyvYc)=- {I o64A08qd8Q0
-FH&bX]P} Rgc5GQ0
-FF,G~\8'=.{L`9|m+qn Bes'@G,@CQyx. a@0v3Lhv1 p`
-{=D`B*j@~YVcFQ0
-gD{>MMMV@#APW}`mygn2,Hl8p\Rdd1srrVA8?Zg8Q0
-FHPq$ z2U[Q0+W|*W@lF<lV @`A,ku>lZ4#=o~B6)L 3?c0
-F(#	 uvu 5FQ0pCzyX~rv2w `q Xp%D+5Fd$7V@13L`p#
-#w-F~)co2	fU"1B09g.4>P:vU3y}5>(
-xrZ7Z-.RiA6lP.`%^?JDw)_W7(+bD]x[&.^"Dp-(wLLA#/}E<\]}Z3uU~A$
-WMy!os\9_
-}'xY:$A@^@<2@Ly/4^M	0@4*R sE]V\+eow``>jV"GO@|/
-O
-xr7?/c0,_OEX:{@vwW/0% c35?M8qc0s^)q-3V`
-R`lAz- XkjIs*ZtvH:l>!W&*T|Us1 .5oRJtOb2g	k`X~NGChMiCnJ`}pBc7Oy
-
-^mo \1 $A;jP7Mh`^'wb gg`"z^F'$/4pX;K	f5KQxb9(
-0uE"b6/Bd?!k}`
-'J!WG"bTLM ve@;nIxPDS"bX;qS*z]8H#"@:QM9^::z{ (]>=W^ZOu C3OSlf>~;
-  0 TVTp)h	sFh)  c3~8@LD,`z1mmQ0
-F(`QAoG#-AGnm @ G FQ0
-F(`Q@Lcgg @ 1QF(`Q0
-F($hb=@ 1QQ`Q0
-F(`m @ v  a8h  >% 	   
-e  @     aX4 R\ Qa +fG(`Q0
-F(mQy`Q0
-F(`7 h(Q0
-F(`Q@ d bbb<
-F(`Q0
-FK^ "z,+++hPQ0
-F(`Q@9_zE9 D1``Q0
-F(`Q0
-(iii7^f@agQ0
-F(`Q0
-^^^0'CV 6?| 0B2!G(`Q0
-F(6meaa/a_|9_~GRa D1s0\VV& mQ0
-F(`Q!kaoo $$={6XOl/_2wQSS[jP1J?
-F(`Q0
-F(@3g4OII)SSSS!r&&?3@xG`cDS?d -Z(=h~Q0
-F(`TpZ`C^/++c{.XaA@,x z
-samml3FcWXq	u?Q0
-F(`Q0R6Syy"6`]$p}: FlHdT4. b{I0777[`C^YII
-~W60## D#cz8-(^#APKv ajA%%%Ax7an	_`xaQ0
-F*  aNNNEX=v[= te~#LV#hu?z GclU#oapwaaa[n1\t7 _=P5o@@ ]CXX
-6p!sW^}v`1gPUUe4	t3x@J
-|v.y`0:<RtQ0
-? P4.''d( _7p#}}{+**|FA?/pw*899AY>}r+YQ0
-F(`Q0
-`.xu`Cj H yXr OCjFAb0=AJ~b:_z?$LiEaGh ah2.dXlY+dC/:;w.>} {#O	0
-F(#SOfH@-? 2^xz['h7T9e@];
-F(e+AAyeApQ_|a#(# <H/...^^^Xc+1ll`9 ky~@,-
-rBX 
-		1{O oh)#5 ~w8Q0
-FHP	xuoABQ `2F(>eaaz}^bZ-;Cl4  B5 sB9&F/rcuZ/]Z&F&4G?x q!4c+Q0
-F( _=C2?jXwl8tFghG(~e='a?@,,=/P1kYKS.s	:^/(Qf'h)c{Hj2~4s=Rw\KyCxmU3Z^Q/i`0| = <h]T`7t_Satrp>f^lGvX`
-R a`*"B{)k)@uO.,CfXx!IdvF~Cv;rQ*NC?<bg#YvWPn0t< O7/@\P6m4qbSzr8=|ivqsH 0| r=P7!!/D53^bv[i8L3YxN3EGY@A1CD.s-(wg'ig5HB(<e4b7$! {g Q){bA Af"}G";)_x ;w~Emu:$Ld};5nY#p#/3-S<aM&E @t5yi5mnmSJ43hp A!'
-dRmb:sV=X8,mdUn6GW8s7M1OCqVf.$;sxQ $ltjvrQZk=
-_Q(Hs!2Qy-V3!5J1 -g@Gfct3#5a4/dO{8vvj:h+hAX#H4rANp`\lHzx^|	f>3~9pr3`x=,mfEEAk0`v\  CDzu0Ao.f^FAp{/>XgsO.$!1\y;qdsr8vG.7hi{
-"5 Z Sk-qgo}bnjBMa_>13BI7.0	 fM\|`"ZAz!w"# <?I fQr.@f+d@G|%6id5p&MF]@ hYPt|k]n=zZ%-@'|
-us|p<* {W D;/UA7Xm`FIJ7JAgNz!RH1#&y3BI}Z&01vFjnTt|ZWhfoB:4-0=C>1pW^0't b4qmgc} z$oha@ PM;F(`B^leS`[G?`d=jF!}N    0| `H    @W(  0 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ v   @t2  S	n    P `*    A_#<  L% 	   
-e  @ 6G(`q4F( ` A|E+H^ Wqv*m|M4
-hZ=
-F(`b,,,pFX1?
-F(& +HP
- "0V8mQ0
-F0k#5qr~Q@v;:@VY@DL4tm,BaanNNNnnnRc$BlQ0
-F{F"Q\1b3UoFQ0
-F$rx DTc2QD!~W-hFLL82;
-F(z&E,((Hok^^^>>>V"bFQ0
-F@#r`LN XQj0)ikB,4(**fbF$	F(`P28_0?))@Wi|?p0U?2v8
-F(\	pH3zc@{ Wc^ Yq8+`;O~! `Q@JeFWF:?$Q0
-@
-A]`	fQmD b_~bggF,8#w ioo?b	t0?CffE;4C`t(`P X]uA#cT.(az8:3
-FH@0M.\ Qb bw]fjoo_V#W#P!,S;6m5"sGFFFRRR'Nxx[8Ffp?0&6
-F(:*rLX3:hy;@=8
-W...6yyy&M%z^dFGvF(	L&6>3Z> V#G
-Nz6b`/.]P$Z [z`cZnGvv6m3`Ry+ZwrF`Q@^Vdh
-m  *g1Cnk``/)))SQQpgA!eP<86ZQ0<f`?Vg?n;6AFeff!+VH,..^dcP5@E7Xl8R Bi`C^fsV_wP[A>a~~~AdgtED6KQ0
-F( .@n08~x.^s5Az^"1bkeY3,#h=L_p>`x$tttgdd`8y$l0<CY@ $-6h`bmu=cWW	F,ltEbo,PLF,BG3DGG5<{Qv	P@1 >z!`c_~:XPP?F+p4
-F( bv kfa@78-DXoy}/^<>ss*V@`(#` 7%Xh0cA6?R7Rl Xc1+++#tuu`k7oK.=qzc[G tpssq`.I@CMMX%3\;bbbUTT,--_~XYnAr`Q0
-`8`v$1XGO (;?~fs.<|'$Q0
-@BBB\ll,@>}{T`?bE*l@#++fjj`ee
-4ZXEf#n
-rx4 Zy)0;aH~gFke666 g(,@{F(`B :m;\/?X01L# qy>z}8:3
-FH 9s0,[g.C*oVN/<A@ztXp)+))HJJ2hhh0hjj22 .P_x^:vFs_~yVVDDD\MM-20{z4: ts(` PX~lqu@/_3X><J]111qw`@i"?op<l GiH<2d,UTT,V	,_|qQgff6a &7TG(`P}D^\J ;`3gqo	^x=V01.y ibRagCk,?h/c!Xl0`?os0:IFvG+?x=fQ0
-6P1Kcy`?a`^~4G(Xn;gF)`  {WP |--n0[bZC7/K979A}x$DAxwg.2j:#$!V5:G-/6w* 0 h9!YDDbd7:6gcD[A_0I{e#DQmeY`:GZuK}Pgj#fv, !
-@	y>w) 0,Ww]`;A(1#69)|VXE0o$>HmtU1gn*a |S`;GA5"YBW b!{LxAGWb:w9 
- [ou*cj/vAc15!UIK D\&uqKkyJ>0*A]T5-[;t1wu^J| vSO?>v.K @iN.HHz7 SCK =32sSysI =A>0F,kO`")@j8bYPV3U?T`+HaQi0Bbo#9z4i/CV>k}A]m6s'EmwM
-PaUg|lApV\O9$`97c'm$(3S<Dw(<s+ 0m`s'!F*4N`V!0dbg?Q0_6J t ^vc16*Wz3b~I\@!c?>o1\u?CwI|G X|BZKPR"BwkSV0CME	ZfH!u}~y/,0]Tmc_`U aZ":x$*^Ch[XQ' <.vy?!;2ow1>]$Ig|p3^Ry<wU=tGl}6ll3 abI5;hUudQ"d$[-&o(	=CB[q4%ZZ4"y+z	# ?.6`j8D8.]eLE4F([A%~Lowi3U>C#{,6Ne~/V!yl_<#'014XFdmp5k6hc~Q0
-1vQyl::z`d6h#/{4 Boc3iu!O<6K`Q@z?y\ [NF(9890F=@ 	KW! nZ'O<#h!>
-F(g` <g`RXu`G(i33o _Qpn    IENDB`
\ No newline at end of file
+   IHDR    ;   PV   tIME1]   	pHYs    iTS   gAMA  a   IDATx]w}'s?f%mCx$ &}[D,1t		"4ixGjJh@!@ne M,UR*B D,P'~=y7xb2sg>s{G(                 x}Nc+ V1c?j9%Yw=CCC_O~r8==Y4;Z.3sDguMBgM]ZJ9wO|G6Q3sj`, c1Oe^a>J"mJ_^S[Jzc{W^y7GRImh!M.~ XN8@+'vxWBK;~z7zD;^]wK7l^fMHpud R-8|,f9V[a}'8{^=>#u.E1{m]jU}B\O{FG>n=RL-e?#I? T=c Rf}>Qmmg_4/F*?8T{uB"w`Y[nqEG>|;'|nOj|zhJu@0 (g7S*VHwo}[lEs8pq9	(;1fLz/~-o|_W^yH`]nX R81 (g7Uj+-9rM-f&hT<T4Wuh`)@:]iEwy{I? TR\fc"prW;Zm4{?ax.
+{R;8iCCC7W\qW^}{>};*f\rC? T"O-18s9|E,m>h^)fh*=3RU/;g6@X{{:a_q#e +|x2kAX`bWh`` .-D:$+9,UE[nO>mt`81/18RzV>888DZU~x(X<9@T8Y~Wnw955`80}IcpT9s+?uQG8D\%Z6m4uV`J8?d, |UP3V?;9KtG6rZs VX ,vOh
+e4Z-Z{v?egV^ VV@UE4l
+Z1bEV9ll`j1fy6W-~ X1 XD?Oo  NRuW  XJyVNE   XBy  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0  XI}ll655U2(QxhlM`ZE9"X:0y{zz6SN699Y;3_Z%Q7lp~6SxwttoLqj84>>{_f(bx_Wm?:Rh[z N7 j"w};ws=OUcCCCXmn?uttt|~xxM{1CW.=7ub$}zQL{,fZsZ33S ,Lq |P_nW+^OO}[/O;s#GTKa_+<K_G>;vKs!_o}e6-[q"@j#i,x X?o~Z}@uj[aP";7xi=h!>bVGvP{~9hvfixh6pTq 1cP;vz>%-.Hom#<3qYCo+_e)7"on}zE3^4Y|p?Z.^j}}}B|8fFfu7@j#`jekw~qr(^jU-[;"Gqf}i+1SA>]QR;Pj#EMk/O;,EWW`#K@Zg16G?( i5D^5DE8sz{oow_rNjOL)7|#;wO~3S q(1f"v|
+9ikkY4wTbeWl^:36hTWKq 8q(1 sy8o}UW0mc`Ua9|*>$W\E|LTA>Vo=vJb(/b^m}{d{xV`{?4swQ=_W"g5QD/|!f.DDij"6cN?Q9E<Z<u},#m7 M-5xDZ;{}coo#zsq^OT+fV4|jA~gFLy*~y+
+9|h9m7 M-X ,O0_;__g:'f+88Wu|b@;  'S#cG~>m||<u^}L OD(_9{:`t4v8+m#   ftE>3z~ajrrrV
+9]  30QWE3iSSS-x8!~T  djzP;653_7:b  `t*~9vN	jv/ "Ha> y  {  	  4y] L	  )a  2% @y  0   `i,
+z  S_nN;
+  M\33OLLl=  ,C=tv^4?tP*_OsXvi/|mF:Z=  l.[=cP	P?g?rmv~qtV~Ujy;  r355x<22R|;9R4'#oG (s9|V8p}ozzSs|Nk>  Qy'?I144T=|>^Y';;;t;M6E?=qW>=  0>>zcxdddn3gD=ps37bUS===~~QZ}Vf(P  ukSrcrrrk_c?xqqM8>]P3fXg#?S{>_?w}y,ZXbccc8{D7:	r,|?HTsFo;w}QK|)s^>22r~}g>si/z2e"z'Vk:Z/ImM{~]]]#R^#[Tq 1^c, c*[?r]}O?0ORNj/=E3?k}1>Xvm>n-[</PsvSa+mO_oooBv XC>^{7}#{WG	e(3-W|O:qUWV_~eq%Th9^djjf43-V:g13L`O~ryS[ZDOu8z|}mfezS43mt&6ov7^c}_F<eP^ rHm$3 P+[;M?sc&yJMiW\B+mgGoQS (RjRtno;67`Ij96f, w/ 6&2D;oV/EYqb~52E3GEnO.u3fdbfc rHmX U/^TDzh3D;1Mmu7/o9/iegql[r
+8@ZQ/x MuhYs9qNdyv>aRl|(\Q"jf> 6m\vmfCZwcK/t0flfY6^TuxLPz9^c, R*G6n8<xp|e!aB13Q"/y|.\ppWW\X<q!vL("]/~>Z\<Z( 9j5<@g{ hxqW]'q;}2?S":1,eJ XrZk:;;bxN:E<fz':kOuD(/@^Z 81{"<t    [<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0    S<  dJ L	  )a  2% @y  0  [:_ Sj0 FVS%'XGZ! RuBc?f0?555O?})sc9:::l'''WD? T XLmYg['bfUgksm|RrJ8bke0?44`,F7x^F\~~}UQo-~ X/18?Ug>~rrT0=N^d\f5=766+=I8Wn`js8;oLcX?gE'Coxzuo'7L/Z+~Om,S3\`jwoe=&'WgljuE~s}K.6}Xe];w>_Z7T4/-.+h4L^W~/oG|+Yn R9-@}#x+\?UYL{q`tt[H9>/HhJT.-G4b{vJseZ]]G +<D1,kn;=_W+_/NcOh@KgCzkunRGoPv=(,kYiJm1txcinPfj)?kFGGO{FaZ~1#YkslJHhfN'u9Ju9
+c0?Uf8dm|k^>_}&SC}K>`gykNKte'$Z6 R-pB8j'W1W46l9q%\kLl"f"21::zhxx?nO<D5|YNmWLP R-8,byV^3QuEnkX/1|h=EX. R-8P`~6da3icBhRtxVq/`q?OW{Bvrj10 XWCr+	a8'f#U,5XQqn@#-:p9J@Q[).q !F0cw8?5T_ V h?ZXYuG(,DASXuju| + hD..3Oz*\`Zq v,jY1L\ Rq VNT                      `Y$    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/pf-sel1.png mythtv-0.20-new/themes/default/pf-sel1.png
--- mythtv-0.20-old/themes/default/pf-sel1.png	2005-06-21 23:54:48.000000000 -0700
+++ mythtv-0.20-new/themes/default/pf-sel1.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,14 +1,7 @@
 PNG
 
-   IHDR   <   #   |i<   gAMA  7   tEXtSoftware Adobe ImageReadyqe<  bIDATx| !CyqAgT@-H3"aw5S {iyYu&=,HC	c aQf+b!XdcDKKJMFiR aqV,/@4>+%{d]`d$^@ =,"
-@#Hi5!gS0X/<cgdxRP
-!`d Fi(Q
-N~
-Ih1s,\?0#W0d50n2$"P7bgH^@E   4?&}VKxM(=q
-Y&$L	fGxMHaG	}H G.J1 h MH XXX>GNJst}pK\aFv b lTI  gq3*If>xAKPex`f*Jh]XU=?tQ 'XB?J
- 8Icu #RQ;$1Sr^=!
--[XFubDm@@ O	0B$32`?g[v`	1  U j&AVxxIg`rhP8I\[%y{lZ2`5%#c,1
-F(bUZ5q11 baeQ0"YQXhFEaD-1kj	WD  u` @0?tMBn $wFV/P7=X'aG9^e y3P/Iv B*5U##JV"Gro?R55UAo62y?Z^ TKp?Z]KkKi,uhAB2(X%!3 0h!c9?J#%vc%] (IR{@ -,JThIP6.P|1c>>
-@j	KF&D"XFQ98;@9"u5QB6 GGcG[_@tcfxu>@ :   hM3)?%|~rQ<0 Z,y_>2q 'RQ6;AK|c@on"@PGb=LGV^C0`m2qA \CcDq{
-?\@>PlG?z#xU#j	!]A8?JGo< 1Asl425Qry'Dx'mVV!$V"9*Pz< 2OTA1|dD);PoF-#jb?@ gJGMH		>FhU1_b@md!2e&U #@7y	%0b(d}OifFF'JBeNQ@ pV9a"
-K%*zY":V	?" pca5?\"Y 0 X a    IENDB`
\ No newline at end of file
+   IHDR   <   #   |i<   tIME W   	pHYs    iTS   gAMA  a  IDATxc`a@%X`| '@UW=,6>j b fh_~ 
+ nyy$Njd?@:{&Qi5
+hWStaC9f7%zX(^hR*v W q! PKPah7@,M/L.  &@|Ih4P=`lAQ( sI/M v}=0<,h ?tHa`D@  3A<VyT@`I(cZXr00h]>.,0yK}\v)@E$0; iC
+?+R}y2%m4AC
++4 zvD8  mqeG    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/pf-sel2.png mythtv-0.20-new/themes/default/pf-sel2.png
--- mythtv-0.20-old/themes/default/pf-sel2.png	2005-06-21 23:54:48.000000000 -0700
+++ mythtv-0.20-new/themes/default/pf-sel2.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,42 +1,3 @@
 PNG
 
-   IHDR     #   ru   gAMA  7   tEXtSoftware Adobe ImageReadyqe<  #RIDATxb?:fd`Q0b $BF3xz'
-H?vCiZ/[:n,m~(yDQ Hzv/g;D(x.XQ#LggI9;h<ekf/5/E\UT*k&mc_]W9D]u9`niHzzcoG-?b67;gJXEkj7	m)l:K# Up@#5\< O^l@HY5x -uHoNQ9r!8U;
-:f5>ov(;5"6D1C-w)JN7:7G?oi9QT~3va"<dR65%TfY`<x)+X&GEDqcm}H\15aI8.l;:"Pi!
-w$10t3SgR$N#)m|s7j&I.z4Omi5=~<stdAN-\NR	7rb7h;@#\0	_ zcQo((T{P&g9gs&@1]~6E_1'2W6}.,r<Zc2z_Z\zgYq]
-@90TcjH=#3$}GxHmkN;
-LtQ{l">rFL}<n!D@\OjN=(5bo6l]lF^aYCR(C)X%rZbw1c$}zY\_GK4aV4OSA#X;X\>[/ ;nxhaMTsuu/='{Ly>
-@$Q
-tB2t,bn#I9o%sL2my a {ihAV\svux_,1<fnOs&HTE,bJb!yiv!i_	k8  z
-aC,}r8oNbFle<e8!	`$g>DK{3`(#4%O :.leB(\H=eG*`%r=Y-"Uq2&%_6_"8Q..,CTou`0.X^C>eD
-y$HmD1(3F1f8XL3etHda~[c& UP/);:?
-=x*2]-] }rbq%C?)eRktFNr\E@Q w6[yoVTuNxiu } f KY*@tN+:(2nX-? DXM?pW?GPF{V+0B:Q`\7&L	y&;>W<P1jP{P>M`i}txr:?H\SPeK4Q3a h/R`Ls.&x<svBG>Z;&{iN4
-
-wj`ryr8Z$EHiq}(kV%	)LAp*S?ucN='y^8s>l^9Z|"u+ME
-uP<3(vxS<S}qn~Ijfi]p3XaL!	z^^LLR7#H^.Ja5!;oKQsz+WzM!$S}Wq<!_8t!IP8 B!8\<XAOqH3VT6zQ^25Gbsus~=cxD'tcK:p~gytzc'5UV	4A!#,uHKW m-YX,RkO@;B\9E\A#)8iUdl7HMr=$Deb?ph$4
-:0&H7xNcP_eBae<-n_{mqWh!BU{*hvC[ ITL-=TkYpoQc\9Vm3>@#)jDY6eTwfQ [0]A[UJC0*2T}f);W!:pmY{J^{#H&#fo :U	%n({aJK\]2)_|l79&*'pQ~6U>TS]cn[7~&`7	vT
-8}vQF%.9	?b*&E@S@YOv@2X0]^ |+a0 (%N 14=vJ-QCuI<{-..
-TAH|}cbT[s4uS0}_2PFBF)F {<`S
-G: aPN7w7oL9p &X^XG 'Ni^f)Hm,!5)$Pz y34]097D)FrTIN:T"lk' ! wNUn$7Z*0	,lf:?B]/c4H&iwz}&"!X2<eUmY0[{#{ I^!ZP8A%80(""[jV>qlSm'(U(16T7_3qcpU)}aS)ah	hECz+(dx{] |I0% KpsqvASIo:=93	1t E=v 6k(YPq*"Dp<Drw?71J3gFcFM	[31*x~s0u28J.Nj#|nQORDQ)+ka0hS<Y|/cK8O"wF ]<XrR8m+nNzj2t/N
-$104mKmk@OyFt3-si<nTae4|(vnhTiP, b:`cx8`7|wJ6+Ix*j+QA=qc4NBD15,R	*R~&8;_a
-K%|^voY-nE'qq-nDq7?R<pxt~3$w-z+  =dFm, !RI,=Lk[7q_@e6>;iv1r]QY
-'@>B;(Bo>ri[cOK'&[hOK_0:11&_~\O1zmBJgXbSLJ4hQ6 !~as:ANq!iurY :~|((I X#:*C~5Btv	*g%qz'jXX<|_oc!=V1:h/_1$X^eVY1bOH	V&tLo1XA7=$\T5}tdVczPmMLPJP|  AfG-lMsGm'IixMvI}@miI[	B&1Y6Xxs%m%h6y%7YtZtKLs%.W;#E;A0n0@kcbYf-J3u.zY1-=JSe5Q~0vF; Dma>MC"jcBT0_EcV*^X\jK]0j#2irB
-9xXt_	Ieu5dH8y,4/tiDqRsak2Wf96Ms[n|/%<FYf\ud`6lke)B:IG6)Jt Z,=T^R7@H00pZ>PcJ@{weOel5&~
-<0%,}\v8f
-]DiH@3	B2egjjM~d}Ke
-*"!W>CCn|(,eV?&!=*@B]9(1YUPt<PjC 5r),): (HTKQHe)X.VJ2^[LE&E{xi5uQbj!<0^C<' _gv!P#~ 6zA6mN"Bydc/7-ctMMeyI} aP*s-L7l[(&MA9;dBz!#jy7/r6I*\{M(V0y8g`~J8FaSx"hFS+z!mHk}Jf504` fu[Bq6oaj
-$Py~&%sIahsC%.u`l+66bc-I_zmx#tX'\`_M="9Edr-T$gB^ ]}gN|nfJ+|lD6
-k){(W:MLNum
--
-n5M[geHa?szs5D0]G<IG	O%js(RD,),$1}`KGOA%s2MTV#?/<m]C`)5Ks|99|7<>sq,]$9'5'snm
-RcIX .uP]atSt6
-g3bmi)FjeiEiM`w
-\Rd%DxjE' _g0@82 ^2q 80c^8jhiX\[(,WANF=\j,x.Be*vq.ir,v@e#PaslL&poO/.8>{_`g1?Vr34m;kski';ES'=',-{R7iG>sj,V%e %A8QB5@/ `_RBc[L/{;kHp^-#?#a$R^B5a>+(Gy$52+C_ =@P?tl&!9oF74FVom@(|>};+B 74S0UAUw3F5|/5qf 	^,}k#R{gMqb  )Dl}"UGCC X\Im(E"7sp;n6*c3	X$Tnh\X3,-G2}%/'+ItH8$L)S\P=g|0ccxW 8\T
-l#A
-Q.aWFMfot*|i3qv3.	2h8k2"0^	.AEy{SE|8Y |0CaM{9$XznB&) gJi\Y#jV,|C$b^CcRNtet@hHA JHnuM^D'G\ph386NgfMgeGQBP;61*ti5Le>Kbg]s3A\sRjujv816Z<	=z3<yw@0nJw4lT9;^ZfOS#'T:0&WD
-
- C|BcfarfTm_S\rE$%`=>$a(ghg3My3>C,K^{8E2![SJu6e/3HUq|~m$?WRUy%vNSflzL.gP-wECl|eoon$ aVY !IDa$Sq7!qim_B$DEF2s#R
-A~}2Y[t4zK#B~-zN*y?o`[Snkah}$LjK E~E#,_%W,$xigClE(ob|vbkC0(WJDZA#56Q9>,vK,uk_
-oTRw#eW@ke?;,A{]4|@Y	}_zj#lyAuwqTI}N>4YpRK00_^!bG]Wm}q6 *=RqCRDb2rU;FhZ\qF+B<e:291hC/m^f TC
-=a54,9MLn |qBACzHR*5%;_l|?zmAn:/Zme_C
-}*1FABbs0k-IC17Y92%Z1-CNL.$5s^n#"l,EoZNDf|>W!+(Kv|,.[8A*VL.:Ty|(veo@MY/+1gb=Bo3SYwDuO;cA WSND\20coo.~AX&@AjB-hB'Sd4hK&%DBQ,:#$hFpdJeM7"Cq 	E,du\=q*$+r$e,V(xs0gX %%Get"D\He_]T7ly2.t){ukKaBs:cCX9QDdaBr1z {mD!ntwE:2qw8=i@:j|f~y3o:oZ0rQ2vLCffJQfi`'wWhJcXngAlD~aUI,+/MC2y;F G7 oqw6VLph0v.90i 0 MUZ|xuL2Ebj,)f6QKD|ttOW4$#)i%2a0%UI$8.t@yygwO3W-!T+2` B Kdq*<2W"z?QF}$BT";x2v*@e` <Hw    IENDB`
\ No newline at end of file
+   IHDR     #   ru   tIME   	pHYs    iTS   gAMA  a  IDATxkqUJABu?!cKQji dQb'\;(88v)t%zO~$\xn']8c  eE%eeK$2 *$n 	-8} @5UKxf}Q-}T 4%ff^&07 $FW @2dVM t :u 3sNf{m  I%rGKWZA	I  fDfP+ lu@2m<E gu  u  u  &  )  v  ^h  (`&  )-3 Tb&  )  ?h L`WJ @_lmg24$q,.,W_v yx+_2M  &QJ~|s.(v ?VhUD%Y~007 tT/IbQ  :3}un9V! W%JYdG+:K^bD< w?u9WW gsC    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/pf-sel3.png mythtv-0.20-new/themes/default/pf-sel3.png
--- mythtv-0.20-old/themes/default/pf-sel3.png	2005-06-21 23:54:48.000000000 -0700
+++ mythtv-0.20-new/themes/default/pf-sel3.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,26 +1,6 @@
 PNG
 
-   IHDR     #   Q%   gAMA  7   tEXtSoftware Adobe ImageReadyqe<  :IDATxtS	0p_Zn6n}_j/k'9~)_iY83&nY1?rV1Z,=gMSsb'\5O~kq$3K:r)^4_>[gf&jBWUg_W9Ru7Lpd%3w$ bD/XgQ0
-F(@o. -AIWv&;	"{y|n<YQ-y-T,t$61a9]@EhvA4Jchx<6m_6h)X@O 8 oQol'(v5[p+ZC'b(\XmmJf8;n2Bah5p<"q$m'`/D2{v;DO=)fF`j.+LKl&}#vM C?<Tb|Kiay8_;cl.qG'^zZjN]dc*+
-BhAG[g. lIC1CW+tbI_"!?XfZ>np4k>=>u]Qo4;J]35B[Jcj	r0EN$$&EH}=PUStxC[KtVHw>V5 1:h@tN1+y^$kbU(T"V->fq^o# f0@8/+r(	Hn\*DD7z.8yAi{TwvgTwsC; m0eo  )Y=UK~-(b3SM0u_;InPB?.6	CXB3~wF">MC5(fwR'[ hAm)%I<k!!4&H!	+II,tI&F5reW1s}-Xb
-0	eg%L, Xzb&IkQq5<GD:wM[bsNBvTS3C3lqL.[<aP$~rlz	 0HfD,x0sCMw[LT#d:r1;IBH?J	?Z_74i|OFXjSTVlB3 |IPGtso?~k	Q<2R3Hba vz!0;08;l
-.-cv i$X}uu4L7Vpv*DYLc`5m jGRcx-P?<>[)Aa"xyi;{95$86<1
-7P'S]: Z[ $`o<~0fu!sW7thP-kGl]S^	gO$ji\mlV )&&	t4#Q3Hq*?UU0fa|cY/mhweT&](6A?ng{{jAC<bn@t=^b0nT0hKt
-8Ev39XkcRacvMM<fH.iFgp/YMcqsr=0*P?#GE-e<Yi:SY?!O<MH[MOA: [(fS^Ioz	@0^i48{B(Ql<E*V,A}T8g.BVDX.|_}bhWO*,Jq}lG.ogbmV*G\}\&UnF90RF0 mzAw7	 nD`l{H'lSK4R<wQ';S:Kk,e9& n&\pM),`(c)Kl>@TP(+K)v\Lf}|VeebdQL@D+SV\mol3Gba 9BMpp([hW_yYI+Xz0ohDuXgk;rT{ `zKY#_+iWMC*
-C^Vb ws8RxM}XHPI{Sx7U~tX4Au
-.WS}Rq_Z;Li`g8pkaoA!jw_4"Ffn y:=,Sw_Ev/SHxA{%)	%b8H=l*5<sR I&ui0),{_RGhx&R(nPG8xp#LfAqFY 3i&|2FVod:jn"@ZCq%-zqB_Mn0LvCaK>J
-Bp _T,9Z_*M>n"0y'^hJe#@uH@Hi>mM.Z:RE;H1-P/ZHs8M(H8g!_9An 8hX*Xf}oR\`TE	l'uCiPh+K1]t:a}T~6M~:s {KsKEUyrr
-z_W_';!Fx	@$.Liz3!9gE]|~a^+so0	$08K8!9FkWx'&1|P.*bmuDi='YqFW  w.sUXX4 \BeMn v)qf5cy212*Ee_|y!R.`r16 eBgDz4T)M]g&$Y \y~uJ=EkJPt?JJQ4lreG!=,L [0B9?:1Z@o*N"ML\H|G;LRi#j3f\2Rj5G'9Wla#4\9k$|>	)D^:('A-%E>_PO :`@:X:u01
-!X<T`hhjgVUOKBRN*hp'En$9
-rEW0 r,$"r40+zOc)Rev0O	X>3]hPE/|-WC|\Ulip>8OjYXB6pr4a= x>Cu,8agT,T=Dy:~h3@#fq<Vr0S 
-+4
-ds\QxU`+W?</5z4wd+@)
-6P}4XF A?LG3s+12oyy,7t,vAO1 h-}>0X(<M`sH75<Z{Ioqj|` aLs3`_zHo!IQA<@$'E62,xtnKtu=90zMraHwt+qvn3]+@3>@PB^2TK @Gv/~c~fe7HrM(StCPN #"ckbA#/KIP[)A4Lm9I(Ek?2<)lYo'l/TZKJKUh3g0@6AmEk;u",Y18a&?ePF2]!v"YYh4m[#:%%y*vE7h-jui'a:KC?tfKQ0(CjhcHM&$T$uzDKgsZwC
-`q3pe tK0Dw*KyKE.8)LR^B~&DaoO>+CKeV+Q#(8	M\H:P`N%qhL6gc-Gn4'H*Pp+C!\N%%0O^DYi1t~~pr.9  0!{o751;/x|[`haLx79t
-pgy`47RUi(Edi_&ytsah%-PAh/z
-n;?;TjTr@,8;u`~oT2orR%=Jt@|*4j%Qosgu;AkjeS+g!2CZ
-6jI19HJbZ
-~%O  B Cm~j5bw]a,?^xV Mz`M!6gCF|V\kvADd44eiND.BhVp')p9~er5g>cD+jjqOI)x#~^r6(4T^fLAz%if0lBMr",C<u.705gd^jv`O\v,+5,;'Bd6FJ'9PS<W%B(q0~<x1X3Em^D`;q3]0mJRP&[wfE(_~N';DbV	?/:'>0MOri	4JV$9S}^	_hY!vu| n aXxaXv($qlx#AQb"Vk	O%VU/	H'4+CIm0lY}4S&8
-3g$cq46S>ZM_Umv>g;"f&HqSF*W`mk){jwIw15e?% _W1^c('A\D8RQ2J6<Nx8kM6o_(rBOq8d2X]*?1H*Tp(ur\|]$C/5@j7}	6 B-S bkyMQ0
-F-(U(@ 1R0
-F(*  @,h	( 8&M  bv    IENDB`
\ No newline at end of file
+   IHDR     #   Q%   tIME +g   	pHYs    iTS   gAMA  a  JIDATxK[QhJvcX:XP2RqE']:8BO4T}z5
+w~p	'  ]r)KDZ")N'qi+TjaY'/1 B h(g;|t/fe9w!1~}ig Vr_}O*
+K<
+Ze>&Wrarbf*[-3wIOueXkX:-?w H7,$N^]onU)3aa)IL 8#uUR; v by pj!X D~*i!aa(j!t, "oX D@ Xj'c3mz~7nySA r"]QX 3*jNsZe.*2!Xg7'Zs3^x < <:\bMdD_bnJf.o&{ffJK? 5;Pv5e    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/rk-lines.png mythtv-0.20-new/themes/default/rk-lines.png
--- mythtv-0.20-old/themes/default/rk-lines.png	2005-06-21 20:12:51.000000000 -0700
+++ mythtv-0.20-new/themes/default/rk-lines.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,7 +1,7 @@
 PNG
 
-   IHDR     w   ]d/   bKGD      	pHYs    ~   tIME7%Xn  IDATxO}	8 "I Rr%-JV"RA*5Rr
-RD+hU
-UH	p0fzwvzyvy]o#w>_y{    2'^{3  `_QWh<  WA0y7E^#H  `4ylsS]jlE>@?  `Xx<sszj="6c`<b{L^}k@7g9sz.Q  K/m1Y%!r12qj,"??~gZe  8|p=z4n8zk8rGD?9z]~6=:UknRsssR|_B:u  ~rM7?g>x3/<vwEcNEz1@&ceeo77'N963zP  Gg?>~K//wGy:m6Dvz/"f~~Gz*""N81<k~	  '~gffxW{n!|8}t>|OXYY9=n }|_^wKDO<QcH  <3_'>N;w.x{|w^ )Pv2t_D8~xDD8q7b:@N  m~8uT8p ?g'"a|c1l4VDc='N8K+BSL>  `<VW333sss[o:Q*XDN@A<seQ4in  hcz??~?fffGrz~W1^j1b<	C  @=[o5<JF*"(WDdk@Nad,)XK1>=L\  YK3#"CPniuUIG}?A;z5 c6"bqq1:12(^#u  Hv5S7|&>ByyULN>J|{{G?u6Bq5DdW]_~   _;(A[Q\O@}qa" ah,W/6]  i~}zWZA]~ t|_~  :>b|e0:|/S2t(gE5*vMvVIH9  >nR5cAE:S	H{1J)S]WGk1	 <]8"cx\?-@uttiNUrjrS  `om|<O;^vmi7"Llf;q>&d#\  A>kirwh% =b>SpylOZa| )a  {vQ;ok_7-aU   {.HU	H9Zs~,1#e[	H  7~[yS~wVf3 %>{i+N-;hfLFH}~z=a  {>j&w):}o iKUHc}B  `oPuOv
-2m0jG/  c' :O]  ?Nn1mR{7  +{u%.&@q#A  \ND  \n   \4     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @     @   YZZz  z%#G.  ]Rr-.?  +eo_G  %cUH$  ,O:ebd06gmcD  6q>~R^?\.j:_~;hWyS   c`pO?+gXn'J_o>zhG1u  B9f/<GD+q	QDL=z}_?~c0FDD|#dvjk  Wd."f_W>}'1)utOl /}Kvz^wxo{ddE|D,DFLN>fF}A   G	zx#"bcc/~~}FTAdP>x|;uw<sc_/   x8w~_C>KOU/X"h[~7??rKu]q]wGD  `?8~x<?{7G?1 g<E;VDm+8qb@daaG>:@zqM7w[o.cfn1  S?i|{>sg~S_1c2@~'v	b4:"9nnz  ~o<yc8Xa+>1c8' oxR~_m<;;|7k-..> 9'OzWbo0:pQL@.RVZ YkFG_ps!FSmj/N  io Xh[Z`1e[~#r1~;\vmV/[/[  7L6h:@18$);\L?  `Sv0_m1xYinrz[>0i);vZC(uE  mtMBJxQ.4[!4dN*;+;*Q/5q  <iWutu<#db  u|zuh^((  )H"iWev[	 L@uoo  N=v.[tc=5kZt~  +>3%rz/Vz"  [&	G fvzc>)NdB  #"]2 nTWkXWw>  CyjoX^w~uQ`	GQz~L  E0U=5
-	H1N_"]7,1 +C{NA{i1N`OR85rL"  z: JPun6B{~cw~  7 &N@?.[~|zQ/Mi/  `oltcZttGDDo0vzuv  NDiHl:iHYzDwl  Beult]1mqR[w]+  rtM0mtH6F +O4dgvu  O\i^9    IENDB`
\ No newline at end of file
+   IHDR     w   ]d/   tIME
+&T   	pHYs    d_   gAMA  a  rIDATx]u~Lj6>
+[EEZn-%EE[7>@+ R%u]WV0uMtl75N&L~9</s<      \n:  rz_/^X~vMNg  `jNsU )qk/tB  octUDxo  n;rLNN~<=Ut3*PRW=2WO8p~K59sHk3  Eh5c7x2_~nuc;vx]/~<)3C8B%$&2W%2N}mg\Sfxa~7  pa_~^-G[n*O9WDV!xff[o>tcza2,,5+}s  @D0u^{otMo5Bn#B %>>=811M?F5M?8o  \05@G=/7dyfVE#d(zD9}<S>>d>m25BjU  Wmw'|/FFFm?.O5uOPKHi_7l7p'MJ,  z^-5[ncw#zkk.zt:NygkV>j|lK1zvS  KXw%@vUGywJC/R%W@J|\d\1>>F]a	!@  Yt<rmmzw6oOk,;@Z=?fggk`\	a1=uPUK"  w{S%@nlvH3D,.zs~nlR  TPW8IY5>6KgO=^z   .gJ0P_]PCdYb^nJip{v  ~ U	>mcUW@>3xi  .gVBCG\2]4  .cN78C >H] ?sqI    C   b6  /     F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1  8ay2>>B  eKH|3  2gG{;%M?  wfp?==}YX5C^zZ2@?w{k?8Zflp!  pzzO?bQ B7l}|w~w\W)3>8-   t}M1 B
+esOYy]  .%>&{W^_;F2sB\{{-[~W-e|}!  p	;yn{=?z=e~eoVE`9XW7s/<n{7fyZ7o%T+h  gsS###-[~kjju3m 	QW7{v6\~qzzt)O311qfllWy  e~|Lz_^[ 0SGe>.st3*HU26m_n[a  *v|{u{=GH1?_vC~[ozzzU7   ys{uEM?>jd2u-0Q2dkz_mu6m/K\  Cw?Qp+`QCGM$ !RdzV{Sv  \O]|d?mcsa7q\}Mx  =h15CG{vi?z6z   aQ7Wva+ND^'Yz)
+  8-st:58iw^W:o,:#  =xZ@XF|  |>6V-<Z_D$  @)                                                 .k1fxk}    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/solid-container.png mythtv-0.20-new/themes/default/solid-container.png
--- mythtv-0.20-old/themes/default/solid-container.png	2005-06-21 23:54:48.000000000 -0700
+++ mythtv-0.20-new/themes/default/solid-container.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,32 +1,3 @@
 PNG
 
-   IHDR     (   Q`   gAMA  7   tEXtSoftware Adobe ImageReadyqe<  IDATxb?(`Q@*   `Q@ 
-dQ0
-FY  XT@ @=t`Q0lW >x6!F@ 11 O|_9Q0
-F(:ADDATT]C N} B=b?3;v,}hQ0
-F_6V$z$Q@	> 7A/_l`g!	q;^zO@ 1by7o=`Q0<{-w/_^|gG pIq8s;
-F(())Ex*h_J$
-Y.\pQ0
-F(2`;. q(hQ0
-F xxx888K-@ bO`Q0 *R@z b^xQ0
-F\\\ J<@ @X@&`Q0
-F& a19y 5ZQ0
-FxgQ0
-F( _] @x+sF(`P &|G(`
-_] @Q0
-F(  gQ0
-Fh  d11`Q0r@ @@999GChQ0
-FjH 
-|c(`	@+~S pU FCpQ0
-F( W
-DHKK(`P?%@*K e?GqQ0
-F auxWR@*pXX.@`Q0}\|q) \N<(`8p?oK@ a@>|o3iA:
-F(d1hWp. kxh8Q0
-F@| U/g8~C`o>s  orfff^*$$$.%% ""2`Q0LuV.|rZ|yW/VY#   .. ,,>z(`Mw7o;p/^<J%+}
-d|_&&&`
-<@[G(` *9x^~} ;c@ 1;
-F( 1n` @D?-]%%%(`S   Q0
-F(  (` @ V `Q0
- 4ZQ0
-F(  h2
-F(, ` Hn    IENDB`
\ No newline at end of file
+   IHDR     (   Q`   tIME6k<   	pHYs    iTS   gAMA  a  AIDATxJAx`62eXi} [K!poFLaq)l 	 \arDcdkLU   ~d7QmGHfQ`N#Hn ;1Emu.# F|4\1<n'XQ:c;3AXX:kq	nk'v?w~W V:k^>}MG]K7JW] ZqU5o& PD  O,,,,,,,,,,}QPD?+@Ft V:jIOF7xqa=ZIG\:`tC ,_G8wDvg^A N=Z\3NgQ[9p\i -m~0t]Gu}3HQ`N#<nUv5u y*Ee          s8u    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/solid-showings.png mythtv-0.20-new/themes/default/solid-showings.png
--- mythtv-0.20-old/themes/default/solid-showings.png	2005-06-21 23:54:48.000000000 -0700
+++ mythtv-0.20-new/themes/default/solid-showings.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,46 +1,7 @@
 PNG
 
-   IHDR     1   e   gAMA  7   tEXtSoftware Adobe ImageReadyqe<   IDATx1   z  ' ;tL  0(u$0  K_    g,  `      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $ bQ0
-gQ0
-F(	0`  0ARz
-G)|me[I4Y	  Yc `5)"C	a  p]D(3UUs|:(LLs#4i-\G ?|k  "bL]zafGUn[ ` (q<`
-YM2!3'`p/>J2   WErbdwef~( A@D{`l` Y\p,> >  /LUfF{V=;6 (jp)+qk!	2w'>  7"bI:DHw[f^`m  a #e4 o&@G   tIa;D-# ;wL @02C ,*J/&@;   _u^$k[ 5
-F o(`Q0
-5PTTYj.@ v@F( >z(`Q0
-5f` 4` h@Q0
-F(`P8U( @	N(`Q0
-F`|||T5 F; ` `ccQ0
-F(`n& ~    H@  M_    g,  `      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $ 1  'cG	|xR  9c  a-O&0  s_    g,  ` 1  0 $B   1  0{9A~5 p  xg%`A8UX*6
-F(?``Q0
-F DnD63022(Pk3g0l2
-F(` H	71'L`);wdhQ0
-F(`Q0
-p 	  gX Y7@$J   1  0NBN	|$9m  xv`  Rg u)Dr$   c"  bVj=:'Xmj:8  
-  0+>T},NmjN  <c"  b=:'`z@Ib1  miq`Q0
-F(` k4 0?A(DXX5@Kb     1L8t2$  o+ ;th  0,At6r  x[c  a;*?Qv< Ib  
-~ 0coHd*   A	   	   1   dE.   /	~    H@  M_    g,  `      Y*  $      Y*  $      Y*  $      Y*  $ 1  a	|R   1  0W;H5 b  `	  `iXD  f' uL    L-Nz'xH  0;c  a/n;k@*  	 b; A;;;(`Q0
-F( @v@ZZZ6
-F(`Q0
-F(  `  YtDw io'Y3  C @ TtOdwZ3cB  /G v`  ahiPpEA3- lU_D3wUa#   + {vL 10*@* HJ- Fc{WUHz9'   @,*^/2hjj2XZZiX'dt6dQ0
-F(`Q )ySw@f-k.333WWWCCCQ0
-e`ffQ0
-F(`D b>,E@ldc%%%VVP w/hdQ0
-F(;
-ogfoU- B&K #X@c 	+3XXX00222?h Q0
-F(`D b!W#}-Q0
-gU7n(`Q0
-F    4SWDQ0
-F(`4 @Q0
-A(`Q0
-F   0$R'R(;bgJmk @3 `N#((8`Q0
-F(q   uL  0J :    o=]e   `    [bWY$   &c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I 4` h Q0
-F(`fff@Q0
-(`Q0
-=`ccy 4`h Q0
-F(`j hd0
-F(`AKU h2
-F Q0
-F(`;@Q0
-|h(Q0
-F(`xT5  uL 0Oxd? x7<$i0!  h;O+F; `0PPPQ0
-F(`J0a?PL   C?HV4`O&e %>Q  H*LCbt @0.x3\r6ZfB  c*>` A(#]@Kla@%UuLTD  nx A Ay	8 *"4n?S:Dov"""_e&"=; a JUP`X[d/=JO|$B<afPU.13@w=^>^K   KE,.M @W>`    [bWY$   &c   AU ix M_    g,  `      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $  RH    IENDB`
\ No newline at end of file
+   IHDR     1   e   tIME    	pHYs    iTS   gAMA  a  
+lIDATxO}F\WhBr((xP*U^%,xR@.)=%lIhj}}3tagwf>?g/n|gay                    ck pOs5<z' X]I"qx%: 6n\BU^ *>3u} U8Ysy"KVSeZ[ l5/|<uNrg8'iD#Sqw 6W`K;wZ 0"F;;Sqo i;0  5yM ;/p>  YYesn<  R!@ j ~<ou#lYO:z \Yz |E   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @E~Gpl  oG
+
+'vSo   > uXo  r x?;5Mu7Z  r  -1:&  `uV k>^!  90@K  iG@.M}  k 9;^  X_3nu]  k |V  5  z;L   ,D   1     @   b  #@       F   1     @   b 'Z/  yxVe 6O}  k xj~za  ~g  V2/G@{n  z]~V__I 3Wt]:>^  8*:?k~]  tGXdBn7yWZ/ p?C[K>o9y+e/yj  C`|M5j}`u `c)@&}u1P& Fmx  &@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@    hd  YgZ/ p32/T@'{}h ~<:<1~e^ ^ >#_
+Vz Y4j>WnXPo :?:Wi95;pn  Gk<QsNyN v3s~t%\yn fk>Vu]l|;[kq  Va3[{o;1|d]}+ >Z@} t0|Mo[j<  ,^                                                             L?    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/solid-titles.png mythtv-0.20-new/themes/default/solid-titles.png
--- mythtv-0.20-old/themes/default/solid-titles.png	2005-06-21 23:54:48.000000000 -0700
+++ mythtv-0.20-new/themes/default/solid-titles.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,23 +1,4 @@
 PNG
 
-   IHDR     1   e   gAMA  7   tEXtSoftware Adobe ImageReadyqe<  lIDATx1   z  ' ;tL  0(u$0  K_    g,  `      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $ b {YCXb`pl!1
-F(` C4 0E/t T=.OIf6+3UU23  6 H	71's-y1:uj4&F(`Q0
-F(   ;vP AkOH0be GwT  >`dG;`Q0
-F(`0 @6b	,8`Q0
-F(` 1~GrrhcQ0
-F(` k5 0P4fqm&  p:&   a&x  r@HW^(`Q0
-F(# =: p(`Q0
-F(` 1  1b@$Q  [c  a?3BHi6  <^:!`Q0
-F(` o    	^  $ 1   dE.   /	~    H@  M_    g,  `      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $ 1  bO	|H6  ;c  a*ou.4Tj :&  a6bO	|H6  ;c  avp.4Tj @fhQ0
-F(`Q0r@ c)A>
-F(`Q0
-F D	Q0
-F(`Q0
-F(  w@phQ0
-F(`Q0B@ M/^|p]dP<
-F(`Q0
-F(A  	aY@{HHH0X[[3a4F(`Q0
-F(   uL @*-H%\{2 WUYf&!)   s: o-G-"# ))9`D3:uQ0
-F(`8 @t 1LLPPA\\4;@owQ@K{0~.o(`Q0
-F  h;!	8;#`0`Q0
-FH c   Aul0   $ 1   dE.   /	~    H@  M_    g,  `      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $  "r:    IENDB`
\ No newline at end of file
+   IHDR     1   e   tIME+/"y   	pHYs    iTS   gAMA  a  FIDATxg3BP	h>E,Xoi!e;[KH]K2&,*0>|o,=                                                                       ezw<poey:{ Gx<1/N  *i1}   /|Zx7w  dq4{'  g>g  gvu5{  q  lD/gw?  8=qk>  \\?5b . 7z  ]:@n9B       @G     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @F     d     @
+/  ~~7B . u]oX  `Koyo/  8u]~v>  x~q5{  Ft<aaN  mw>|:g  gy7w  Kb3 oN?>X  jilgBj1wf0 `i m;c"ph                                                                                                              7"o?    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/trans-container.png mythtv-0.20-new/themes/default/trans-container.png
--- mythtv-0.20-old/themes/default/trans-container.png	2005-06-21 23:54:48.000000000 -0700
+++ mythtv-0.20-new/themes/default/trans-container.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,39 +1,12 @@
 PNG
 
-   IHDR     (   Q`   gAMA  7   tEXtSoftware Adobe ImageReadyqe<  	IDATxb?(`Q@*   `Q@ 
-dQ0
-FY  X9XiLLL@1s(`Xqttpi F9l?TW >}2Q0
-FrADDATTEYx,ee@hE[E@x+; -ZdaK|6 fb&`
-
-
-z726(^ 
-lll[L/^0li}zzz)
-q`)6!s=x@,L[j3*W^1_VVVV-/@Xx5`Q0$x$)  ,,,888@SR<<<_|T{" m:IEEE@qa b> b@c@F(`>`u7o>MYA@@ W@X{  .0;7@>T3	hx`!@meeUL@fg}h [ b:tfLA_b(`
-4	*}UdfPhhi U  KwTTT+qCk&&o@	#H`Q0
-f:?AK}yxx CX'@z ,
-n#TW  3B:Q0
-F(C0B+(pCPKM@A5Ti|>2_Q0
-F(|6 xh u&8 D<|?,<F(`hhx U0yfh} 1@= fV0 UG+Q0
-F(6?hg'??.hb l#Re\5ZyQ0
-FDprr@`W  aiD*cQ0
-q%V  Q0
-F(#Ra o2zT(`a Y011(`Fm4F(`P'm 
-thQ0
-FX)@*.9(`Q0
-F&B 8FCpQ0
-F(o0Xy@X+oaaaIII=}Q0
-!d@G1<|ZL kc09sXjaG+Q0
-F(~q-'4h7nVy0@ W ];w<Syag(`T:p +Wy:T?: lZgDFFO>mzA3n6aZ`Q0
-o&E{epW^V GZ
- V}'/v_z_%< TQ0
-F~2bbb
-b*38qw {$iCu#q%b ,bQ0
-F( u+>}t0@-@zO%z% a.xA$$$+iqqqaaa~~~FC`Q0
-;7o=s19sXqz*@_3@n@233WXY;;;{"z|||
- <F`@>lo|=W~x\~? |V
-TH~zXz!@,A|J,*WQ0
-F;@e;hhXpAO>@u 6Z)*	'
-4\P6(``*Y8~C+wJ3^]i @&0@]f`W	*<X5>F(`hBS}@@@{$= d vb6~Ak P-0wQ0
-C\z?=OJ w WTy|F@`G+Q0
-F( 	|?F $:zh@;b7:z2ZQ0
-F8#U /$ Da@`)"GF(`T$vc  JewR\q    IENDB`
\ No newline at end of file
+   IHDR     (   Q`   tIME;at   	pHYs    iTS   gAMA  a  IDATxmlTU;cgNKK5B#lAK4YJM|!
+CHQ	k $D,GZjKm;t{fn t<9{9QB;B!N-t,L>oFQ0JQ@!|DX,;s<N)G<t;h/[-B	!9DH?{{!n$B2x<-D(WOcBHqP( }.z[[r;*rI*)d2Y~h\qoYW[~yY<*S#BB9uuu---]4XNzgrndyI+xK,9+H+G<Lk!2cl())E"?#'Ndt]Nd@"*9R^(x9rdmss'Qt#viB!p#dm[,XhQSooo|'dH>/f\?i_2c#*ko!:@@Q*;~[pO-=%3KuGgPe~@aM6tR}@#F&y@yi/=yAiVN
+ 7NnA`Bo.`,9s5kme}:f`b[rV[A 8 =5a^ R|@@ S\!J_5s/c*=5x!3z=AD9x`o _]]h@MwN_EQ %nxTvA!x2a}n(g.+ DB<LC\,NBuB\Ca0)q!	;{w^B!dnaii1c(G;|y:TV<!]2\!KW3IB63*:8YN!0\1n9+B-( BnG
+B)0A@4	!1Z" ***3Tv!9L__|0u4E$CkfhM*B	}yI9D*$CJFQ%FJ<ZBotAPyI&g%*t	Bzsppc\<c*{U#B!sW@I]|_*;{07OXpI`]zKP%QeMXBDoiK_2{whh
+
+/Xyu_%JX5D='B)Rd`lF
+c7eo()Vga*l |}Ne``;;UDB]BHVUUUO|u
+[9b%N"D	s"5hrmll|_W-p[B}zFGnjjjHtZd` p5	Lg|dv!dUlU"B	!9RpWW6|v9
+	B@B0aHO@}-+jkkp\HN_B!n.pe*{l-%"R'JS_yu3Cx-!~UF38*>0)eN{%C !D`U%v9-B*+}-,lcp"ZD2TB)tc=Dsr[8 3u=,&
+>	!5Jqgv|+vZHnxKP<!xqsZPYNO[Uz	!.#f 8A!di7Y2"    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/trans-showings.png mythtv-0.20-new/themes/default/trans-showings.png
--- mythtv-0.20-old/themes/default/trans-showings.png	2005-06-21 23:54:48.000000000 -0700
+++ mythtv-0.20-new/themes/default/trans-showings.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,144 +1,14 @@
 PNG
 
-   IHDR     1   e   gAMA  7   tEXtSoftware Adobe ImageReadyqe<  4IDATx1 @ZCN \Q5  l8dnrvhQ@#5$tfF(`Q0
-( w6I.O 4Z(`Q0
-h!?$>6y ! 0A!U;~]e#M  !<N3e#R<!!F; `x:$cQ0
-F(`P	";":%x;! c `#k6Ir%@Q&BD  GK|mmL"  P'VpQ(toOFX "D$#B(>~7eFo6 0Di`wOu^
-V^+*#>"s>!I~+[dtLG!>a	(|0axB0(`Q0
-M
-f:X'batB htTuw@\11r"u<K(32011(`Q0
-	qdxFAid1K9;v!@ v@F(nlxN;w(`Q0
-hlll\]]X:!nh_h&#(|0| w<A	4<y&tt~Q(`Q0
-F,dc`a u>} ++DD wBA- ;Ca2M0+O3X^ TUU
-
-WKo
-!HB|xxTOH<
-B!y%2Z5-#cz(lN<wF7!g$  Q@M,H@e>X#o+cQ0
-F(`j_)a1{'O@5:y&}vu@ hQ0
-h0O-"w>bc!w>pvv@F(`Q@.Y|yvEETh)?~	auL_h;/,(Y@x[}?7v@F(`Q@J;b({Y;::r3_~exm w>`X43Z'k[ F; `&c#Oi_4~:l+R>M(`Q0
-Fv
-}u n>|x"d3y1!k F; `#m8})w>G`Q0
-F)m\$wDmnnn_hG&f(  F; `P/S0c,;;;rAoQNQ0
-F(`i0`iTQZZA@@ATT&Abc0ai+ c @
-D712)MaD7aB"uMV_  X9iMS[ v@F(m-sg@@	N"wBF`Q0
-F(6
-=
-mOQ|||N@ [CANXe+.!YD@ lEXUx>iW|KH   \z(xo%H8w&   +J`n
-n#R>r|  &3Jl-v;3B 9
- 08UR	$Elx !QGj$,   xST7x69\DrZ(>;!aQ0
-F(6	b4Mq0+d @Q0
-h	uB!u@Fg?F(`Q@lS;j[W'N@ v SV>M)|
-D&#=@  ^#$7.$OJ	(Y` !"/2.atdQ0
-F(Sg>1yckP6(a:P`Q0
-Fh	Gu  4\h4r]|Q0
-F(` @#-@Lq0
-Fu>d827`Q0
-F(mI$=@Q0
-_@`Q0
-F(v 1   0QAhE&@  aR%:    o=]e   `    [bWY$   &c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I B3Gu0{&$q1
-F(`Q  DnF(	PAQ0
-F(` @v@1t0`(f	-vG(`Q0b @ j,1g@Xg)G(`Q0
-;  ";	d`(! 6a6hcA?`Q0
-FH Bb	K]hhjRF@2|3_F(`Q0@ |p01Q0
-#@Hv(gEs>Q0
-F(`a GcI>L'0cwhcjbfe<tfQ0
-F(` b!~~C::2
-FJ)? /=c`?zQ0
-F(`H bb#0v,%oDoB_v-;tBFg<F(`Q0 @ 0`Yeee#2`gX``Q0
-F(v  `EY;::4yyyu`gd4tG(_39sa-_G>2)`Q0
-F }9r~KRaL2a_~Q0
-Hhl(`Q0
-,  +wPVVi^h|)0 ( /)___gQ0
-F( -[#w>?~|1@<vhCj7G[G ?PFxQ0
-F(` @,Gb~HIIq:;;4EEE1x`!@Q0; X:g<~C$R[gdQ0
-F(` B6:sLI^X#r(L=r}7G7C :m&(`Q0
-F y	|D__[nu>`'c`ka;g2
-3`g!u@@;}Rc4Q0
-F(`H B	]DD x50}7;c@^v$Q0R: hyul	z'})F(`Q0
-$  ". )>z(L+&]e$0>2Gu@;Q0
-F(`y ;F 0,OBDXX{wpxXx	=`-[qDU*sR} 1|KPA<NK  Y] 50XYYa\KR'3
-Fjg?NQ0
-F(` @Ka0`ccC oE|b@EP;:2
-FJ'?:,_~h`Q0
-F c @	1uKSmU?f-0PYK_]:  - {wp A{UDvzcI#.Dd[Q<!%@M'X B^]{  KB4MamP #OctcQ0
-F( %X2biL12~ @A_5#3mIZ`Q0
-F(C S72@`$t8pO1wF(`Q0@ 	;!'`;`v@w.Q0
-F(`y @,X:nrf`\.vrdt('`Q0
-F(V  X(h@GP:>F(Q0
-F(`0 @,dC^*qhckQ0
-F(` sF  0jl%F:L  x.C6    @zjs+  @30&FuY.5`Q0
-F(`L @$u2cp0C;#bCXggt(`t(`Q0
-F  : X:8?<Lhkv6F;'`Q0
-F(  X4tpn722B@p '_`$w8Hp>
-F(`a 21113?~a"Z'`e@`335
-F; :Q0
-F(` @,D4[5`	,lvq rqq!Q0
-FJ=E#2gF(`Q0d@ `i7?~yBBB)l/N(~I'R>bd<a4Q0
-F(` baaEHu&%%@Obd>>{G`?3#FHx hYQ0
-F(`a @,8E(SEXXXxyy;	ab>lol?Q02;hHh/bfd4Q0
-F(` Z/_~^zy@]]]&&&addLa>0d9C>	a@g@ 9:2
-F(`!	 K?+V455,--422bdG32
-u> Ov<F(`Q0@ !t@xMoBBBN]\]]AA:
-FqYB&Z-Q0
-F(` ba$[?/]QLLjww ` "":`` Q<Gv:(`Q0
-  %X_AT^zEEEc!!!s`'Cr@Q0
-@TT\Tt''AWLH7#2:2
-F(`! s9ra'Z1;KG%150bV3g,z*7`\}dQ0
-F(`H  Bu8uV>f:`Bkv@FH|0ah t`v:hcQ0
-F(C Rc,7byzc?ttyl2G;!`8w>t0 0lyhQ0
-F(C
- ; (lAjY0O	Am8)SSS0},?(74_AW F(`Q0
-  X/h._3zcMhcgQgFJ(3@
-
-0~`t0ujF(`Q0
-$  = t@;qG( yGwANZv<F(`Q0, @ a~3( a 7
-yVv`6}:i#2
-F(`! S 4XAo410y +iVL>1z(`Q0
-$   Ak6.@r63 -b!b`Igt|$/r
-BW06F06rFFbygQ0
-F( F,F\g-mD}V`wtG(`Q0
-  = 
-(IP> -Kdc?r:!tdF(`Q0
-  %XI7#Eh( G	OK~`Q0
-F(V  Xp4z^1"u<P/-dBj`15F;`u@7#waK7l(`Q0
-%  'wD;0g:-`XfEKF;`Q0
-F(  X0uBqt09:
-Fp6hdQ0
-F(# mGn1
-F`D3!u6o`Q0
-F( H(C8hh`Q0
-F B3GT`$A`Q0
-F(# `i   %/.v   xI c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I c   AU	  I C"   bG@ o1 p . Q02;#Z&gD`Q0
-F(f&B2  p#NhgdQ0
-F(Gx =@Q0
-gbFlRQ0
-F(`|mx;dwB c(  !+xf
-Bv3Y8%2w<y  nkUqhdez( @yaG;`Q0
-F( =+4k8I Q@=@l.r`v2Xl&(`Q0
-F#Z;Y0:X@D h2
-F XF`DG Q0
-F(``dY	C6} 46?1#'((av*XF|A`Q0
-FwB! h2
-Fm;!x;E6r1:2
-F(`R: 3 ,H(0_f8z(8:D`Q  A 9<
-A 8bID|K    ; 1@bxPUcom	(`x"uuugs5#c/&xg?F; `Q0
-F(U-[pq\mdG'[ F/2z}4: P[j\fv?P(`Q0
-( oDu>V"kXn)S!KCW Ab?'T-n , Q@LDd.//_`gg<`Q0
-F(pw^G	bpt|E|C `M B n C>.&IT<dIrR13*d&TfwpDDD"m9Wnw( 08yO,[8IP+A>HB2T'cDV@!MKs#Z/Pk}r=ZJ3 Ws Q@lM%RM_N `Q0
-F`H}XG[~[  {g "x7{C '@rvd>i#yKk*m   5o5'mvCty@fY K  HH6z `D	s7
-F(`N#Z6_~H>m Q@?Xff>O(`Q0
-m0#2 6a y ?t@`mh 
-  8Jj)P+hh&U6J: o($   ^$!ki.G'mVo6 0;`O	i-J @ G4	MS   ,<c;@		- ;w Qt%**J	/xp]j0 "    "f n26E{nW1u; @fq]$lBq mAL$vHc=7 .|   T3>tuI,46FN,0 ~ w@`@Q0
-F(`	6Fm `m AoFS@N,% G68HJ#^g   LQTp}H-F; `36;hN(`Q0
-hn}&/Zy9W0 @Q0
-G@1`Q0
-F@t@4C?
-A hduB373R/Q0
-F(`beW hduB2,L8hlN(`Q0
-fG@J h13
-Fmpt0`Q0
-F(WG0\3#:x;C k8  ?
-8Ef$MpB. (1> h3
-FuDr07
-F(`Q@%TfGxw@ _F   4#qdf$ \h@J 4	}G(`Q0
-^! `i    -&  V F()    IENDB`
\ No newline at end of file
+   IHDR     1   e   tIME,Z   	pHYs    iTS   gAMA  a  =IDATxm\y;3_I&ima-E 0J\U>@RBV
+*Tm (!/(
+Hd*4`)	RJ6E1D*4]3y'd_>~3;^u9                  8 C3D[vh\jUzkhll N48{FFF;g>XQ8A,oSj R9w>Vn1AD >JtR%t:?1h4tB l6[84uoi{zy4+eGdl6nn{Kwxny'|CmE7}goZlYnHGxTG2D7C }Pu>w/^!ehMc 3.\e}{t:xtB:*
+!dVx.<7pT+r9V1Y_q8% yQUv)t!#[w={^J?{9UW"T'D R'n|;]zNWec(t<RoyK x @b/WiCtW<>$n{S=ztSEW$G(x(H  fSt?"U Yh]v={B:?o-T{r_HYftat0s>ZvoN3rUA#n{:+u+ `M\ owK.=w}g#qqtFs21~pN(v#:>vUrb  8U"D#I[sS y&(^{WQQ=}<GXj]zW\a+t> S~-[rX&!.:#_C:r WQ  rHTCFK[{Drji)@ WhtbG<HtA95  '"xcpp0&Q1oYXWR	 nv=(ok 0CHU:$(q!uy!E#f%^Wq"x ^nDu2&@}uW! ih&'qWfs TNA  0S    `lB  N     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d#      @6     d30KqY^7>F ;'@>|e	nt[U 3
+ )dh0cpQK!{U I nt8aH
+%x}1>DXj(q 
+ itxGwok=P;$ZZ!#PQv?b~ S UwaKoL2X(]zG'T#^I- `R |Q|>qgTg]XUcUPAeV1NIQvBq 0gM'O/*|($&MR*vWt!" sUTw;fcQ^iQ 1~u0GN q:n6-O=gbyLEy%7v~Vo1jbP` IH+M_I('LQUq#R/#11^ ya >		9{<kcUt>z+   	}3v;Gnt?"pDeW|l:  ^dhO6Ol#Bh!|   S0VAdzhUC   &5'nHtA   S4H~  0e!-C in   1  F   @  l     F   @  l   )F!   'e*Y`~Y  eZ   l tN7ol@"   S2i u{}~5\5e s!  +q^/X`?;t0PUA  uMzoTW]uJS-M5\!D'  8)(q?o?2*  "  /fy,&/7?J Tr?UPS:nO^z[;vqFz/nK"KRS+ 27GXm.kN)uSi4~O,v(C~: [t@mZos#kq0^L?+4/SLd-Vzs4jBG=Z @BLbt8/swwyk.\`pp5?k```}"j$U<3 : IS u[eRT{GvKOK(5~v8rD 0M5E+0k7/Ng|]#r\Ep 0WM7DhWHQ^]^Xwk)f#Dh1nX 6 &Xzn-
+ePcOUs ya$LKOX>CE<w1-1STF `I )F~UbqRz3U	$ t2$z%lk%cI}]  	GS `qO     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  l     F   @  U5mAl;  LbTR2zq%]  ~f&v{|l]2Jdw-[vPFU9 @g77C,3Zv5 <V5|7+1# pZXb'|Kgy966vK,~;TK
+A 4Mis1_9v.TgZX`dtM7s~TCE9c+  YF#Vj>?(:jjY]ti`nO?OFRMN Nse?6u3E>~joR4]zGN6-[|.k--{CtC S*MR%V]$S>Rqc53Ll <'/F1>xB~c[hw  +l6?\/l.e	kEQjg:P6=G@ mw_{wMP~1kZ;N  a Qj/_(Wf~*.#EJ=7@ <7O|K.dc
+r 366v{}{WDXVN#l"D$D#Zqua9|#.s/_>hH;:  liGGG<SuM7={t,jX$vBbU4gF @D$BTgL? ou| `O7%u{19\rQ.=dFT^G+3(D YZ x  DOb>r8~}qR7@"Pw$5	CH} `+,b^!#|>1^RB&4%W4bsz, }Y `6+,:UE)? 9^Od2Q 
+u pziHN/7f 0/]^q
+o~#q  	G                                        Ngm0    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default/trans-titles.png mythtv-0.20-new/themes/default/trans-titles.png
--- mythtv-0.20-old/themes/default/trans-titles.png	2005-06-21 23:54:48.000000000 -0700
+++ mythtv-0.20-new/themes/default/trans-titles.png	2007-06-23 18:31:46.000000000 -0700
@@ -1,79 +1,8 @@
 PNG
 
-   IHDR     1   e   gAMA  7   tEXtSoftware Adobe ImageReadyqe<  &dIDATx1   z  ' ;tL  0(u$0  K_    g,  `      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $ A
-  @e{CA NI^KLB  b ;IeQ0
-F(`   Ay"B' I\ujE  YlF,F<jF; `8w@Q0
-F(` @TQ0;#XlFN(`Q0
-4  jw@u<`'n1AXuDF;"`t<::RsF(`Q0
-,   @@_Yl5FWSs Sp}7!SxGJ   V@`0l&X`xv>pt<"a?`Q0
-F D3Jcc	a!`` <)bL(`Q0
-<  j/B|c `Nlk!`Q0
-F(  ( 7t>X:,sqVedddQ0RRIa	xQ0
-F(`X  RDvvvgff()wa}6w?~HXQ0
-F(`+ @t@7o6G`/]x-y1:uj4&FHl"~C`[5
-F(`Q0 @ Qk:{+**419sa@;8Q0wa>@Cr9
-F(` s6   ce_9R%D-K*{,WU]=gWf|D-XE%$uqb   .D#tHIIq99948;;i`#2;qa32
-F`|`07oQ0
-F(`  "Bh|988$Aa0,g=v@FJqtG(`Q0
-%  jnBG?
-DOOhu>An(Ck_J~toQ0
-F( 5oBw2A
-
-PCmtdN??Hc#2
-F(`Q0@ Q:pppzs&FuD`w>uB; tDQ0
-F(`y 3 '`dt	?`\7D&EBy^RM=#o4Da`{2;   = 0}[y47(j:!N(`Q0
--  jab<zb\e	6ohGdQ0
-F(C 9lA0:!h(Xc	 /m	UB3!Y4?
-F(`! {@1,	An6FPlm6i~Q0
-F( oBGGci@HX'dt	(b:"pQ0
-F(
- 5."$A,l;!(.?|-vG(`Q0 @ a6kloE /B6FPp@c4Q0
-F(` bY.	L2FQ0\: hcQ0
-F( : f<5o9G~'(C@(`Q0
-F B3	A?	hQ0R:%`Q0
-F( v{4X`Q0
-F(` b@/u@0v<F(`Q0
-F(  8:`Q0
-F(`C :(  @ m-}/c=  U c   A] )   ^@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@ X    `,vE  l@    aXovmm@"	   #R(`Q0
-F(`  A	  0g6dk>GG-)  x`%PLLgY	Xhx(`Q0
-F  Z;b0af$!5uzF(N>
-F(`a nKdee8:P: Phlr1vDF(`Q0 @ QBpBCCbAtEYPg>:/Q0\: l\(`Q0
-   @ytp]
-"pEwHAjxtU'BrFl&SD}   %rss8_|Y|Ak6FPt`GJR(`Q0
-F D)XV(gRUUw@7oIe	@::"FgAF(`Q0@ Quu30 E0:2
-&F|3#Q0
-F(` @al81aWTUUUVVF7+ YfAi|w<`#wRPfI`Q0
-F( 9
-#u>@4`kk[,!!`mm ""l^*R#16C|rRG$k2
-F(`
- 9DEEafQ0;wTUU::o"Q0
-F(`Y @8}?_~7.qrrbQ0"N:pyh
-h^#yhcQ0
-F(C %3 XK0')dg pqq10333_o	ecm?(`Q0
-*  j<Z<dW}`,,,l*lh`0%N~uaQ0
-F(`a w( 0g]U\
-	8	jAiA2H1`N86}EP7_h<~=LH5 """%q!.lkd1#u4mfgD6Q0
-ssOR3gD#?
-F(`! *io,	rC?c6F(`Q0
-F(&  y?>f
-hGd5~?,b=OaQ0
-F(`i @ mV^ LN;
-FPO|?(`Q0
-F  `oYrsbH_!@jDLW=@Txw|*GW   t:>N6{D:!fAF(
- 9#:NBQ0
-F(`  b9|A03`4]9qtBF`Q0
-F D= f 7u>vBFP U#Q0
-F(`X bYt%v?h'd~N:}aDQ0
-F(` @ C_|d/3YQ0\?,X:".`Q0
-F D= Xg<K(?X:KF`Q0
-F(`X ,NX(FOc2
-r<lF(`Q0
-$  *	!A!=:1
-kg3;9[G(`Q0
-<  A\c thd.X	t<F;"`Q0
-F(  Xhh6Z'Gq2
-y](`Q0
-F  B;c@#7#C@(`Q0
-F 2 vQ0
-KdQ0
-F(` 1   ?  cC4   ]@S   $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $      Y*  $  |z\    IENDB`
\ No newline at end of file
+   IHDR     1   e   tIME#"}%   	pHYs    iTS   gAMA  a  ~IDATxOwgfvULz1F<^j&!)1&&r x;'4`c/HZ@,er|BwlL                                                                    3yy>4| 0v?wu:9TZZ3~ $OKx|~^Ge~6yf+F  fBv9oll}uu`-c%9fyXQ#> ~F9o\>wo-jF+"i00are]i/ 9 |lGveM	2/4 Izf|\z;gO^R3xz=55{]y  &-R7oXYY8>7fP\j~S#W Lfzrw?.--|U2zVOo1Uw DW@|z[^~7hG>VO.@k7
+f DW@J~7>|'_qh^@# Itp<y/%>>zIVn=!.@5>  YyGiFbG  77766jXQ=u  9y~_OR/n  0"2JH?u  `NDdHrF `$jz.  t   sL   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1     @   b  #@       F   1 viC hq  oN={u~  -={?  >6K.k{o^/s|F   />xp-)2_*X  0&}wGZ^^Aq{;w/_[-VfL/  j,s
+vYe^*l  OjP,9|_R]SZ~ft9BIyp  3o'=*2/_rO?~z^+3^/A?|( s.[e9t/_xO1 +A7|l LJH
+RW=>QPGO,//o;w(A f2< J]w^WAj}/g56ox852ps 1QOl^vRo[dO3Z!Y1~:f TT	WH=zfF10~8 \HH{
+HA3]o oEvH!  3iZ'
+G; 5V@m 07}Fw; 0W >@#                                                                                        G_	(S    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default-wide/cr-lines.png mythtv-0.20-new/themes/default-wide/cr-lines.png
--- mythtv-0.20-old/themes/default-wide/cr-lines.png	2006-03-31 23:29:59.000000000 -0800
+++ mythtv-0.20-new/themes/default-wide/cr-lines.png	2007-06-23 18:31:51.000000000 -0700
@@ -1,16 +1,8 @@
 PNG
 
-   IHDR     d      gAMA  7   bKGD      	pHYs   H   H Fk>  $%IDATx]\y~q%$HQd,Rl#I6m85Rm
-@+0rcF"wM WPAa;rl)+bY$%R-wwvfN/vsf~|=oyDDy    HC333'	    I6j:u*~5{    ?O!Y   `e*7l=PGsgDe(Ny    x?#`0_YZZz_</_r/ox.<_c7= :t('?9/|g?"1#^    #JDGSO=O>+{+nl{8(}f;^mZ'NL}K_:;#"XZZn1"(v#   ,"htbdd$Dm,^?__>|_~Xjy1hx>JWnK }w}Go?,76cnn.^pBRz-P   nhLNNT:t(=}mr<~Sz[J.bs[*,"jxw~w~8xZ<Vx'{++++<c0dE\   {i}k?cZ'Ot:jRGos/__],,"x}?<,ZK/O~8|>777GDeX+CJ(w4<   ]ySSS>y}}'NdGvG>_Wz?~v!Q~mypyqx=p#Z_zgy&^}XXXcqq1Y-"`][&n    !_^^~aaa?^|[q8uT8q"?DyWWW{q-UV\M[zN fv~Wu_VWW$o&.\sss;g333mWoa   (W9s,.._YYbLu]1???G{o.----B`y7i ,<='?jK~:.\/^|KK?w~*-	nZ,   <wj\rnc0dtX^^lnnn|ll_x7b-G ;`9 "Ye/Egg}6^yw977LDX[[uK#    Rm<?w?---D;vrDey...v'<!"?wt`/WnxG..,,^{-kogl0b-Dh4G 8M'    %=3333?`0wO<x{<={Dn-//Ow;<Z9q,"*%YD,kgY7"A6;;O_Gko4EQSuO    `:6O/cwu]+++/7&cmmksm_M _W^^yFI XLV' WWn^kz    nDSt^T9ruvvK,#^V&7d%uo/u~?,jc-U`u
-	Huo}    ._V3>>eYv;t,[{KuZP~v\kiBv	H;NLLLdt:9MM5,!o8   z}3[hZwo_Y'Pmcv' 6iyEDdLNNFknwX;	    5mke1>>{NVyMVV;Yqwg l166cccYn~pv'86GS     -u+jbogEHeESkZ%[^[w]qIobYre;mjFO   tkX
-\J6~zG{[6MEsS<J?o5?>Z	-^QpX   iZnyuCs6V4{-"HY VR!M iKNpTfr    uX +[fMwWwlM@".n
-{-Ojh
-k?z    nD  Xt#EuIqyzT[\d	pM Fl]_V!    FjFa"w<W<PW^[}Q    vKy5m1Xm>wN^("`eb'K o'PVAl RzzMk F    |Y~b|	Xk;5].;aZyRkI_uz     .U`yok F4t5u>EMme&    `75-B/v6XsI#yXo r+4Ej`u    pUXixo]m]M"`o`	D`y
-8r1,    PU|+& #6wamj4 F`=lI   [~\
-!VuT7NUeq2BGuo'   V7vV6 |/,1Xwm(f    n}0ntb6@S~3N    azC^F  Nf    yF>F{ .$	|    V7{>    %V@    n[5         $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	i0}.    @M	v;FGG2P    b7>>[   )pq{`    XynJ <p@s=199Y})+
-    K{q0rz[c:7CCP"~u/.
-    _yVVVy"&z^1??+++	|VIs    pU "'O<}+qxwn[96!S74y''?Ko3Wwr:F	    aEDSSS{~<c_*^zqxWbii) n4)nxpuuuauuu&M~???q-^kv|    KSZ?w_,<bqq1xcuu5,[6k=l'i,"sssOOOi{#",c:~=iU~VR    (),"Zv{tddd<hnpx^z+,{`q}`08u{g{?pkge1>>7~?g{^?hz~~Z   pT{oCsEensjwH ?O>rH655v;;q#"//GG{gya/o85   P7G}__SO=oFzhZ^;t+g}+	y\p??|r{zzt>|8woDD?~<xp/^9Am5    +B]Gy_o~?O+yZX]]a~~Xktw5M=Xse'N?>>>>>==w}w?~<>#<@D<p;    `={6^8sL<K/E~zgfbSUuh#d_tiuzzW'&&t:8vX|;199166###jf    pKvn|//R:u*VWW7W+n;K^ycq- Fl?W&6^`.]t~vvo>|yzzcnEDgbb"GGGczz:b=!0   Jbyy9bff&.\g7|3._V+ZV`euuu~ii~SF`y~kc=4^oX ,G=?_|}C~^ZZX^^\x/dY    1hyz^tn~~7fggbEHl_u_k
-vM}w.x||wOMM311qGl{;Te).&    pey/~jx+Ak0tb-F}+4-o;,M@Jby?WVVVV.^x6dY;*   T1G]"""VDd YX~[7^zcX[\|Y+G
-?b~yWu'8l   MV()W>X4Wkjesui\Q_ )=.}Vf[fV/    LX"`uCwEg[-\qvp]},D?8~6YCE\2lG'_5 V/    LYVm r*"X6ia_G+?zBWdu    M k])Q|V5m5"ct[ohM *}A}cM?K?    vKVsXDuKGw.7v	e^2(u;
-cYEl|    m;|n+MS; [
-U[+gp$],VK>?y    vCuN95nn':XD~\p	|*b(Ylt    E+duF+X	Mvrj*W-6    -kx*_9D ]	HHfIa!    vNTW+O c`M<"bAkMTWLU`'N $,   pd"^^lnp[&M@B~uK    Qe}2z^Q{v8~.6j ,VQ7'    ~Tpj?W_uK7u`[gXvj~h@?    OwuSMs!4i+vo( DX>QnxE?!   nl9Uw6X}]/o- 'P"eWZYOU_8B    +ox4X_kX6H ,>$xk[v   `5Mx_h ,N.Ju}MK}+   .V/5M=nK ~A4WUb     J6>a{u_X(v}@    v o77,"^ T   A>n( {86'   lDM|lN'N~4    KZs<z^    F     ?     =     $L    	    0    &    @@    H     	     a     $L    	    0    &    @@    H     	 "   "zTXtSoftware  xsLOJUMLOJML /M    IENDB`
\ No newline at end of file
+   IHDR     d      tIME   	pHYs    iTS   gAMA  a  IDATx]\y33HZK,{&e1?nLn}SLA R\4mo\)05c(6N%+q%-$jkji/:;G<sfvgS              *    `+eYni4kqn	    n''&&N)/,oM?JD/   rj'&''{>N/T	K lE7Y   L:u[n}1^M3]@\ X{5k={'N/^zun?YK   nwqm}y[?#<KSi>)!0
+\$,uioi~=;x{:4|.PR]    XM/o>322rs~Gvp""pY"RI~:}_>Xt/(7>q    o~{]{W^L3Y,S9 e?55u};ZM^7Xt_>Olur   U(nl5O/N=|7K C=7|t<Zt_>r]#`    [zW{? ?Ja{ JO<;vsBMg_N$_|0W`   (rWp?;98^tK;?l^{o3k+r;St4    D0K|>|s  ~O<D^,[Ygy\Z6\
+S ,8p@^_~o}9-+ %W?   h9>sooleK^;Z^fy`__ H?{ms{n9_}?   >_1:::Ri5>f/t\*sA1    U}IobWWCCCqsZ ?RN'P1q    n4"`6C`qeI>Z	X/S'0Sm   h4]l6s+^rl5.    7OYzQ]_Q,'    @qi[YzQ]_bO   E5mTn.    <    V~    :	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         	         +/I \f_    hR t.>j    V/]t\]RSyvm{P}^=     77f}xx1x,xo x>}o"     7?,r}=i~wk`j;    UY_j6{K:x>G^ByuoT'jrlw    SHxWWtYg9-#GiI-Hs   a|||ca9<iinOsS}ig~h^kw/\p_}(E3>    VVt=6==}xtt'&&nKv!4HIU/^-kNhjj6w?    5m_i6/MNN;vt8&?Cc*i+ci*Y^&/:tOv[Vk   Q^~:EFz\R<a}/s=:x}_   1==}ga}Fr\Ew_j}} RX0_.g%;vyschhhf``lv   >}?yy^}|
+
+sF6nN6_*\V'T    @9n~E7VjY0k    Q},wiwsq~}Y_T+ ~^d/?$_<RW    \>j~~GPnY#5|!    `9-Zm{eW3-y{    Y]W[05
+   oE_mC   p                                                                                                                                                                                 o0E?    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default-wide/mw-background.png mythtv-0.20-new/themes/default-wide/mw-background.png
--- mythtv-0.20-old/themes/default-wide/mw-background.png	2006-03-31 23:29:59.000000000 -0800
+++ mythtv-0.20-new/themes/default-wide/mw-background.png	2007-06-23 18:31:51.000000000 -0700
@@ -1,6 +1,4 @@
 PNG
 
-   IHDR       c   gAMA  7   bKGD      	pHYs   H   H Fk>  IDATxo3`giImR
-jrU"Xq! `V",RCJBnZm4J!vxfgfyGc'q[-    ZI     [p    	    S7~?nTUUDDu\	    (,jMzkl:UUN'?X\\^YY\1   k|zdS5{^q'Nvu+"O^zYx   H}W1ie}N9r={z`at:+KKK~o0|3"+    y55Z\\C4333n4unx7~zWh*   p>C=zG833SS{N_sb    _:"Fc,z>;v><pkC=s1z5    e[w^zOu(.]~_N    fDkkk{lGq    w1jUq{b    `"bWXeue	?    V5"gEDL   qj(Uc    lu$n*   @B8   p    	        $3    Hg         !   @B8   p    	   MpVG ">    FzLUe"7    ?gx?"&P    RDQ,F;
-    \?Fqpj.m+'t    #bj}V!=~{("    Q(<o///w?Aunx|SF1uN   5_~}333uQ?EMeXEeYvLUUvoDD3F3    nE}faYh4s~~v,80p8,??0wowQ1   _#*"zaY/xnfYpv+++;#bwE"b:   EqDFKKKTeYFVsl8FUU6VYm   g(,jMzkt8   ;X    [m]E~e    3\V}R88uc^xaz0]D;btX@y   WYmq!".O>Yo?vo1u'O!FjnX&   |W?"|{#+{OOOo?}/~o[UtM    f677wvaayseYVSSe'/YUUtmqqq{w_2   O3>_mff&beM^gi.,,8qu]Lzx    th4,zp_*~`0c   N]>zhG?g   e~~@1D]W    1Nzg   l8kh=   /E-67o   `1Z   ;O_8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    Hg    LZ=2g    n*"fY?">   +ei(&=4    _XQwR6>wc"{    |F4ApmKo?;55A*p   "r:}[Vg]oS?ieYS   Kh4gggO'?9ps-*:Nk<.;=   F_c`mff&beFup~~~n8tj.>Y~K    &ecVl6/e^v}n|WmvS;y^oOD#b[|   sGZY>c9rd[VheYuMt:q/0=."v"b&"f#9_   / Fc"rD|G?|'Mm?q6zzQueWf    wVEQeVk    .    w_pf   9uWU_t8*:N?~83"v]ct@;"C<   ZuXKKKT[Mq3gL-,,8qbO}]1:9s7zYx   H}W1ie}N9r={zSp8N|W~iioFD3>yE    >f277_;tfffSS7mof[z{"ME3    nzGO>#gff!xbs}W_}KUU;ctN,   TGDheSOg=cz^{8tgu}}#b.Ff   #rzcK/uxp~K{i    vwmmmo ?"   #Fj~7]qO    L\DQ,4=    b{2@w    0N*q   M3    Hg         !   @B8   p    	        $3    Hg         !   iDD5    X	,#RD&P    `U},}G
-    \s1jVcx'">C   8Zm;se    waDZwo~j] 7<<o4ED:    ;JEX~>HQ7z:u7"I==    q/>zqff.,v}q~~~nn`hhx   \l6?,_e9gat:N8nu]3"6!   k$YED/">,}~l67UVUUt:8~xcqqqzeeegDr#ZDL    VHv1">x?"`iiw,h}ng~tjcu3    ,uWUE]eZIvg    p'    `     !   @B8   p    	        $3    Hg         !   @B8   p    	        $3    H?js [   "zTXtSoftware  xsLOJUMLOJML /M    IENDB`
\ No newline at end of file
+   IHDR       c   tIME$   	pHYs    iTS   gAMA  a  IDATxkgIhAF[wK}Q>9i	{@xffc>                  l9Vs   C5<5;5j~y    4><W
+gk80    (j<jxn\uE    `n8Lexh   8[Wf   `W6N+     Vls	    b|    3-#YgD   jd>k    XD%   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   `}@    ^%pG   v[,5z9    ,MEp6.~   `5[,J    XsEs    |VVK~fT    ^]    ~v,o<hx sf    m|a]8H8dazX   6~-]   uw]    `qvQ}f^W    ^\,wf    5{5o[-L,iL    G+S8}     j<m3   `]VPB   u0uy$}    KD   XL    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    3    7GZ,    mD8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   @8   `~}@    ^%p   `&k^|}    7-Y   %|n(}n   cVwk6j    [5[-[,S    {5[.\_~v9    ]C~'    }fONw= 5W<`   _faz78   `gk80    wyz~Ys   a0u-/gf    l^V;wy<   usXe)    OO^ml6    .?xy(l{w   :o:b<5{F    -g    +ic    g    g    g    g    g    g    g    g        +b;    4iZ                                p{   Z,g    +4iXpS3   %>ihz=    ,sE w{=    kZ{_Qs    oyjb_l}5    yrb=|   noN\;    3{2Lwq 	g_ml#'z,    ?5>                                                                        X_sn.    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default-wide/mw-lines.png mythtv-0.20-new/themes/default-wide/mw-lines.png
--- mythtv-0.20-old/themes/default-wide/mw-lines.png	2006-03-31 23:29:59.000000000 -0800
+++ mythtv-0.20-new/themes/default-wide/mw-lines.png	2007-06-23 18:31:51.000000000 -0700
@@ -1,18 +1,15 @@
 PNG
 
-   IHDR       c   gAMA  7   bKGD      	pHYs   H   H Fk>  8IDATxm]w}9`All$a26!&ey3"NL2aYBVMeSTyxF)$c1lYR{>m`bl}>Un{ns=    lrrot:v#Ve#{    /Y(EQA1`0w^pn7>?h8qb<^=/7\~zED%eqMg    h"PY<ez}benQcn^O~n<UYa>(,g    Ueyy^.?nXq699pWo?s]weYjZyxGvF8k{_>^,(3??o?\;=Yif    .%\oW^;yN,:Yuun57;gC~
-e%QpeY6>>r`0:t(kW~uooO>EQhuV^3V/    ,;5<_t77p\cW^yeijeYy_066+o}[?O/n~_eKv;.O~3>>EC/o.~~MMM(bc&QO   8O_?o}/~+^k_eKdY-,,-r^8q?w)"b+#Z}SjGDmo>_~<{;w?O`08Xdop3Yf    1'|Oz[o|z{Wo1;;Zq7o#G<PF YXggEC<kGDl__z\M<@cc={_e;"t8kF
-g    YVew}O|oPQl5k333Yu{[,z'\,Am4CZjj]v?vm'?{E1c+gQ    Pp<~v}nimk(XXXXjE8=_XSUHL-\YZgW_W~#{FXf832    W,wz}cc"~M^d>`1UK7F<uEQ\|,#Y1Zq.K2@   xI<z6\Pn5&''cjj*Y*b`0ktXjv[},~~?/KYvHWs   zC/:Q[Vy[.&''c5Qe{0XZYh\Y^",vv;@6K{Up6O)(S   p~#O{W,bll,YEDE^,anVYz^#jbiftvye~fU4sVmyEq:#H   xYi
-gUtX
-bVny	`E~srWsW+g&<,8}@0VBEkIG}6L<   Q[hVj0#bir4~jYS2sgF2TXZ}YRWe1t8    ffU4,o>jQ,X>^fU-qW<<y~7FFS   D3UQjYsVbEu"=S-Yjs/gfgUlqyXmV_	f    T8Y}8x*=[Y$JsHV    Zxlk&=,K5/%oZ4[X   @]*W/_m'V&<3KGOifY/wfQL8   9Kp	kVg8xuM:E~ @M    8`VV_+%WlUUy|gyg1bi   @J7Y<Q-\{OY-n"uK    Hi&lJgkKG%HSmZZCV   B16;\?5loRO4   7    ~*&egYvN    l!(2,nnW@   wjYaaC    tdgV+6l[lVb    HEQD?QeYqK5   TeLOOT9"A,~DNv^mO	    WNt:uMt:vGc=1??~,5|&Xp8Gx;CoLLLy^}hz?	    Py>111s/|o)"gG}txP#"<y,w:M&?O|^{X*w|ymo\<   GpW_uw|SoeS/>wXXX/..G,l(ylGDvwnwM6EDzOLNN)3????lFys    j^om''''z(bnn.y;GQ'Nxxfffw,u$SjGD|_w>nik\c?C#;v|Q0"h-|5O<   )zco}[O~?\zZ|||7cO:<fffo#_Xqr5dsYxNXXX(;bzzz5y-W_}^en5wO>1<8Xh    *lzz<(bqq1b('OG977w,jYF0*5sJurf>==/~q?=|_WV,[on7E
-`9   y(w:NYgOww1;;[EQC333z,NDtc2r(U~`<|/-cccNn,,(",ci6    WYyz},#_W;,<X.,,EQ-..>255{\YRj=g)8](aq/}K{O/o_7^tEp8`?~<zo_LMMl,..`08<?   jE^qb199v;<?b]/c8qxzzzz(jY=U+50V<K.l`0>|xvy}}w_ p3    ^3z^l9}5\/7h533w9q?s<yxffff,r0:2f51lg)+~)-[7tz?og;uw#"(O?]Ac7    2eYn_p5om{[l/iSzwg3sssp8YYfL*5XR*P~<ww\;;csOo|#.#x6==dYWS
-sY,B   x?x+~c3991>>7t:o,=\K3{O[V~c<xVqV]y>1177_|5'N'EQ(&NOR	    ^(zW^Wk8vbrr2.{+nz?<0eVoL`X{YVPkf{+n_Pe?;={,9rzl4'    %~GC-og]vU7nl_r%(#qc]?:??]>#b!NYsS]/z|u][{|wwS==C5e-m>
-g   K_x-/#G~}{7o^eky7n?y\X6"BcYs6>>~-hll#G7cwyb?"c)U_:8f\    xIb% 7<oM{z155<LE1jeY?""Y}YY5j V5>665uo8|`0YcUs+8e==4   QK6pkXvml!<N_WE7Vvjyfjp31+VezW
-W8sT,su&   45gYxvdYeYFuEQey'5S=FDfS5o,nGWA-bRax-up   
-fh5F566U8|UgYg.ugoevnGqiFk    44k.l/<"zqjRYbgGV86{V>:}oy&aM_o1M#4o&   =be8.Vtf5Ral{Vo
-_+57ek/4     ~S3uj
-ggeYT5{X=^dcY"lO.\Ez,kn{=   ^5ivGKHcBWs"W3>;hNpx67_f5\=G    ^F*5TsYGeq]uj7.q:Yug}BDhVu: 3   ,<jE\>rAUkZ4{=/\34[HH8;    xIJzc-j61~Ygg=`MgiLsT8    ^Q+'RU/N4J}fPcERsKO0h6    ^ToAJsb*X{Ue?n:>9   %l<Ojz9id   l}\::`*vdIx~f    l3yn:U
-E3    ~g?g   %'    %O8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       3    H     A8       VgyXt:>   8eeYhj8kqDdY$    ,c8p8|_7n|Qn   OfggcaaEUxl=."3    +2Cq,_6gYYp8X\}}uzVu    t[7tk<;~,b,ap6g-dej_a||eY{Y>F    dycreYFQ;e`08VB73{>833s:`ll~>;6lXpg    K_OO.t:09?p|{fgg'v@s3p?s?wDjVma.[~5`n8fsssEQTQ,oZB~    ~Zv[y1W~cG+a>477\Dm5YSO=5ggOdY7ok^fYe7xk|?,kgvB+VFVmg   _~??n5"("{^o(r~~~{p+[V5\eIj8,y|kV5tZN7'>`1_{EbD#b<Mh    /U*&''7^S4{wLOO=555{yY+F/,tk~.GTKeDEQ>[nmoznXv<,?O,k3k/   PeYNY1((2?O=T~7v'Nu""qzjX9YjNEQg?~xm9>zh<y25kt6mEeeYyo    V,cqq1fggxgq8vX36m7>>>?11!"[`P]b7/v./|;7SSSnXcyG1117nkFh   X1??333q8~xEDmV=eyg7n\{5\m.Ayg|;7w>8HK5VU[nem4.}G[}{EY(d8q"8Pysg   L5geUU9377m_ul2v7=_=|Vmf;ZeY966VpWr8/2O~OGX,V>*~X:0[w
-   O,N6gyt#"oo^g:N8]r%ZW_x_W]t{}b0TZc6-,n~=K/}VSO=u;(DDl>jy    /]Ym<"ps=h~3<abbn+kfYe\p}k_wv.'{|'e#o~7Mm{sq]w=3_,e^c/<>68    ^c3UEQt<g>55(^?33>x`}~-../gv'<vXeQpW[;vl<;vXe9K,_^?L:ep&   4Y}<)SO=o~senXXXnv8<OEV2#\v7%?v{c)5/2j]n7P67k   YY}0;x~_{u{i^jYQ1]{x:q.1,k[<={{~+_#G/rM^la?N+X{F    ^FzoV'Qe~|>o^<qIY*U3R[5W>Fr@;"<eycGimN2hg6j    /mU2{Z\0ukLNNTY&/bb0uX=5Y4>Gv~(25*.%Hd3Eg    /Yz^\\,"j<cu199kh8=lT8z~N.ln8vfmsry>9SF-    ^zYFNT<YXY&X>VAFTyevfY7gkU,jOn>u9.B4   xjRVN'ny^]Kq-3gj6#Zs%=5E.ZYgh"h67b   jKY9<t,Y4QMfHkFmXVrQ`uH88@    ^U4.o<j,(yjW;VNW.0<tSlYs[*k>>    z8je56pP6S*Uz^~l.]p	bWU>c?qV    T8Y=->YTV;1bXDYssj6g-6F*    ^c3vUFp&K53_EXe    gy,Q~Ukf>3t4[1xT*zoO    8sX!Ulg2\-VqVc<'hciS5K4    C)kR}j83?~(@=kf   RMV=OuzTK~A5m$SVgH|R    RI6QC	R!gn@,   lL8:=O8;GT    q)/    /IY+Y,5    x9 g#",F    8qyl!6lyn'    ?,ujY6-[j    ~,..FQ?iGDeYVn||RM    ~*e155U'v@&(ei]vSr    S:NwuN]vgO#K	GD6g,x;s?>cyW:y kpB    yOLLoo7|[xgG<yr:"f''O|,NiO|^-],D^j>    Q,\}Wq>[ln;|',821x+<x]vmiM^;99fka-k<o    $Zv[y~u^o(Gy$rQ'K9k5_|#onuvW;vp8,:t#c7,QDDkyVy    My{[O~K/j`SSS|&<fffo#_Xqr5dsYxNXXX(xf[o>yV[}_y:c1Q,   p~V~M^(WW_Cp8,<yG,fU8uPP|)]>`n^yo_~g\rItwt7ayh9   y(||||<BLMM]K_R<`phff{~COen^YECj/2'}vW?vW/|lu+mkz<=   (eY08?ps=O~_K{~vvv,nDtboUQQv.leDEQ'NyxGyq/zXfMfz166n7:NZ-   ^T-cp8(b0EQX,'N.eVg2UDKay\u(sss3{?>}/]cu,pY}Z0KMuD   v :[<1,,,<z<lY`6Y;N68YuGz[uYu
-f,fggg?pYk_]|K c`Am4[~   O9"UE+fYZ25'UMjYBeY\\~gsCj?~   %!ed/YOUmgg=uv3yRMM[u5    ^csVVe`VoRU0[z^gUZMg7%~=olxLm&   ?j>"V2f-GT<KM,qYqsHQ3   K3R68V8_F+G    ~UoHf5Y=[pTXAZbiSa\cZg13    84PK)z z8eCR3PqzYT\_d*6\H    e#g5Ol< uh6T46+^gCg5X!   [;gHQY373UgpYf    Q]X=pU3:$f}Fv7Gzh{Z1zY}rS   xK(:rP! tpe{%
-bX,o|   p~+G\f}$S,59=b= V_<dY    o-?Qq\b9on\E~$hrfY"3    (F<~?IY   "zTXtSoftware  xsLOJUMLOJML /M    IENDB`
\ No newline at end of file
+   IHDR       c   tIME68y   	pHYs    iTS   gAMA  a  !IDATxu3cgNHDTRzdUW@,u.U!&gQ5 &weK"xEmm)N3sgyc"<z%<<gQ         J^y5    \3+_v{^V][V%   PvB:011?<o~xz*:+E_-o   |j:tmG,A@{pnC4>;53    B^o^<00zOOO}O?HdSEgZlO6z5;nL}?G/gh^g?   7+V,_bEd>O~~?J?MbYg/
+gf5/_ lC   xiVs^OdzzW}1pih|x'ihokI?/NcQY}WVs1    oXU_ew}m^x^zML#Ug6qO+o6~y#}8='   Q,V>~p'>O/?v7~?KccEYT"3v[v(^KoK#fE4X	gT8    B6n_tstOE'>EgWM+oMF#^xGMxK<}xl34   Jr710111}c044twy>(N	^uSV]lNYtN03"h    UpA,&pI,>kq'plVpVK7s8`^bIf2+7[7Uw    gCta3{=Ebkh[gSU}y~fxh6bLrf    Me8Mx|6>jtVtVjfxfE8Yg1%u    
+mV(N#{Q?A|ITz'    B3hWdhYqgWEQ.O-,NG3    -I^e0+V%^z_
+    fKVk\{WGVM]+2s     +pVJY5    :Q    @   7sr8     3         C8       23        xhwG%^zc    
+gvd\l    ^/Jfq]`;y;{    5V5Ue3{
+g;h4GFF.~^   @ykE]*W}ZdOg*4    n7ZGLcuqCXB9rqdwot@c    DlVU={SU1l:D	K>l5%W\gyw?>HDi4g?
+   Gt[o6VXqyE'=4b2U&fEcVk:MNNVzG3    TcG_#VgFjZFGGoL}(5iKSi\F[5^W=bvj3_t}`?}83]8   p3.\/3{8Ys<i!bg3cYLq[eVZ d 0^Z,   JMEg)f>wk8b4~FL^(:1nu2rxo}~9k    wcccn{zI-(:XqfuU6,2?;w~+F1Z3    @^1E'D8f3/yVO/V:twc{f''mNw_X<   5zuM7}xxxl:{Utff{iFU?J}VkX|:wN    fUSo|zrWkm|qf/qJ(]Nc~a;22'hq1TtA3   %St4FFF.i'#=ztK.cqn7qO+Hcq/H   8+:n[npm|78W{yE8qumEifq:3.    B8}e04w}=`|f_yl6oj4q#[t3#>Y/\ET/    =Ew;v<p~ihh;7nXn'VNM:jUq][bFYLw_Mf    TuK6ExG,>kq'pU+Y-%=z43}cEgD3*^o4+z    *Z{_h,Vt82VMF<=34cVYD9/YfQkEz'   P;*fl|844>-iYjVk/hPuV)   p.mV(N#{Q?A,"*=    ^xh4fLT7z]v]n//0Yf    0[ZM7`VvJT=    Z4    ntY9*f|   Dj    =3    (     p^     C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8       23         C8   xQ8   K;W_t*q?   z4_*uu(   `<xZ?ZW-u*MLLkY{    jxx]vvUNt^7_jN{>4_h    vhZOG}0ii,OcqsVO
+a?v%Kam/z+    VZ-VI{NqW,4'h.]e_r{yv\l"iL(    i4[ml[b=ccch|}VEnhZ699ybtt[y}Wrr6    Rm}fXj1}4.Oquqfl5x_yG)n/V|^[xKw,n   'N\pT.l'{;_d2@4JfYg1m-[nXjqdzi   *74>Y&[N4	_G}1+{J,Yg%n6ll   piuyb&Yl#DcibYoVlPv+`/LOOOh3>   zc###[?063`fLY=^t"Zqw}{,N9}a   /_xM77{gWi-:iF*Ue^{(Z~_cfLE4;Yg    T+UM7[o'V^m=>s YmV)vty:7Hy^P3    OlMxvK.s^nY.wO<+n"iZH#S
+3    63l#uGnm7\qnB7p#>{g'{^H8   
+!qPs.?/}Mh#<ro,gQsgSU    hGv^qcX9+VFV6T8jW56[vmy@Be1mqz[{6"f   PrY,uGqkyLEgW*Rg$dsl^Yfxe    b,BXLj{=Ebh[@X5l,Yet_,0fEW-h   @TvhRP<V2'rfe8Zpzz:^(YBbYyX   TZ63?:UhXsUCFf<3D0+7WHO    xfY92]SE*OCEwZ/vZLdq:   li7VN*Y*RVlR    0[jZ:h^nZlg   g4*[	    	        x8'    yM8       23         C8       23         C8   xQ8   K;W_t*q?   z4_*uu(   `<xZ?ZW-u*MLLkY{    jxx]vvUNt^7_jN{>4_h    vhZOG}0ii,OcqsVO
+a?v%Kam/z+    VZ-VI{NqW,4'h.]e_r{yv\l"iL(    i4[ml[b=ccch|}VEnhZ699ybtt[y}Wr3    8+vl6ZGJcMTWmVcW7|E)n/V|^[xKw1   -NP^ryf>d2@4JzUuSoUV}oLNNm6M/j4^"#    7ZfWG{KY4bWl7Bit3ZK}k_k4?   j}~3;w6lAl	g1,7lYe~/Yf1-
+K,y]wreXpsF3f38   <v_k?,_,bflYl?fE<i,F|3    ^Zw,z,3f,:5c?QU/}=?4v?/   P3'{E65iJprYXab
+\L{u1ge   QE=b5~>Yh+dqh@,25^    Dq;"MtZYfrFYff   P2Ee^eH+89wcZ?e    oYePjf^   ?W+                                 YFBK    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default-wide/pf-background.png mythtv-0.20-new/themes/default-wide/pf-background.png
--- mythtv-0.20-old/themes/default-wide/pf-background.png	2006-03-31 23:29:59.000000000 -0800
+++ mythtv-0.20-new/themes/default-wide/pf-background.png	2007-06-23 18:31:51.000000000 -0700
@@ -1,6 +1,4 @@
 PNG
 
-   IHDR    >   +   gAMA  7   bKGD      	pHYs   H   H Fk>  IDATxKw9\3p/P&oRmjF&Fj\icmcPCtnF1qQ]BBhZr
-30ySp>97sJY   @^~    ,/    9    9    9    |(bvv6\[xUyj5Z[[R1   ),jqxGZN8&"E'"VFh1W"b,".F={&};ZZZMVkc yZ+|oRDKKtR-JQ133>Kj=QB-Q_<*E7/9o|ci(bjj*yK/k:##"VGD{! p{*#b:;d|p+6mdC(o@Ej]	;Z-"&#b/EP{{O?=7@X4|G;vlxoD05btgg={;yjuql^y==omQXW	 qmv/~oo~DVz=T( ?d:";;;O_eKV:|,*eSSSgyf/chhhkV[DY2"6z'w{Z.xSEW|?E:_' slN>o~C+}~a 
-X6{'x{tZP *2W^ym(]]]]o<Cc^ql?[o;99.}3Sc =Sx?b6eY+W^xqKVk1 s>;oi A&&&g?Y.\(>Qiia_O~?o>z.\,Ux  wf:;;O<]klRi(jG?Zk?>>~o}&-SQMEQ7X@ootw7{#Gj{v.re\M  wqm###;W=\g:99o~]?g|||K\?^
-4w-t={~{?~/s*J;"6D7mhfgeDln'O899vU  hLw{(*7 v4w-ZN:svjDtE0UY*e/sCJJ%"!/  =C}Kpj*?M_5Z~fU##QY=g  Qy1 N0k5u@T?aD`Q?{ 1d[T ;Ik^e;o_9_  JB~ ;G"    5"   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   "   So  d $*Q4n7c3 PCE \@Tv.2"fYQ, XfC ,&MEdDKg==Dx# @fC5,m XnE,;DEDDkn|h|GQ?73yWV dRbD\^D=*?p'o-4EQD;Qnnp3eYAeY^jF eYqEDE=*p6E`\2M@RcljfYxGGoqf\vO}SYs>"F<c =6ks7oT5/k@( TD(Df@SO=5;={9qX&4iLl{_?~8wGl~ &C]a[_^{/_-fgg_rlleYvD ,lDO{7*eL+/lmqOD,'wOZDTN>#GY|g>"ZZ6: Pq'^\mX XNschGD_l-<i,m.]j83{j1q]]]WXqf{Y](5 ,7C]XnJrz>_s^xa*"( k_,xgoE7YDsEo[;{gff#buCQ#Jde+DU?z.~k_rK>j_}[#bMDGX4n	 pkQh6"V\y{=O\5i```h| fRDlGG'?yCc%y3M	DW|{"b]:)'OGDDj,W0_*Egff?="~L: vTPg&:===KEQ>zu'fgg#bU|IqqcS/i455U61 fK:~x<cs3[ ("b2"~>="n  &=3 Jw_b   [u     K    HN    HN    HN    HN    HN    HN    HN    HN    HN    HN    H-I&I   "zTXtSoftware  xsLOJUMLOJML /M    IENDB`
\ No newline at end of file
+   IHDR    >   +   tIME4X}   	pHYs    iTS   gAMA  a  gIDATxIeWT	EB @+I@D,M(hlD1kqp[}gx,                                        	<?1sacy/ 5171O}! Jykkc^e ,;'hox,z  5k p%Kh;<+0|7 <~sg<:n/Q}ry  n54g y_7@4?-B8 b54g WqhWZoW$bl} JZC/^:d fQ;ZGd6 lV	l n5  E[< eQkak  Uk:
+j_'_>Ysm s+?oM    ;"   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N    ng    !Lw>    C        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8    N        "   8f  Zx!j]Y Zu	 Cx!j Pf5 X7Z\<} XvI C7j;~~(p_ -PO [c{'k/}hl} JZC}8g |Gc^=bGV~1/6 Tl21_: `ryuw[K8+4_,=6[;} kc>3O~vzd,Z_Qbp?v \PDg_p;}lm>\E_f~`w/ 5B1E \_@9\^                                                                       ]>b    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default-wide/pf-lines.png mythtv-0.20-new/themes/default-wide/pf-lines.png
--- mythtv-0.20-old/themes/default-wide/pf-lines.png	2006-03-31 23:29:59.000000000 -0800
+++ mythtv-0.20-new/themes/default-wide/pf-lines.png	2007-06-23 18:31:51.000000000 -0700
@@ -1,75 +1,25 @@
 PNG
 
-   IHDR    >   +   gAMA  7   bKGD      	pHYs   H   H Fk>  lIDATxYpv &}oiH	YC3zg,9nxbOpAzhB]{Z-i"u7M$V(<*DfV$ B*J>:#|[;      n=Eh6x{;I7kV a+QG 8w-\([AZ<tcnwv  7z]D- I>v5 HIpt-o+\7oK
-:iw{'F  p=t2clN
-  Bg#Nx\'Kiw$	vV  p]A6is]}n4:  i'N!%ur=77ZZ1E2D0)^<}  F~TCu  pmt:Kk:-,ERJ)dJxYiueZ}Ax[\h|-h6Z   ld6x7 *rk ^V]zZ9IXR@=XeY>}}oXmYC)U
-Jn,:`KV*g}~W )&Q/|]eY,uN$>=  ZYSm*i]t[*ZdJB`hPj) N+$uSq.8DukmdNux}M\/}C|~TD2"bk--`VIV$\,R8+LF,T "4<jG?7/%K4,JLQccc>??gG\=hYm#eI+  p XoG?_x( ,Kug?#===mYm h( @n?T^\\\|^z~KKKtv<.1<?C=bqZf]tI[_Or|ED&A{Z4S3
-SWS===8 z(OOO{/.]Z[^}bY}~{OS{)ji}vkhyA Z  Z+Hm[r
-R4\z\>v}|%u""/|K_C}~QTFDVfjU-1 
- :u]fb;eO)a3nT/ONN.E: vse-\.d2 TUO~"=\ONOO;33N\>W[<q69*,dJbq]v:pm>|#,qW^y|?B
-
-BOV>---ok6}9555nfvS o)  `k;m;]w{#eYZF(s;dDZ??{2@_gJFJ[_h$###v+j``@2JxFAT'OO~3fu @Fm0[o(qN#<2>|ppuK_'NL|pS7pJ5%-mr;w>r]w{mU.s-/w+W(-cJ){{(o~__~xh4aV'gc<  HhE)RmAX,u]?S=3s=JYA&;o|}[:r} f7O`ll26uVO~XtSSS[.5+Z@nP a`dJ#;wc{u:s=l
-Bj'N&&&jCP(zl.7KSw>}WO}{?gOz:X?7}ccc|O<G]vYmI}W_}3gNA`Kz@E+_O9rf	G?{W_}/]V KgP'X  vGG<-8W_}MMMYoDu{_'?'vzZDr.]x]<q  A:iWW n-48lwttwuwyd2j*SSSz~_}	^tdN,lg{Dso~_|={7".$vVU)iJe~qqq}}}j*KKKl|qQ~%Inl|//"G}['.//OAh=&#B  p-FLMMM/\ti>/~wb>tP7fff>EJ))
-wyO?HR)|/_z\.<Z+"Yi3 6/Bk-7|o/^|?O_|.kddDuY^^jog?cG.Z6kY,Ic9h?7eegA^{O:[ (\9Y]MGu_DFxI_*Jm;UUbh.Y
-DF>8NyS/jc2}kE:  GIu?<y^ub#n1u{]f,3L/*}o|_z_?[|Y H(I7  lO^(333g<{2>Y^^Vr9S.xo~\^h=Mqw|ZCa(L&seYA>}z{rdm0JNny .^x?9#mh4}Mi;art7:::?522czzZ+_??~/|jYF  mdI4k_,b8+A63 2;xe:t=m^{s=w_\XXx3Ovwl vjoeuwkjy*vcmO]Da4HD,ki\._VZCqCiS>$Nv4r5ozhfnHVV3+nm't}OCIj;  G%i:0=zj~\.CZYy_C4^*}_~YXX8nP e%}#;u]d2Tj ^D&euj&|[)nu)i8")fqg4RI(uEVco?<<<<<>00Pp "}(m7mWJz`uW_mp%x  VO"g_GJ===P}v3z{-"J)d2e*RTYc_w^ T?>P,+WeYh4
-z}(0r?qqb}p4 Z(mK)qQQjGTA5.I-jzzzfbbb:00'''T*)qlY!|]-eYQAHPAFnE  LifB4==={AT!felaMu{XA\{f5;d`--2 
- Nf2 z3###o>,--JkHAVH3 9. 81;h%lzIR,!s.Z	5 Ae~522"RIYDZj pbK:s>N/  P$O. FE500 |,+M42>fi^y Zk;7f:y_R- 8iMf>ig'liehhHr43vYr>*fUv Dk-J)P3	K{Z'BixV""RIHY 2l%j4yveX$sM,;	(^  @vk3VZkfOrmP4	kiC`[R@M$ NIz +o5J)qGI>k/[(,fkvVk-AHS>KQ 3g8g^_yeIP\.v2_WFC|WWg\B  
-h!k%VK)%8rk'o_G)~tOoW#'z-<I? n<z4YO{T*I6.yP6~/t;f^Ik'4q.:{(9E$\I\fmx[h+>}?:UY:  @;q!Q\~gE+,,vd9(F%u>)
-R'
- NI&saisPCD|>/LFTsDlI]}%nD$iNpEt"[Rpq#U{.mE'ob(Uzt|.-I.l   LIa}7f0jh-f^xi>DeYbY2N6K:7H|M 
-cq=:hN5kujcmY`PJ.Z:Tu	"]Qs1C4@D$PJeEOthk\2G#F?.{H*l   b\lAAmJ)ZS@1mIDNw`: 
- :i9A01I=)dF6,n'mZ`:pFS!e9|l:@8:fHd	 ~%>k   1pA jZQXpEM+vM _'R?Z)DA"3dD7iP,s%zLU$aAc!qu&heP3C:6R   ;n-Z%EE'$h/;} I#If0d6z	5%dD+g1>N8!_CohD0}$-:E]Dq}w  @h#\Ek&Qk'2]G)e)L<u l-*v73$EIMZJdN1Kzn(qA.)mu[~q=E-Z70=$M|miQ  uuT>|iC+[@4: lBZwD pq' JL_;5wE>!)I*lD0On)I"%|W[  \6n})rubNAHrV\W> J- %\1zk=8z.J9:	PO:^ZjDIp}tMCKnF/OM3  ;ZDGO;oj1fE
-}kW'ql~h@D^ uHTGS^/(m_bC6&iFjh8M$>Ji*6NntJ:G~!/  NgH]"s IymvtBZ6f- 6H'mRL%^:i,Yu&-v@<#V
-9~Eu)LumPRHC$B1  %dm%xG6Z7qvbNk)"R p3kH=EO1nJmgPNDW;Z0WL=.K7"J+n:2}-  $qgUJ*v N|ktF i#Iz,R$9%V56EEzFyBvV(wys|bIAS.$!4  .C0*m]q&(n~\Z
- n^i$;)B1N;^^{KZZJkN[ F@"|p|taW}{-<t8I_\HtiE  @;ajU,fBWNd3w#Dm~[ o3$IgDDo`Hg1o,z=IW(=.);B"5F:+|v  @p-rSvRld_Fi=i:q fI-$Wn(C(::irEDG1t&~V E6  N\u=
-; :lV  \6tk:66\f:8cto$lzt  \P6vQ= n~]:`w+w@P[%ha
-  leHT+n[,	?"\-  [YtlWW{  DD   FtO nkq3   m  kvL#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .\"6-"xmc}"|6}_kEDy*|W[k-yl	  P+=k(	PelsA=u%z*Z7q-u :9(-mJ)e@EDgY?3{7>000f{r89<&r=wrU.USwm&_~~\.?yx.
-WD/gkDxq*]l  lm)bpmHqppP/3<}RCmoHDd]_/|Z |qPvd%: wuYf/o/^X}_ >UDJ)	@'?yw~w>v=1::X,3L:Uz7(eRs:QEZ+u]J)V*LVS_kZku3JDh(eYg~^a|u9>?Gn_  MP-NVuq?lHhq\"eY@,WZ&2kv2#7c} bY(eY88E"h4?OO/HdA^VI
-jZpmo;nq~~^k\pTkZ+(q5V_q]dr===l6x'RVWZRsJ)Vz#zs25yQ)IV^  ~r]7faL)#deYB FC^ju6 lojuz>_n-k.g|||illf;vcWVAd+,jU<T5km: ,K:kPOV?/<k]~^VV0GyT +kr-}w+0[e}?wg/\ gy]9?/|r9S[o{?;;{O8iJ)ofK  JjZ]?OobYCE<B_355%rs}:*PJE)JR [M)em9dYT*<OzmT*m+yA}_i3f;W"qEb>z?G?SSSbk\Y=0y4~F
-,d2nrV^K^j*gm|^JDdyyYu,Kj,//r,--h8x\a  Nj@"Jk\.{:o_RreQ	?Z(dE;h[C1}k?/=3;|XR8-"RR]DD$/^WpGL&
-=77<|\|yZVZ;8 "Yi&ZfHfqC3[I"b&Hjgf=SKKK233#Z$"Zr\:}d2rx#?P4|K;GW{I*h  Y3 Z9HZ-JR}ZSNrh4J"2${R{R=3Y\Mdm u^/.cUh#<sN,}_Fxsi4VEigd9l07 Hs3g_|qY#""Rfy23BlIg$mz733Z,..JHD
-j|+RT"R&S,nBFdv  `Lyqh4daa!%>\
-_C{%Y\\rxZd}7YcE V1h3g9'(7rmYV4s<ijdmHx,H E7Q?^y_Li%"Rf8|I
-I?xnS}qJ@AV*li}5S<+4z83 JJ*lN*m  l}V: j5RH8U}[VkhY:ZZ^^V=ZY]uRCIU N1.kLNN?O.8~{axxXDdeYE~YxcRG6AD,Ky'~~7{XZDdPMivC+!"<iAim2,8+g3ph3utm  lmq-ID+QJhqDk-meY 8m[umU5O
-{ CZ.`<ooxWlxFxQJ_9.Vm%fD R"bj>}Z.]V4yl-Jss~1F_jI(w]uR8SEYJqfKd^K6, JjN[(-{  [Fj5Dm[}}}!],;LWJ9===8#|mZZ7du@/d*q/ul}( 3"h}{*RI2h<[k#*kgm?AUtdv8J)p},%ieZp>\8'.EaXohS|{BgYkll{n(SSSdEdZV`HX{f>{8I|@~No/V'(  h'vr7dhm||<X^^f"2"(344Ti9R4k'~$^" t0g
-R"ZNZfR*qifjN`?[TvVWD,/vk!-Px
-Qsec4C?	"Y7Zhy:V3	 $Y9r\41ZnMy<O"2#-f.zSu-Z  fjA\.S=x	Kahr###KX|Au4Rqg5T\Xe&  \}/-JX:#}S7^7Q'J'$""Fv(0~CIK[W[;jI`dQ1;#w]{BA%.Is+Lb{n)2??{{{=q(9d4y}'I   : wUo_033PfQ&JDT~xx>>>.eI#,+YZ61C%%NIF[ \cCyiC%i^)5`YVP(D'd-kJ!QYA|.zC5YEdu(97.AD\wQhN3 ,N f4vEDz{{u\v3' WGGGuT.HP>ss9L
-  lV'5T4qcccmL&S`YX<;(,oJZuR,9Fq0khG wN/j@%U,WJRJ2Lxr*3hYTreeaXAdv0 J{S-I3om(k<h&lVfC8r__700%8pL&SR$===eYw`zCf8uaqc^7yq  @kE;q>oppPWU)
-8NC-%ZChVX/\(J! zIAtYL]VJ-q2
-g 0I"-Jjfe.H]AZGFY:	#DA4i!h@d8+Fmv]W+e0r9$YC)gfq>V  2bvjr gf5%)fuu.[kL$nZ
- n~foId
-a@$bp(|~AvtECH:7f@TuN[|Yh+H;admwBZDKO;-,KM)t63iIuvg  D*T`Y25Z>+TXtGjz)J:[F[( utKDRfY6C!uxh(4mOsb+O
-7kNcM1j"WepM  UJ+jQ|M -,dI4$Cmu/'nD%n5S      f+4;el@6}t<zY>     t+nEL      Es:B# J{      z4g("      lAD      7,Z}U6)m,%     -L@%\      Ms=M +===fEk     @Hk}Mu9#n     p+Hyx'A\D|^\U"n      JRnm-dqqQ*u"b(Zf      WGmw}y""z].^(sss% *HOO<SsIVJ     @ cyj*\p!bvMsuiRHQvzw_@N]D     ,ygzkm{zzZy9qLOOKrMm8 ZXX+WH.;gg;||> lqA     vZDoxOv]h[fff<T*pH)fZkr\|Yl^u###b<}t^["b    nxGydg?'~PP^XXp_|EywqhH\l%-(,h@k\xQ&''ellLFGG?+x;{jju:nm      |Dtk[[O}SwCO."SN^zI~u]qG Z&A(9SuOmr9ywmm+qg>qwy/?~xN_DHmU)YlwvR^ZMFyA I^??xn6[{  `35nPvv]A^k%iGh9kt^zX(Yh-U>nRQ p
-D$fg}zvJ?"20??kLz-q$L+ZKfhX%mKkws{'3<<<|0s
-jHC)E$0.WBTJ6]g%)9um\Zk}}N>;S>}?zm<~kiexx~}}}gggs?sO)r~w|  v6SCz={Gn.Cg>=GD~NXs\.{!Y}YC)pVTeY[GW-V Z+Uu>|x|ttt>GEVO:uJ;&/Z\fffV./$`(u)tD$O>}gzkZNw1chfllLmWz{{%,
- IdmPsm[NvDDy-[U3o$In4RaYhO^96  PjF1F-UXJs98'z;nY [WLMMK$&''qzZd2;wJ|^\tI;'.]...}Q5k]_h$"UYvB<; Z)m[g2ff=;b!w``)Jul) D)%m+Jl|Hm+h8  nF,,+kYV/J)ecYC fggKr9{lmaafYVZX.zzzr6u	 <yM1av:F"u KPl6	ln+RROOOg
-B6gllZ{ZxZks6QM\v`=Z:zbbbbnn.Lpv?|qc>w  >ri?fd9|ZLLLn!+9DD8#Gv///s-MLL,T* 1ZJ':
- n]+VRJYJ),^Z}jyiiR.g~~
-Vh4uZd3C"k#jd2P(HHIEIHFDFSe;^o]* G	>&1usj3	I&r333/K9~3g,g#zywD"YlD.=i@xsR  &:f\Fsqy_'N|xlt&}3yxNMMMZWdIV~jv]4'0ankHND
-"Rlme6RRqT:]PMKTdu*Y]D
-DfR$===R(R~ke97Isk}JWnvC2j:v|VLNNJV]v}(3}fr577}F"tzqEN\A]m  l}K]GO:UZ^^/KZfeI"NLL}]Q333YR#Ze*NZ
- nnq8yAQ rZfWgM+uAK-l&S2LP,T*IPLZm7#kGx 'IW(F9m%i:VQ.]Z[JE\"z "CvlM{Ru]|*yESEG  6ZCsez.sssR"2,k43vfff2yYXXpF^DYOVIW?%uSG'.Masg\Ycu]q]W,Je5 
-gn](r s]Wy3 +Z/*3B]/<xF 2~lgY<+;JVe</#(^gfggu]YXXznAfZ\@TJD  )ijaafh4
-srT*+ L:*zD"Q p+vM6Eu]8-KKK*KleUiBf!"i=8rR(5JyY]G,l|Pb|1nIt+4J<O<Ln Tj-w8B|%D   j~ld*c{""RZs;2kPR pkifqxgq{zzA,//T3siJ)mY8>lkNTdm@,GCftEd@Adm;b[.nEk"q1KKK@).n~FiNVN  jeeYfmOuiZHR$AH&	ZWMDq9GI n-Ew]W5FGGR.eqqQlH8 ,\6A$< k+LFR=lm2W2EC6l+k&;v%u+l;{{FFF$rY"([\  \*.Y\UZd24kDk+>ottTLLLmWRZpEvkY nqq""L&wQ9L&DsFTpHd
-m,+PJ
-)Y=}5n!x<&6%7I*FO]Jr{IrK"2)k
-& *J}:I8LNsoB?}!n"B"  Qi5Tu6]vLMM5eY]2Z*i~fo^oJ%}F&)+d)iNmnvnT} :	:e4r{wm}Z)%LF=vEdARm"RJNNgr$,d\FigDt>z`zzZN>-\nQD.-,tooB ZM{.
-3j5D6r9  vP4"{||r+rreiPvG###JPw}dR3\6heY)[;m> .'H[wr;w=F!%fi6T#rDZ>xPkv[Pt<?!E")	S6GDt.G+d*\t?
-
-.2998h8T\QXY  vlhe-ge``@lE4k('X%"R>88Xs/^&pEnG( fk4,2m5FFFtZ+WH.R*5r9E-fM<hFG_!Vm.4wpaodd$a*Xf+St6KOOHP ZmhWYE;qSF(n  @6[C, R$5TE<eiiIovMVOlD'~J6& c\qwgmP8+|"St] 38Jm4EGZE#_iZ*b(b1J%]*P(H&7"s.!Q\7QEmx#  ZL+KhmPR<YUVee	SR	bQm{5635T\@J8. h""[W'8GEelv]7\:zDq-. J
-0h7'P+|uRJ	5g,+p]WqeYf gN1kOdGV  jh|`YgPU-zEYC[u-2e2JN vK6{hP?pUJPW_|  6)3e&~wuu t:k|      "     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD      ]          t9"     .G@                @#      rD   6F   [   n)J?:n	 %)'  
-XGnRbX%YsY> -'nnE7-n:G  AE.~F	G' #*xu/(<`v#rbI?\q_G  zjWgApM]uBm# 4kD1j)Bx,KlA4u~9k~Z)nBuW(G\d6~4v  j7WG<&VMED|j}[($L&c6N;  "Ys$&/~9}sL&<vDiMz[at,K4Gjx.Z\\No.B!'J=vdk|7  `I;,'"v,j5FI9===nX{ZcEk1j( u:w\rie.Zk-IgC64PI@~d2200 bv\pNToABm{gn+J="bj5}RhI.l===w^H-f,   QqMZ-Mk~O}zqqQKr(dxx8366uKr=D- 7m{~~+	le~~^:e ;RjddDvmq!C ka.v5x?O?544tRszbbXOEDTyxPZ\X}/Vp  ps#aAT>w}w8pP&LLLGuY[B+,Rv[;,>AYKI 7NrkO/"j*g2#- v(AH;C]v,---U*?a (.;?oY$u+n
-Bn}#w],7_/_i4iTjW\r>=m=333Y	k/Po?-  ]e<{d=So?\2ZSlMf1.]v.---WUOmqlI :8% +|>oow@w	-"k-s @k```bQ3,vE7[9.17D?C_{7wiiI+TNA0#kDD\?WO822,K={vRT1X2@7nz``lZ;nw  nYqWqd;v|3<jW^yE=Zj B<[Zk-Kz8NV)n??}^zd^<GRVjce  SO=uIy>7-:nu0 jw Q}|<7w_
-],sNMNNu3(
-E[luDGW$_N:\Ef;>O}?//zsii5<yrooyzQ\s=7s8v,,,,E+@?mN
-  js=9;v>;}>}r};`?'N,g%gkA>}z[>/qR>WlyNOO{:*sDnl} :IqvO<OZg??Z_j Y\lqvx}_{W.^({n!q=`,Z6*J#?aTF7n*->+RcG?}_W?#G|u'O?~sKKKo={KKK3	p|===}R,p;~377Ap' 2$6666666d2n~ddC~GGGjjz;<yR-///--s_,..NHFjE|g2rkY](
-wu<P(,FR[Y+]n37onkD;egg~}B? rry5M:D_<NEuJD1o("c[yCccc~'>w=<k|dA\re78o~bZ|";?)?oFv%nfR-J\._<3<844t'eY+W//yH60q;|G~kW366&BA+J|7|scT*'6;
-/}	Rgo~SR  z+lL,Rrz}z944,m{'=2;;k999F!h]-.}zrd2QJyW=:{ryRTZ#Y5U'5o`D p3Ij	<3<888x0ZU299)/dffF7g~1Md} kcR#rxeDfH$\R*c=~bsR*u]h9soqW_=_o4A0J)@D!yt7e2<|544,h?C^T`b~~_fPFV;.L?`C<w{m;w+fXfqiiieY\y"_l   Q+iA m=^K\e|;K/y5K/_pW333g5"+eF088Xw>>|;@R[XXrKo_W~SSSW|'R&+P
-5. `sYZI3C<c|<pJ)R&^^^?|;8U*sSSS?zgaaaN"pyzI|KJ'R9tC###m;wfK+z9haR[.h9iCz]TU<Oy('NjA,TGkZECICHDD;v=22r{__bq'788h
-m[#N  z	k0$
-@x'\tI^y9v\tI<Ru+{ssspjuI)f@)e}wn=w^glM2dYd2bY4JrE)E.s` pjDum!>$:i;vLA+?Z#Q4vEu9 vbg``3BP>;###}v5<<,R*$!DZY9w|K.J4Jr|qqSryAvE;ZcOgg[*#'rDfvXz{{G
-d28MP  @|pPm~~^fggejjJ*nM^F1WTN,..jjj5SHT{JbXsmf[+v^fkPj( 
-Ar<O|Z&_~Y=*ZM,<Ur|8K(ns4$DIStY,dR*Y70vZJdMQ X`Zkh4&OLMM^\\Z-@4-n5IknhOO\.B}9_w  uKOAPn4ONOOY\\)EkC$r;m`Xw],WDl|>opP(H.uq5 bBjU+re)tA}_r[S )f+DY@bg{]HhE;=ss'gIKl1zhYI{ 4IgBMe'\NIdm{bqw&o-=l }TA3A\}Z?====h4<Y?=::U:.WI^H}M@dur\qW(C	s=e%1q&yFV^&Q4.}GIL@DA a#2*eKd`.Z}@$nmwAvl7 k'f:]fp<7>HSqinaE;ns$F4- J*`
-vA@3oE~zII  %mY!_YC%iuK\VY6RCm $.7H\X.oIY0 Rs)ZM$FU`n+qmqIM#uP{m3?+X"?	mx 5R@VZHz0nl~:VvnI :636e]$XgJ}:];A\@=dvaPsEfb~9t=*zV -n/Nv=Fjy==P  :j$uRA:(n{mKk@Vk' Q	E9Sw?aO1$;wq;:K3.01s%saiE=6=n_Pv53)=_R@' ;6K
-D:i]'aL~{}qU' ptHH|3Lxf n}m%Pr^ M4,MI"DEI@"z=m?vPx=t]1[}MOw  va%qMBO2~D5C7}MX [fA:Y!Ou8rb^(xg?.J[;$-iDtfh"r&++O<n#  h=6)JB-C`cTR$ `kQn6AQHH INvJdiQ:H*`-kWx]{tR[v'M~in  }:nmI@HA3 ~%e&A::bp1Og6/FK%Db;is\(iu @wi)=Z5nQc}ds(<yoq [[f3F0_IO{	`hzA	N=y62_-=}CvAFD6^t:*&1  p-mfJ{Z.JlKQoF~ 62iEyh@d<VAN-v %kO6m QD9isnvRAV$Gn  D6jNj, 5Oief;ky]N 
-aOBzCiEnmtD@`NN0  ka3tP}jvZK fT?DqAQzH|8Md.lEv:jPD?~ h[FWN  p-mK|#PM/Kvk nmq.p(26qPId^&EIm$ YBN%%-vC,Lh  LIuZ@$v }Ko f3ok!6E?y1   "zTXtSoftware  xsLOJUMLOJML /M    IENDB`
\ No newline at end of file
+   IHDR    >   +   tIME&{E   	pHYs    iTS   gAMA  a  )&IDATx	eu}'@vPA9A0q_5HDgdArPb0A7W^t{m9n9_{o                          i3W5u^ L|[Yn4+x=>>^H3Cm?C5Ovg E{yz:oQC1Yfg1~.tSk4+{vN}%k"o'y YC-j?W*7/{`>2<<|#<g/|5u\Gf`<29929?@E WYC:)_|)o/+ o|{;Y\o;)_+|'}6tZltGyAg7n3w'y /vgZvmVkouG}t4P cUK9/|_RV[>xmH9{pq#Xf|+or-Wm'===/~'oS__>O<qGqm~0N.8 0_fp7?wE5gfGxN=}/{N'wy_r0cnz!>7zY6y|[S=_e(S[jUw1
+)o.8 0OvzMoZ7oQK[n
+[U/>3:::ww`9!==_|=x++yFp;I1o??kmc99/ <6k5T{=oo-~3 
+e@9j}~#<m;Muri[ouI@TY17?;hyq-.=3jyGFyO cVCj?~e_=:*1( QD15&>c_?we(fEG*f5ETnr!7f//3:OeZ^z{-}.:Op	{%Yla} sRC|+oeoxNm\U{, K J6M s=kzw^WYy4kD'uRL6;WS.v\]P^dL{
+!:&Fp9D"Yi  	xh4^zCo[FYsQ}\@'U}/+Vt	'/ZbLQ@5gd?sN53fl~y cK.y76V^Uq38qXg  ]kvZ=U?..>)fEP6=s( 'l,XS&D_!2<D\L xbGbbmt{<<b~-ccc'UVu1cZx:/ @
+:]C,5k"p(Fn7e^V a}j0bbb7O>;3I!3(DFncD|dzy>5Ic5h4bO]8:(lr^ tj0f/c)ueej( f[jz=&|D}Uq]K\''''S|Bs
+O|/iyg?g vk@)
+KC NS!QooSIr"$>kDO)fu#-v&+TQVF HK[5SMLL)j`wj<ZV~kFOo5T7(w":43g;:n(XgN $#5T(fbg6 zEC#N6_F3= Pw Rm:M}wS:(r~Ie;,w $a5sUj( ~J  nV& {-  Yk	 s"j    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    q"   	    '    H    qYJKcT'&&JMNNhZ' *###|-g}h 0v{cY/x^ZVTe'4W>G9d||53hNm2F 5\{'2`wwwxO@}O+r(;F.&>m*	?%W]u'pkjwgyG;y'/H> eA+V8rO +b'>k/\u"{bkjlj; >~i}ttONNVcdL^me8~g  sY>V6o7v,fw -\pu[^b^zo[rV
+-[vG?743;s5kb-(~{<W^Z{'`_m jN;guE]tk6oh6= :NZz3|%KV}/GuTxfxmDK.=*_TFO/>]:\g`(:ktuzm871Yg(n `.k_o?"k|8kLh& =p~g_6l{ldd$n3+i@Tgh*z[nY;;Yx7diteK,V*y=W emPmjle{3 -O=ysdd~9C=y^PuYAlpp02ffU]vtMhi2f>sHYlYQ!kXvj[ :r}OAr3yM" :
+i;nz[~}600WlpYC]|JeuoK5_/o]Y5P{hNU<Ee5qYy,{V *'xe@b&2, {"[A{r{}WlhhhI6}V-bGuq}vymvC>5L=+8fM0~s! jc[ :rqm[|^D*m)H" fSe,~w^wAoooy_er@TV_F?rqs	r {z8s.\p2ny{8E n${m v+F{zGg
+ mE-rkD~3eYD	x}Lg)<c%##-C;VE7ul[ :mC}iMe3kjsWW^FQ0qZ efl;jGy5:R   :8D/ffJ%>h1#7_`"VF845   0eP4VT"cR||zYCDFc*$>vF{"s}6   @;BRDhLC\Kv&Oe1Bh    yyq" Ck[[)SK@4   *ShCP4rC    Zuj    1)f    3"   k   O@   8   @D       $N@   8   8 T*{     werL~pg   jxk{.DbxZ4L   gleR'GGGcQf0.:wVerb-K    j[nFFh/}K_wh2_zjE   `F^_Zm}l=^5Cug!X   *aqldd"mNL<_5yM\w^XMz"    vijyE845=Zm[^O}%g}y[Ys6Q5?    ;OLL|VMh4i2 |%??5166=>,XPK_o~_~c6cv{@xl]RdUwh `.kT-g}Go
+ '|r^{jF1r]w}o|pu1c(lzQGwgD?4::XQ,&kSPTE$c4?~6nxk<?#-Dc; ePbY^lCCCCS-X`dcz}j
+:
+}AyO~+_y3x_c0+v[E>oYa 
+qY\Z-]t_}7|sg?7wSw?'*H> eA+V8rO krrrO~9uwDm$bx'h1b#3	j:5/~xgy>^xx+_l|1Z..F1eM8~q<>L :PySbBWWX"?oghhh{{?q#}=MLL-ZeQ./3
+"(t,6n8|YqUO._E=K/?5f)a N;uY]tk-?Tl5oYn
+ ;ho~Y3)?;jl1h{PnN]Q@" UgvF'aY'w|lu*m1[5a:c  sY[5T|ccc[>b@' g{DGAP{lEeADS{f;fdl-2V:-[dI8,=W emP12Z7VDDPC>EX@\>;kbjfLa6lldd$/1;m v<7jW<of. `x^dfmD;!fZ6AGyp|j||f>fa5QZG:- \NT9/eDm" @ED?Ssx|q?YV:LySU\r;WmK66 *wOe@b;Lf-'}g['RO-3khUpq	qQa% jc[ :bhl: q[ SMg6?vQVzB\1mM>C  sYuPQgiMq   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@   8   @D       $N@44  AZCj5 sQev_V@`e{h7Jevy R*~}{oVwG
+fMNNne__;|T)3pWu'_>O  )jj>^8cW|`jvlDrE/_Z|Ot3tg|6mM%;5]y Rn$ce/{Z
+=288E.Q@\_U\-obwhL\~weIyN N:22rGva/bz=bxxJk=_jdP;z|+oRGju;oy,C68 NPO<?be{]uUuSP=l`TVo}RTO[.[cimY/*k"u]wm<qLm,.pk2 HHj:oQx^;|uArMHn1>>j:5Kv21pQo#YD7({_|y1eYpayQ)Y<t^ dt
+Q-wmG?1y7kEf0"'}}cothGDocq\sg/~YsT2H]}]	?'?lk788%KNIy'-zhi6,PQ-Noo<r6J4Mdno9VWe_P-v`;VXmy]yg}O=tZ\STuuu_V_>WUw}f!3_O{ ;
+1p>zO9O7n\Q_>.:J@~ey<>V=5gvN=@Eb}8k^Nvz^p	'pJGuC]wQG)Z	7Y#[w;/ 75T9_C{o =<wem9L~^5)D?yN:EO;_l_qCCC|?[1QD
+'=
+(rqoy YgYDKHymGjnO _Fcdw7~#~MqP3d#zXn7~uvQ#D+W+9Eo{^GJT|?q%~bEG<m#>x,lw6t^ ye7P=QGej%k#8b15jDP( f'uFm1Q>!-;3S*.,~$#[ZhyC`I'9NYs  lP *fESQQOfORGr&k2!}/f9}_Gq_wDs-|O t1c';(j(x&Mp^ bwPY6]#~jQ tJ# E 3rPcZm)1-7FXEGhzgZx8/ |krR9j6 0SeUPDsm}PdGd!D\TNKZgNJ9/ |kPKT5T9Vii 0S3S/k\x8f#k$Qrla9 `5TkXTky] uQKg3k<Oy :5 v[|n{ 0 <                              P^z|    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default-wide/pf-sel1.png mythtv-0.20-new/themes/default-wide/pf-sel1.png
--- mythtv-0.20-old/themes/default-wide/pf-sel1.png	2006-03-31 23:29:59.000000000 -0800
+++ mythtv-0.20-new/themes/default-wide/pf-sel1.png	2007-06-23 18:31:51.000000000 -0700
@@ -1,17 +1,4 @@
 PNG
 
-   IHDR   d   *   EH   gAMA  7   bKGD      	pHYs   H   H Fk>  
-cIDATx[=]WlGA^
-P,(@B"C`R" hp !J/QHQvm/P3gsJd}gXDr@/WtED<|`!LLD!Ch5zvSzn>1P!Dy:3tE9UZ4:G2GFg'8Viar(_i:c&krWgWn,$J"B2Xa	pe:Zm~t*l_.N+5}>{tgWM>H>X14"R=3W(\Y@6pg]CBBLt7h:~K/~F{zbb6*X6e R F$7ZqYh0Y`LB5o>t: ~KOy~mb7{% -6)v6!pSQg$x	6?-z_6ib dqXVNW4Ejz{RLN}G+J]"GYn.,&^
-hx@zP`9qy!V"6+g WBI%	
-{25Q-Di~~+pNS!-<BW)Xk-w1G`[tG,'N=1CEXCk#~-Q8wu	$Kh8Y #J)N{14I KPknQEo{@Uw}`a[g&gpb!"zj%wyHg+aJxq~0^E$cZ/n+30BD)M([Qbf/-aQ] hZFA	K$c n$HG&iht03}M]((u2!=YY %JF>%f##M_a,j
-bX 'toQwd>9/pF)r-*QJ#yw%l{GfF
-id(&dD	
-pij0g 6Xhn$<J0Qjya(.>DGJIiR7\ Q7VT4A:~02gYAcV /rd9VgE>tpEue udz^Ojv@IF2
-dGd@x@02
-I% }&bfatw$:o}ocR%b4p$m06ys6cT!b3'
-vYVT3b~S,1oo@~\E.6-swcD@&=_q
-7P
-p(wnplMt.I7,1I\B7O'Y,G\3	zSR/0T`fUQK60YuX:Gc`
-UT.Q -a@SOsmo%w[L=N-u,gceDB?%+Cldinlw{Ki~e!0h<kKC%`"ClG^jVYRe7g/3lJ! %gR:y"ij+#3Q[seed<t-O5!#PP_ZeI+OLW8p@3}n`?0S/++ 
-+V2i[[x*60anl(e0)1e/ryotu<==[thPM^_^ta|~cWU\1UP2,(O'zCC- c[nfAKG]|yE6>\}[_`RY`h $pJf70H`:Wi\_?^NvWkhiwvK<5tJv.%Q	2[[0\l^h3x%LgNo+s!R1"^ojBw_?}b:^7E:vn9_A	tZ?i<'\e/;x(]!-<}zhWC	Sx,^\,.]|3}i,:H]Ku/[O\G]xW^~vU5PUF~6n   "zTXtSoftware  xsLOJUMLOJML /M    IENDB`
\ No newline at end of file
+   IHDR   d   *   EH   tIME(~d   	pHYs    iTS   gAMA  a  1IDATxKA/]|L0IZDPADQDK )-b!D$	A=0w-v/^000eF@P#u6t:vAY;< /=^$df_)@_"Mq`H3s0iP9zgP&=*N6XB#B:IR{c	m:'j8!A?&n&+Dx*} \RB!Fl PmYU$e):(CfuSV!BR!*g06wR&Il\R$eyRKJDZ03o[69	1,$blZ!z_@,dessBKR`^G:Nxw[;
+w>}!tSgm3t}?$~0{TUzC    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default-wide/pf-sel2.png mythtv-0.20-new/themes/default-wide/pf-sel2.png
--- mythtv-0.20-old/themes/default-wide/pf-sel2.png	2006-03-31 23:29:59.000000000 -0800
+++ mythtv-0.20-new/themes/default-wide/pf-sel2.png	2007-06-23 18:31:51.000000000 -0700
@@ -1,46 +1,9 @@
 PNG
 
-   IHDR  T   *   u/   gAMA  7   bKGD      	pHYs   H   H Fk>  4IDATx}OvuZ4PKDJN"%:0D DVPhQ0A1bIRHmI6n-{Y={Ga;sO=rC_x;2x|'_xFyGwO4_e<=U7w(Ouw%N~W="^z-s~&~x I-'?YfoE_*bD1>lE@$(naq=S_0?N*BKfA0MwF9ELL
-I-/MSG;k0cc.lTa\8/^ex
-Aq6x?yLSvxd3w_^|+|iKZ6wibW_7_k??U?ci~6Rk#qS
-9g[sIYx"%ZY8R@*SiW*v@,bA8 =1DS//szWN+Zxse~UqJ L?/ 58!H5u+ `g7DqZp<y'^.)&S|'zeYRAC'K{^JR)W;f!Q/ s$Tf}~9^y :UA` [Mb-N,snd,%
-O>E%'Hl2\^Js6pOCEdj|6*Z'9d#RaFT`4deZ0t?0KG<VX)e&q_3FGqiukq7K&Hma [bt@;XPE4O `Z/_(yql-o/GdS'pqN6Q5%W `7`d]fGbkevsO|~9o~E;VTbL4<vq HeD!XgQp^7:f=.Dbr{9TDOQ 1]+-;]Yyn(wKR\W#FonHg]2H+AfbUoO.t4WLMVt22dp%u]e~N9xQEgJPCx'>E< 		*.u|qoKs7t|5YgKF$0	nnYx:o^{y_?7O7{vBEE/W;`kt|W!e!Mk{:/s?E#UA#9VlsCl`)gC78eNP&sPmYFV~o
-;ag+U(LqS`_Ya?f;QVYe\1  pM]X1sUuufot=yscwCnba{}{O;koJz]aPYc	+	*kW_j$]gd	z[Dgi~R<hPDo|ax9
-FuRW-Z\ ,S-lc[YS(8ish+yF_>n6st8EHo\vsEU9|TbdK,Gb2vVBJ	pG8w~7w{_'"~*7~)u)zS'-}GFt.ibc
-^K}k?*DXV;i-yO6f#}_y|5MV*4/.l} !Bq+wwWd},"=PpkQ\G~_| m!+)&~&qN-d[5BZv*J<
--8:EU=f|WjAFaZ\R.zYyHr~$fUhUT|eVx+}F0NWKk#*	<|G8mV}gnxh7>yuaI2WG\v<|\W?UN6V $~!PVu-h0:e7mC|p$S] yx3L&_xTk#)`D##1y-|T'w6PX9
-RI1*,k,;pG[PH+DUpej;+`]~^	=d`Try^5q w'L:7(/4Xt-BkO;scO0Yg(amq7/	b*5	{$fg]]7tR[>!J64onB
->\Kx^$`z+8:n"AE;sM~zq9*v-c"?]ZMV	H6pRY#wa`o 38	PuR8.puVla`?1nq
-rNU%sQqCk'rF`4A`er)B{jwp$:A%=mcCYp. ,N;chWJ=a\113p'9]E$m27#3B6{hEf S\)+`MZ~>[{5MR+9^{{1
-/.#<(2(NAPKNWW|1x5yu:@dwr%/6S_4+- i}wv<Oszk^Asim/S1ups/4ff8	Wu8{WH@0=epv S<5_um$N10<`scEK?a8={|bgO(:LSt:$BBxO^ObV~d6s&cmy~(nlG~5;I5*w|0OOJ-B)>:({q72^ittx=~<Dbtzs<u~X:	V,A<,l89F\tU	+?UDrK<
-@~\lOqo"@	JuaLOc@Y'pvC#xCE>GJ-B<9<;]sYZf9AB];?tpHW8R.;\;{%G8Jf4*#2NO Y|L&Xb#YUc/bvvtc3i|v_j3YIJE0
-Jl
-V;#LkbV>uv/6sT30SD/,]E!3<HasIh{`QB3;2 &wv?CE<-t"n+FNrOe/+E\x@=d2:Z,\@zy[ >]#b]vJQR
-/Nw:P)C;eKx?vl>Yy&O&(yi_\kw)1I~u6&U?uy&!+kT[^I\kiP~xz&.x	BQ#P"|GBEUuZQU:LD'Nc3G3^z1W?i<[;/W^.yG"+T:NttE[W)u&^)wQz#:=sW5Px02cYQ?k^yw{-EVk|pKz.lGKo_|lF}9gRMsBFk&FJ	LGHI! {eJvjxOk_$vFVM0TwjsltWWd^CY#?;5.>(&9WBN`JMmq(w!5dUt+iki-w}t_E0x$PxORFSRR	C)i{/cBA$)g6+rnU(4Fuhy+z@TxSvf^/(Y
-yd lf0I'	ln?+z=]_@|X{a@:&cYj&`q}m-r<"P7ry5&,;:XCJV}K<o9BgT?:8[MoL+tT.+`YSLl2#>GdL5KT@5H]g/d_c8vWyMr[cBq]z?t{JLj2iqh, X%vRw2K9aL`xW1UiDw-9]mL=`!2KC?TN[%aj%1rC0S=^gx	 	1%bSYB":eoq^||e9~&gu:jh+[Sq+m#6N,6kV}b&We\R*/G8]EQp cUpv~0D_!C<. I_;;QX8O/FBA=!j B@8,V<x'0<cb
-JI <Yc
-g%
-	U]6^n8v rrOg-y0S6'\$TEQsg8V,LNr|K/:i Tuw,,}ARY_S^s:!Wg:Lx~3MS/pYu*]W|{NW8ff"~RnWB	a^s_0U<ORpCBT_wKU+ed$Vt'JcWo0+,^;5xByx3%sl;A1pyG,T:O^e:jm(v:xO#1p\
-)^qvJZwi+A_qqa~1LYpy]0,hez!pNP >%wY&Jd?wx,zDEs_,$
-_#SxfJ^MzkvScgs/Js.9&<FV9n)d\)=mljn
-f!vH|xz{^lj $,
-u#z9A8SlA4 2frPncmHNVjI{_/[+OC,Pas6UpxL+!ao]r5\_w_7?1Nr[-7w0_S*E-K&t	t	1Hkzw	}+-Mx0/UY`,O9k\`!`z4g
-]7/+bGs<td	Uf9E:iO`9l!CeiAg,,{  cN&W@ge,*NM_W,rCc2>3,6d%=ISt\n}
-jPM*;,$cC@#8n|8LytR7|RmJym)WMd7Jjoku*Smj/W]^sCC1@8o]qhi,W*`j4w9pM8wg];DAP$'RvNeq\rN~IlTw	3OdwY_HU\pToIh_R%c;_6|?/'P`(o;lOHQht%NMY;Kf#9CS"m|<Sph^EL'#|?(T3m8+)j9ZH_Dt!(1)>80@@k#o/EY%*y+LwE7>xF3M8S}}*]5NKEUdzH TxYF!IXA;Nd,W;NXP&8;J3vcle"7%sk@?'r;#dsg3%RL~Kr_D9G;HvL|:UgY>iP)I!A$fy&	f_%LSua8Y$%vIF..m)00Y"rNI-iuEF=#Qq9N~@[P9Ps[=yf"n/ $JbPsNYL/+3V&,B\7t7ExsN>74viP^3g{~NeCHsd%*$#XzP#7[ 2
-X;&3[{	Zw~>4_R]gXR4na9eRlhk=+lKa+\#U3N>.^*<sDY(^TGms9Oy+Aw=-.N-\M{2SZzZ77U[J[j
-T\S\etB#&I]w2oY#E4;3cvw=:+Ur*qNXi x4+gX	D,|bdU%7%ZxP| Z;+'N=2#9=K_0Qa!{e}kLL)FIft!]XRlgQ?]Yw(<rx*Gf1/#[$flJwyzC-`Bo>!15zH=dN(-
-?C*9I3Povv
-H00a2hCRYH~"R8x7:)v. r?eK+Tw_v[<&TOLRMu:}>xGtaKe9eXm7m#0X]n[iq	T6K+\VhOU&599[^!'( fHy 9L8y,<@&/Ub;	1]':a	!#tZXDcMD_iw/+"cK9'h*a9mrv2cyx\&f5`M[9[~.joz\^&\BZ!xSf4F[N^VbQ>cAg~e)Em:SSHWf5CJ:d56``asypE-De]Gvz N|SR7 K)`[y#R2|Ak+u{QT
-]!)]s4k[
-%(Y]-[urGe<n^]Xl#5}y,'>3:7W[~2Tk7SDfr#@Q+F!x$LLw;X8
-\>ep
-fU3k-#;@l3T~&1R?^%+[,v".z;cE^2QFA?u'0gXM9Ty4d8dxX\T:;Un/o@'*!xnG2V.6cY\^g>O_8>%W0zI>F#F$5+23pG*FpqX5g: KUoeF4-,Zk	9J]+nws.\._m 9U.V K AW.hFuUvr@~8':*E<$Y48f=]T.mxQA#GT1r'}k% { <d(7n1CZ>	:I$zV|ozVt[^>@? 0vifylGg99|='XwoKFvK!sXW%G{w3s{x* dJ,B;a:?0iP5dEyTv`]>[5o10diI'{>@c> 8# :3Y+
-_o[Be_z~WO4SjMo&E@7VWZI,g!?'2Na_%5r+bfK0?ZKaqoi%N/E[0g[lT_u	$S{.<t&^#5KPK1s9?w1fqCxS(steSk}wg[[Vl ?)&L-lh +s:lx$u?4;R%RoteH(y ?4/Emvxtzv~4~	O'?<#SPdI;g`-_]SO[(SH0D,z ?-]+_}yfj&Lyxy@hnzKAzn^y!3_})PXl ?Ag(]|iL}];'Y{UL~nWTq8V6HGL}/Uh~o$0VFvplgbcB$IRD)'.~"Qs.x~WzJ8p2`jD)+iM Orl@IP%;=rLx*.<s&p7A	t:9]f0?G+=^Uw}#3h_1-xhJzMt&63?1l>> W(!tAR<c>/_a|!j=~D-xS%JRbO}y/ `sb'yfs`)PGGd1F?&*`s))3(C	n6gr< xHCwiNIT#
-jPl
-&y.M:{ydehw*Pu/]6q+Kt[]1vw"<"lb88l&{:yfvsf}K?BTJUQVAvp  j<7%JO@>9E5ygy[]guLnu>#'g!>{dy
-}36 >T:WY.U[JKZdmC>53^&z&4&%07H*4|Z3ze'8!9[*^o%	F}f~g_/~nfpn'X~m^ @iggf`gY9X'~W0r`Yh6]fCkdb5FdTwf88o/QN{StAd)v1m!&`7$B0Ye,P%-*n*AkHaI;L9xa ^6k~P'dCK4zxoh'j
-$ C	^(uJO)~,7n>~0T!kqkHc?mk?/?T=# yu([`Vvvd2JOA)2Oc)_poT3vv4,Am>2f_8];</H%X|k>r_CJ.R02izE
-]*aK	yL->>wt:SKG'Bkq]Z5d,scHnx-	y	OmS0>;a_}_KOff/}_yG; )jtb+2pJ?C# [xIy(d7Hm<VtE'K%E9mFWuy3D\v_TXW	ZKG&;(gz.L2_ckUzB/Cq*H^!Nt+9bA2n{Z-9Q/wcyg%]fRP:ktI>E{nkxBCUxwmlKS?mWa(?J7SIM.>Y6Fr	#)3tV~91{G>/43{r|?wHAt>PtidNpn,1arq $;Ab]Bk}jUM6xW1+[z^m{6eXQ!BnM7=m>` 5#cY^(ZUG:XLP@e8f2h_oG,5d~QgzoUnEl=
-4ey5YUAW[^|h:.(MmI:v[O]/Y(O8)=?207Obao}{_|!g{0W?;?_|O>=	#FvzKs5IQX]PZefW'<FL._)Y2ODz@.O7.9nlK>F^\5\MD{&?9+2i|td
-@YnU*sg`.6r{wDs!w5>wO]`Q:px')0Fn*DkH)\?O7q3{XKLVo&6;Nom>g_}vG1
-1.   "zTXtSoftware  xsLOJUMLOJML /M    IENDB`
\ No newline at end of file
+   IHDR  T   *   u/   tIME*86E   	pHYs    iTS   gAMA  a  IDATxKQz"K-
+! !
+Zssrs5             4Jv?#CK= !6BZn_Xw*Ue.To PPw~jKU'5  w=[) :5_OcT*_|- 	jv?N6TF pr6o6U~T jFvju8   <	TYz: c0qz: csz8 s)=p  -)/ $G~  _g hI;T  R: @
+ 
+T  *~V d
+ AP 4@ pC%P 1G~r%  MqW~	T 6!o9,SO dzSO	 $k;3]MU, 	j]Xm
+T_2zb #6}|=/Qj/Od	n"  Gdfkl]a*CnQN Z5uF@Y_T	5j0Tg pPo_lM@      @RQElR0    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default-wide/pf-sel3.png mythtv-0.20-new/themes/default-wide/pf-sel3.png
--- mythtv-0.20-old/themes/default-wide/pf-sel3.png	2006-03-31 23:29:59.000000000 -0800
+++ mythtv-0.20-new/themes/default-wide/pf-sel3.png	2007-06-23 18:31:51.000000000 -0700
@@ -1,50 +1,7 @@
 PNG
 
-   IHDR     *   NO   gAMA  7   bKGD      	pHYs   H   H Fk>  #IDATx][mUc+&RTKoh(DJ,O|AAA	XH>7VK^BzKIzrn{9sI|_{9k-	?^8m9#n2j)N%33z
-xhx<A1HeyfrkSzXp V?~iQg`-xC62#o&xQ2.?JloFh]en;> 9z'#C2A|^x|mKS~Y1QzDorCLQ=fV0}Qdz]>rZs.5	p:|n}yu(?fD aKD_O_|Co?B7tgm/~~~cO>E!5*t`FLI,wcWR	=hdx"TY%EqvF,S$c2GALv bINC5TI=}Iz_MOt_e-9q}t82 3I#*WW?>@ ^aH>_Zd77{SID)5]B?o~'Bo7w|75bN.Rg#hYN|]\Ug;W&8#Q5z
-zd'
-\bM-sU%3!}pycPnE|pzgJ[u4b*t	t^gmc>N4$	@#Gub2JO2g)wC0y5 8	4W\+(|W	a:}>9cw)?yZapRceg_(v8 p<ndxV"j0V%[E)($<j#0o(2OzdU8o?9t<7	+Yi9S kfGthgSY.E7MA:4("n"-|gA9^ gcdM:9*n"FI(5V.d7aG&?kgmN1>*zz*8""_97]Fgx+^Uaz,y:Z*AE_M&FHU2ENKf~a[0ee^ isgt]#te;32sgWRyn7P|K>a[YrW ;1
-Fa*`3]ShFtz;dy,X u,67]Y
-j{_u}m	o/]}|>sDaZ|<@+0XMYkT$]!Y\7kFq!r@pVF,L1u;]2]!9"AG3S3<Kh	tJ'?0q4	 !(L__%#qtP%zE:,"Z
-:Bo>9kV<A+%UcF]pal883<fx(8+!Bo05c5o`b(C%G5jxb8='~ 5z"w>+k(w|0U]}
-5}Z&G0\Swyb|U1B&zul}ai;f7?s+>Cpq`0r@Y?ei	k#S9;kE_?"}Oap"zDM3fkp%K~StfY>	}2}32gckifxtUM2zIx7zAV}d}69nE"y|&foK;2$"hYl3H~*RsInZbp|QQc/KNH.I7hnO$YiIs|{i1,c(eb`pH\kVQ
-a?d0 Q-8YH
-KwtvGF #qWkFa&o218i4lwW){z`hj(M~E&"96kp7mBqF
-6xI	(Xew@vxI?8 <B$
-zg5*nGgsj~V
-e[Q2<{XshJ]TmK@F6KUbG0-8A'_dSszMdf"CqBu*[BhLYD6S!$EmQI-h;\3|V#0MD.jm>IW$3[/qQD_]_A.8Wpq7H9=j/w| KKRUCP_O-P'h5"V&NlW`L*VpSAWD^z BZ g L\lXWgOxy@
-%,nOj~5'v<YA1KPDd":<)Y,3LE8v`5L$j
-
-'0bqIS`AL_u4B"kI	WUA^u$tX>z3:^sVtsP%d!%+R'U1?mtkP`.D}]e`T7Lu$1R<Um7#-} .=I6f`4Q:`!{-:].<A:MH[}Ysz/x1c"q^fPj<B-}f{E8ds"oD|c!G3mlJ{H3xkh8n}EV
-c v[
-j!;mMQw#A/Z X|X_KWN5-Wz5@{E|f)T-v
-
-VE:v 3[0	[s47OT8er:bSN9Cm"Mz,fakhXe{Op\n/	Zf*9/'QdC
-lz=dC}&G^8(p0Nk6FD Irh+4/TSV\7r8*-*(ZHvRv%f>dOWR&^\Ba1+#*x36V=A%e:~eYl#>ZCf	uz2g]/z$c 
-teCGN{{ $^W2!5d5ty/2h3=}
-?P$LqBF><P<T.*g^F WkHHJjqw]mj(;,uXE6v/]RBZ'3G5?m,6QpijvY6W}H_-hLGJ@Eln<Dhz6oiTw+<0$8jnm/wE5uX@0(hy#_"YzXUk
-OP+j{k k"_+e}` 	cB^1BUKS(vy#zG%/4BJ3Pa@5e6%&C8qKSfj?qG3CMAzmne^`v*)_ eoD_	3W S|?cLFm {/Z42-#&zyZernk)=% 9su{sznqgwGKPx	x3d ]qk6A2h+JOH?fg9(edb$v3Sz{]BS]^p ,#kq-Q#w=$}n1ct?s2g
-'CVY`^NP!3(3[y)lg(rV\}<GTt7vf"|aG*~Ek%;2=E!]%c2;kP+<W?VBbD#Qyq5s1j`T}(Y|^NLGWb4e~MrZWM[](\St^jYY:Ip,k`7 $^cQ~<:58~lp;jQsf48G0T4c.Gc_9ND;|`ZMNH:_d`^aHuF2ziXf~Zh}ingSSZhr"2Izc}{X02Gl]&<l	_;_..PpmEwfN8#(QMYRn4]V;E9++V
-<v5}fd
-\*LJ&S0i(L.GS(%J\;1ENPb1r^sbY}Fu^9O9%[Q%bAZo <J0^ZQ|-Is-|^V6a0`
-PXr9`?blSD~@lULFKa(; g,5SrN
-33l'K >z 50g@h SM.e[j(3e K{[M[*h
-Z}xkO[9H4<"DJTH/MG
-d&RKL%F3siLLuB`;)=gG>-XVf]{pfXc(t[UaTu>JYYoSkI}Tu.&I14^c%(%}]=+V	2vNR,<f5.3	)>vxU/3-3}Z'bXk<kuO.=::&@UZlUrZ @S tm&1al$A|Rt=`:=M%Mm5p=&B!J}%7>\ q$ 9.z%9i-E9\{4x`>=n>c@_	yCS KDb9}5QPC|0	@_yg%<7>!
-Z*mk4ERi$$Z=	1^Lk89i|54v A1O3K /*\*po)s5G9Padc'^a{Asp"'qvWz,v8o;&I6?4F=9p36f
-Al\@kMV
-EEm#^~xY'g-zw-JG
- fH'U,oJB<pTgp.O{\l4?*>Lr[@	_s}XF5Gussm~+Z3r+PQxZnp~X{';@.+%zy;;wD<Buwl=7DMa4B}*1re8}?PY__}^f'v}bgawHYPbV8aMq"Jz6|554.OI:['UKgb0qgTU;3a[JF#|6H$oZ8<SaO
-9?NX
-#+t;4mW$
-::1Z5v6+#_nkdoov`.SL=.;6My2g9XUsDk$Go03pOf)-) `K>~9#`RJ':X>9<skvfF `BB!*Pa<S/h J-zP,B*t=^Sfn?eH*`T?ndPu]qP~n[Kr8Qfr][D5/LeL0URD9#o Qu
-X4`g1#Vvo\5v Xk 7,Mq3PBzg*OS.D3n(ZL\,N'9/4o&"V(t;b1",s#h;`?&maj&N)T
-Fcy0rn9Js,x[94tl s1,ru5X&S_<9{N'JHG+$MyM`@Se
-k`Tnv+m^~~xJl2D_MIgv#zDoMQ+>,4\g\*i]<W,HqlzRe5zahT\/WyQV|208sdc4hyG86`xUE@H^@&^u6=6UsLtmo#
-a1bdSltK?_^!#4	ptD'7&E"yAw|vC+~do7kO=}vK;'F7?,5RZ9A "d3	
-$f0myh8Z[<>20MHE<j eO9<	8%$k;H~!t qn]++_V?M6yY=@)|"gVUK(_]$ WA?7pd>Bkzg?"Bg9y?vO7G@+A:mwNu>G@Sp9S/;#Qe&?rC@}lh7bP+9MnBz{y&WT*@V{>LXL	5Uz-!W$1@8@qOmIX_d_~faO/W^eu(i7hlO^3+vwc3gY|;jEaX"+8Ur<[EH<4* 8s{s$nh(q~C<hjFk!aFf
-n<#Gm r3E8slF<}ooNbWjfrkT4j
-I*k
-IrWl{/|"
-hKV9s/Z4um>}k7~fstl`e FdO4O4/i@zc%{hd
-dpvk D0Wi~@]Jx%[]r~FB2q:?t\OeM.qXu2h~d"B7ng_7?9/ '>w]w~7vqzKs=W'}h&p}?ut?Mqz8!nmw=^x/|9An-_.Bo#5qzKu[z~'}->Zqor/J:    "zTXtSoftware  xsLOJUMLOJML /M    IENDB`
\ No newline at end of file
+   IHDR     *   NO   tIME,$t   	pHYs    iTS   gAMA  a  IDATxKQz
+H48$ $h!T9d.n~T:	=<         d'5j8P! h+6CZsi(
+GaY5zz :V+^7`Tu~ZPS'#-L+^|Q=\I= jFLs+,W/lg6+;FbK~Y(% j_'rwq\K=	 f\V* jDeSeP) PLSe! )yLR 4%2@SQnQ~? hJ% 'K& 41M+ P?7dS 4 mNpB|i;+'ccr(3@kywD'cb
+~mSO |HLc!W	5wFLsnU?[m.4QrN4;nUQ;.~3,3 ?B>
+'B]u> Po;R    @ iQE)E    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default-wide/solid-container.png mythtv-0.20-new/themes/default-wide/solid-container.png
--- mythtv-0.20-old/themes/default-wide/solid-container.png	2006-03-31 23:29:59.000000000 -0800
+++ mythtv-0.20-new/themes/default-wide/solid-container.png	2007-06-23 18:31:51.000000000 -0700
@@ -1,12 +1,12 @@
 PNG
 
    IHDR  
-   (   ^   gAMA  7   bKGD      	pHYs   H   H Fk>  	IDATxoSslq((m
-+Zh{Qnei&Uiz]TJhX[MSH0&+v}m$S^HqO||>h%@DDDDDsDDDDD6vumZ`  l URq yU5 V'""""]-@@u  KgX ,1 O8xZXkm$6"mZ q#MSADDDDe'"r(
-(}bQU+"^( > $b!0&(8 U 1 {$Ink:={|kk t>DDDDD(av]; [TAUU]t}~wT  0F#Y^^{uHDEDDDDD1nw_=;V*myTDk3 k ~EB0~KDt0k1Q]v~^/_n,..Nwr\1 ~.k/Z.y,qn_t:vSemAa>= '$'/^\y+_m88}|T*}jh4~yEMEAjc+<z2lPe Uz7ols:t_lo]ww\%""""!31Mcu9JET$I]j) PUgyyoz011q>wyXR.[ I?'"iZ:;#8EQEQWUc8@DDDDV|Q" H<Oq_UQx,\$i#""""<}<vFuV qc6!uquC6(|h5-T*<]htjZUP`X """"'9~w ,(0H#] """"2 "(mNk=`Ju]
-yQ """"V|4'3&rn|>;=`4MHAH
-@l?"""""4E ai2B w <	 r-LchC Z+alj[C6(,`11U,6\3h<  P7Eqkl6QVjZJKtpG  
-Z;*_ %D<  Xk ZW/9Q7t5(Up `z)@x $IZbffZJaEX4M8"8x7)">Ds ~ DDDDD^} 80eYl:j.\w(T*9Fyp'nZ4FK"xP(b1Q {Ed;'Ec 0Br!""""*;,sVKdzz:|(:sS'O;zh<2luY9nYV8Gbe\.X,|>TD>3wJ""""":`QUZ-..9W7;Qq?q?>_*uG
-+22rSN8LxW)
-nP0RE}B|^r<800(=I "t:Z-}...ZfzAp+InzzjjTmll,v]WW[ov;vsZIU}Z O.c89c`Q_`<4EAhI:N#Z$DQR#G_{xYX\u@X
-1I cXk NBDDDDDC+h6ILU4M3gsx055B9(|^qmxpg?[""""/,pY{h4};:\.5A0a""""AkR$:}\j-?}*}i0(}>0   "zTXtSoftware  xsLOJUMLOJML /M    IENDB`
\ No newline at end of file
+   (   ^   tIMEfV   	pHYs    iTS   gAMA  a  IDATxkSA<+("Bl
+Y
+\@N(<G/90|mt:     IytRj4" ~d|B!
+n4#O;  (Sd'%
+uEB?_s  q1~(^9(  #]my7/  YW"N7y <h  8b0riQo7NiK/  |`   /Cp4*;   8]7wqa6=e  go`BZnTU ~C4mP=yyXz  D43  &iP   s
+  `B  P   (  1
+  `LBb  &i>M=g  Lm><M>^)=k  t_Fs=i
+G@.=y  LZ/*Y|(=s  `\'65v}_z  >}5h7%  89:TjT,<.   F<ud3r" Wl5I}]pP 5s  9
+HUUuByir5 )Eyt8S0:5G^jg,  0_8HSE                    ab*    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default-wide/solid-showings.png mythtv-0.20-new/themes/default-wide/solid-showings.png
--- mythtv-0.20-old/themes/default-wide/solid-showings.png	2006-03-31 23:29:59.000000000 -0800
+++ mythtv-0.20-new/themes/default-wide/solid-showings.png	2007-06-23 18:31:51.000000000 -0700
@@ -1,38 +1,4 @@
 PNG
 
-   IHDR     F   52   gAMA  7   bKGD      	pHYs   H   H Fk>  "IDATx}l]}9^^R%QO,yR'N0i1)HW%-2`X]v?[`:V E&Ygo<+'N< A%9'R|gvbkVK~~ ~C7i     e     x    P0    
-&    @@    (         ` /$Ki{   $_ML 1mJ$Hw  'd@IR5M |$$I/.--9}t$Y__OuSUUj{   E*N'~? SSS}'Tk 6I$Y[[B{9r$VUua  ^D6o;voxCfgg7T|nzZjk @${'<3???  x:zrk#t:Y__|G~l
- &$,{j~7C#n?'?px%   yaw{g{py-[d}}=?|{s{3ccc @^_M2h#G_z<O/O}St:k  @h4?~m_S7{ju]meaa!Ns=SNu=}g8rVOhW'I/Igyy9W<xp\>O|trr|]k{X   .{ ^{g>o|?s?$v8q"O?t/ @^}A|g}}~_&&&.  1u=_x;oy[?xn4^u]gi h=z4>?_~gffT[m{>   K[n=wgO?+cccY[[r:NFk> irgeem  `08hOgq D]*M   wt=z4 _$eUUerr200~   u]gll, [ll6m$ ZVu&''el%m  UPUUz^3@f0d0=   WI]o\O ht:t:E  W|o~ sm=
-  WOz     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L @NUUm  @A@tC3   WLt:;   @bmm-.]Z   Pn F'\.^L   U$>_ Y__3g;w}wX   
-cI&IlK2d zVVV<y2?p<i   pU]7I>IMo&tRhi^i(Z.\'O'#GrtlF  ZdK%Fzee%+++s<K'O<0Fm5>I4t:m[p|||ybbb9  ($7%$Jr]4r<w]?7==z=7   )%$?dr4us;^pa433s?wB]4    \i gi$C=o|fG>={vt   *cI~8i<zh[o~_}ccc+m/    ^^i 5lis/8p[j{    zV_HrcM<L>G~|    {J=8O{'2^    pe7M3'O3ox7`08    +{H4Mnp-|oE    K$Md4zj}}    ?wE0IJMK]_    +*v/KO    `bWu~A&&&t^    2Wezt];    `Q    `     L    	    P0    
-&    @@    (U	u]    U	cccvm    x 333    U	kW&&&^    2W[f8     3s5rGQ    Wv	M]jsFSm/    xL4&YMN]veh4    _zlyyht/]_F{H    xz; G<Sw=???4(n76mUUKKK_F?4t4    +J<pssswn{ffft^{k47M~%|    ( VU}56mzCuu]|plvvgO7du]*lUUd7     J`[oC={d{-[m4IV$ QV	MUU   UJ/Nt:frrr9O:Ft:?tyso8p`{ct:_I~ 6iV$Y   (}=z{#~sss|0 0};wcGnpsr;w=   *pff&333M={o:t$}iishfs][{LLLd0gll,^/N'u]*^4:eK;w]211hO>?   rUtMK[ly$dk$i6%yW3@)^o`0t2==n.S>>77;rH;k  (U/:p@8$9 S;sss'|2  m z4Mo4emm-YXXJc  PWm  p8u]NOv  zehzz:s   .hYl=    ZVUUz^AR   \=26i      P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `     L    	    P0    
-& l u  PRUUkL`vk{   tZ! l~?m`0h{   vtZA  &''gG  *Ky_ eSSS  +=o}}=(IZ AWUUO\Uk!   X~*Ir,..6K6Rh}}i6  WV%i5M;v,'NH4  6t[9Gg\^C  }t;d$<y2<@|F# UU266yd   6'>/lh&w_?~<kkk& t255/NOr($G   r7ztyrw[V.]iF @:99pxfggel57oN]rHp$j{v  &$O4Mz|SOY[[;vm_k=l}}c=v?u]Ofsgv'po=7  _K/IN8?y8q"KKK{377plcX; ZtF^{9{lc'3==gsgmwwz  >?Gy$?xN:4MLNN>}ikN`yGG{opjj*ysndrr2Xz^:NnR   %j&Mdmm-+++tRg}6G#</euu5{9~M7}.M6ks._=G}TUhu]g||<x)
-   Wh4j.],..fee%sNhn=|#V^G" lh7~k_'WVVzu~P   7Z6\eff>{fw    G              `     L    	    P0    
-&    @@    (         `     L    	    P0    
-&    @@    (         `|_/i   "zTXtSoftware  xsLOJUMLOJML /M    IENDB`
\ No newline at end of file
+   IHDR     F   52   tIME;Z   	pHYs    iTS   gAMA  a  IDATx1h]{bArxCYPh<xb y[[d3drL p2$K;]S^>=Z,                                            0T/ g>;  p>0?T/< i;}n/D?  W7}>goY& n?\<G   6lzw;gfZk}Ssz7   oW[}\n52o)yz'   ^\w50ow  {,E}^	bV  jG<B`kz6^>   n83V@BE>   \U.Ue }>^  ]z@ZWa~^  y{+w jmNa"   p:/V.!    0          @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `           ~R    6W>;}X5tm:W/  @`k~s{!7    >4 5>G   ZzFKow   `^^>e]G}	    *K \#35>0_T^    p?N'   X) ?wa>      9}~     g ws|    j 2c     g O>{X}!    )    <k     !    	    L    `               @    &    @0    	    L    `               
+    <k tnW_    UZP}1    Yy    Z5 ,N?    Z) ~y/[k         [9 U?<]?~kf    3jyN=s ];   0~wodU17Ob8 ;t8P55[fU   yfa>r>mOQ    fo8~6Nwp;     f<U  +` f   $    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	    L    `               @    &    @0    	 az   fz @sz   f=+ j=k   0~V?Nrz2   K_v^>   nW/{ P|NV  j}~> hzaw  o}^	5pb7w  M?woN^ s/}nT   7}3 O^v8   av~Qwaz wY   />3, Tkm{}v\^<@   j>w|<                                                                                                             Li    IENDB`
\ No newline at end of file
diff -Naur -x mytharchive mythtv-0.20-old/themes/default-wide/trans-showings.png mythtv-0.20-new/themes/default-wide/trans-showings.png
--- mythtv-0.20-old/themes/default-wide/trans-showings.png	2006-03-31 23:29:59.000000000 -0800
+++ mythtv-0.20-new/themes/default-wide/trans-showings.png	2007-06-23 18:31:51.000000000 -0700
@@ -1,39 +1,9 @@
 PNG
 
-   IHDR     F   52   gAMA  7   bKGD      	pHYs   H   H Fk>  4IDATx[%]/_Zm;v8C'@rq i4(#E"2
-yA)p@hH3&!![ImnZ5wn|VZUY p%d~63Y  y_8gs}<>`3""?	d-Yw{@  3NWe5]TF Q   h+j/j\PP p.E6?   )~z,^ kcTaT 
-  r*Za?mY \_iFy~y(  tM~S8a
- .q*eU   [S7!`We[	 .2t+~qzm!`  kra:,/P psu|W^cxwc?czQ	   .j8|go1+]*yrNW~&od( x_aaU-mqw/?J  3w}|=Or/ZSMs" xuse"]wk?p7_|1^}8}tDD7ze   .,TcMq5NMMM|w]~yg_olA`U4Q#	 .^]W]ZW""{w#~wDR<y2^~x'K_R<J7  XG(tu]7xcq]wm]sssLl)zmoGG?O>.UZ~vN*C[{@KitxoyOtM;~};mqo_|}sO^XX8sbC6  }_{[tw^333155^/asG<jT@6-8;*Q \!uU~Dlo~{W^/~/}){:t~G"nQhk   Vg,"yOq?Gwny79m >,97#/,..rx!Ua`>;w&0m+?_>vm7eY/--e?x|'|'_z'l7jTG*=  ^}]EQ,_\\x'("?^zlffo^z:/Vuo=xsp5~ Nz^?g.,,,w_Hup^1   ^B(zGy?=6lgggg<y\//roNZ5z<k$ ku.K+(x{l>SOwv~Ui~  `Kts7o|?c;=E?~\x}jX9}< hi,`}ZXX8QEJX7tu  Xsy2/>?}-[l<qD,--3gbaa!X={S?+{YC pi}QE'O#GB1??3}iokj!   ~->]<wcskwob?_Wz s! pi Wk,<""<,,{eWGE  T[i_nkGxkd_}\wuO=TVQ. R"^eX6[V &yrTGYe1;;[l-[T`  q!]?V*</bjj*m\sMl1,kc4-8X pq//je_(<crr2mmUuRMC:  gmS:#/-9cbb"6o\ ,,VU02ybvv:/DxZW/lcP?A   U_oU]D1==eY}ck .U/^W~!_$uK6[ |z  n nUDBY5XV|k( p0r<ex2V~5*\_?jU i4W:SG[ToR/)>8X pqFZ7=[X{u4~6V
-
-   X=7Uv
-6sMUcTU	 .M5u~kau_V@  `jZ\k
-A4
-1F=eD .a(2+G]`:?`u/-  iP~[`!} WVC?=V;uC  XwcU=bk7 \;![
-\':  +GNj/AXUR ("HoU%[^   m?yi0C pS `0=V4{  wP[u'/ qVk"i)f  X[ WuKpaa  HbY}7 y}   8}qC&    ,q!    a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@%z,l   p|Jzy4~u_\(   3 jTzm/u-J#  Z* Bq O ZZ5~V-0  Z f-qk:7uZ NTZ-7\?ar?   |!u\I2 sYEeYu"?E   F xMt?NhutIB``<j;   8MU|iKW[{/>Lg[0j:8z/'!   m/m[Q\iu`ZmVFDR>}:OSEd  :R Vv@6wFu?b8p8#G{cqhE~7  !m][k6n8kM[l<99)JK< WJgceYYW9s&O]}EW  :!m5}Os??{w}s[<v|ugqq1S/C==P<3z<-mkC0   L?WUKZeYkx[~?455u]eEQSB+sJ43<?x<sqb04+_u*   L:`[W:}offfr|Go&''""?sL,,,d~{9yp8]{(UY`i0G}W*  C#'y_#[o<x0]yW}'WQ&Wl\7 pP0{   
-|[W-;OEON:SOC}m0^w_1b_gV/oZ7]*TXjo  `i5Ugd|twFDc__O<DO<_N:lQ'ag.Ekny6njWm6J@I  u* //ncbbb|%/w8p_-brroout=YJjQ"1, p_5U
-<?  !u~e~;y\DdG~{G}rqqLpM*pp%5UU6T.&X
-   sM*<-[c;}+_J<3qGyjiiXD\WiGx`VlFnvV ~RM~hi   3e Gi%`6==}me>l|_TSg:uuCYZ	}13  ` Lt.<~SYM-..Cg9g}YZZ:si'5]|o60NJ >gt#  :V-0^DB9s&9s_;|#bC^`$y[7MlS\@2n@I   "buHWVEXnW;#dDLD|Wm_YRw<L;:irT X6|   DJ` 0i199yF^ea4#S\Wmu4zmC}J  s0A`111SSS155yNn|VMYVtrYT6U
-   
- GB(zuo1C4^ MA~  nk&&&Gjoau+G/M3t  Nk5UWno- l *^]'  `+R0s6U \F=cB?   o8,GNj_] ps=  4/Q7I}i!{O8~6y   c*M+XV9U 9C   Z] 0y4+^    PZ("T   y/E<~dyey?    ddl!s&YuB#M   %[dD}`Wyy}@    % ys\133V'X^7oiY, ]  E$[MozS1;;[[}nk^^_H~#^g-:   Q Y}(yax4y}q?3H5k[j0~zV5E9  u( :YDp8\y#"uG?o7|c?NEbp>y,j>p5: cLq  @`]?~,<no:t"V ~:mi "^=urk&   U u:W^9s}afff"so}[?O~']$+`u\m6|Zki   T9^S0j7~n<cm~{7~<c-iKo+ W W	5'  `D{r`0~_w({6;n^/<]g>~g^}#KKKC}+MCU u*TWW@oZCHkrHB@  unpZiRWy7\ZZx;w7sss>y{{>/... 
-tJgp:B-  UV
-b9pw={lm6mk6{wtMk[ne/N:8'>??{8VWU+VYmEQH VR()r\  :VN'VTCAXQKO<w^z^{mwff333ekWzo|k?~}EQ44l-p G=??XYEZ^VbuaG[   j`'Ng/W#pW^ygggym}7o_xbvv6l\sMsbezW57??wX~bJ{G  X
-c9/_5+Nh3ptaa'_9|707766~azzzLmzz:&''G^YyLOOmb]q7_7pCdY0<{G}t/"b:VK^)=,cs   L5 L'+++buIO<G7eY6yMEDVEmV-&"KeYcvv66o6m*6o\l=w b
-|.V  ` #dX<}O>+R!m[U?pd5V#8uwcg}6X\5"y]:+   HV!oXrl[xXoW-FD'a,..|<y2z1kWh.c>  uZqXi?r0CVVSw'4.Q=?b-eK:t(6l~5~\*  X'sAbm XUQxCl(0"7rK\qx'bzz:sY]zjN
-   
-_kcej XVxp%Tae Xm,";b]ec|s|4r?#	  :X]z<=KgM_F|U@J[U,"<9-KWeov
-  `*V[[e 3Q~YJI[-}EU(kWKShz   X WsYU[9-Mi'6b9U#tn{/~<  XG!M  |q: W=}{3n8j;   
- #NP_Po1|WeWNP+UTQ|T  `ITEnN,VBak-p5s++".z]u  `+;uA`ylCjTW#V[7M+V+A`^9/U]h|=jqV   ~{;l8^7UDsWJ[ .u)]L`|   ~.hV;V}p5J<mA^QmAs  
- KfmTF@\)ua.b3V  *UuU{o( tnj:w_]%tNm
-   \ VUF\-0/bm^}]_}E   0m1U \x0nuk
-W(  Qoy5-q>CzU  p	unj7
-   p	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    0     t     :L     &        @	        a@    t+ X%s}   e#O F53   \>V.
-@^=<,+GPzB  X
-/Fg,+zui%Y`z1;;"C"u?\  @V,EM0`;v"I~b%V{2w`u2\{  `=ZlV~~Y~?z^<@Vcyl;lR~Y\.}oXiE{   XVW|QmhLW)h{Y /.MMozSli^u!_P&-B  P}r~^* ,bU 8b8\%7|3q \%&&&b]}RQ}C!_mep8l  zVm~rrrbjjj*;---cSq/g|MMM7~oo}(r~]xj)VAB$  9V<gY]{w?om(b~~>~xc8`b	 .Qs,m}wx?8b2 l#  `U[[KK?k6n8]E,--f7H:EzJ pi6]N[aC~uiiVj0B  _ur8Qy?;n(}kC?InTWD
- .^pn'gffbjj*nYEesp8}Sc&+b%*   JC
-j1~?3?n^/8rH<c}.y8}tzXZZg*eM9U h%Uz{u]o[cnn.n7to{vC}_R   wj"bxwo{wo:u*<C=/;vXbBZ@kL5={ns=w'|o}s=~3sssssg\wuy6wo}GpD{'   P<Vr-7O[{^^~_G}4}gO1bqq9x;L,8/B pUXwGNNLLL;v7;w;vm;|-W  >|8~{}{K/3gd>}=u3jp5[~= *p[EDL?~Gy,la5\[n6tLOOdLLLD<c   \(\waa!N>gx={'bbb"~Y(Nr 5Gh \Q!`;v|;EDLLLkvM6txc8FQ,?<aC   /sp88}t<y2N:7z1;;`>/^jQ'bXxc]85U" xmeW;v?y/:p  X/rdsy}}{c9w}Kmlk
-G \
-0Xy:KH<|b9s[X   gY6my~^8{\ZRZ5 l
-l \000]Qz~,qTZX%   @s_S( Vxi_U9Y! 4p*+?W*Jw   tY U"9O7n VwUU m3XY(kC_   XgT&mss!`U? N&I )5  M[-k,4K ICy[	 .JaV
-.^-'m!`:'`~1  `T7J5U NCs  \
-E@"VsX~W/ 6u_T   ecodnj%`]+6i$ 4ycrZ!`u2Kq+ #.lX0  z4n_)VU|KQj[o \ZuZZXrpX7N x_Z   6*bmG:8]2z^z~:n_ &U~/qq   p~TO5m/Z& tKU!0Vzr?!   knj@uCF@K/]$=%dzm  \Juq~M* 
- a^qt`   .N] +Zs^ W]5`]^7n_D}7jZ   UtOuy.4> kUS  `|nu`Su8 C)hct.   'k;NwQC|G \Yu|  oT 7n^5I pEq   .<_vp\   z\{?~&    199yGDNbC   "zTXtSoftware  xsLOJUMLOJML /M    IENDB`
\ No newline at end of file
+   IHDR     F   52   tIME0\J!   	pHYs    iTS   gAMA  a  IDATxm\y;3_6$$UTHJ4iE*Qcl+4J@ UH$RA*j-|*(!PDv {]wfzi]~{{us                                       j z  q v7ZMF{6  Hivpff?tW_}l<40rN:|:TM   ~^7|_IPUh8 ~tx(^(3-   jFGGz{TR/^ `@t[t:wn{{iKk#0o7y  (+bk<gcz9hQ! ` TSO>.=RmL(?  FFF;ww??p2tX#0j( hXEw_;11q(>;E98AF,  iUUZ~wu=:y%x{^	( hXb:wn=WcEPu#']?  Eu M _o|wu}-Ou !~?{5cccO0Ye X  hVtE6\T5k&t^Lu(4u5?p:v7t:x@?pVQNkc< [_  -|F{?|f?O^v=M'fvEc jZ[kMLL0(w/:"_:K?   GEG ws=OM
+*; @sZq2;;Tl_<4botD   (i-ns{sgOo}Qj|v3 D#EAPtkC  Lu cn\~Nu}q\=zJ V[/,,"x("U[  eVkoxx8uQ1jf
+ @q}EX  X!`Y7c\h_.V) ~_x0D`  p'UX7w_=< #n-[,yX   piZ%V-@Rg  LT`]         o     VM@        @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @    1     dL         @Vi@Qt}qxxx]	  Ip4]vohZ[S.z=[JNq~tT   +f4='>j{.}/nHVk<F3  `_:<j/zx	Pv nmCCC>Kos  pj[ {ym}o=1]j8p{aF}k:IuzO  X ['|S]vMJ(snp[dQNM  7l`_L]k'&&:(GTrP+l[vUq?<'1?$    ?w*;(rztIzPk`ZK*N5U]%   ,+ 8{N5Ye  `tH>	  ,+ v7t:Xx-bo\/_z   ,V5[rF_X~i$   8}fjj*/JXp(~aP    f,N>PHqbbotX	    `g[^oq"e`t     5n70FW    + /?    !+ V" /     C_0         0@    1     dL         @    1     dL         @    1     dlEvi    ~~,;_    y q||w   -+ y"Ngo:    etvz-r}QvE xF    h;v9tW|;/MFS'B@   	 z=_zpO|C8M.XQ    *Z:}}c/wGxO7{S/@    X%"/V}k7wB4xQu6?R*   NMG;{G.-YS~TR'5+[n ~gw}mgFKnvKkP2Nk^!'622/I&   	 c>#>w}+ gq~:RKNasssgCTSRQ[  7l`p!T=l+7o}w\e7l0fN.O pKo-o:O:g  Rk]E/"Nq"(<^f+tzn~ynn%Ee   `i{K^SG7fI{pQ  8T bZ[a5SCVH Nu_K"q3{_  7dzo}fb@[Y{dddq8=G   VJzj0'? E^f&cccquTG  e9`/cjpb jI|Ib   V
+ kKNN
+   V k(^>G  L   	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         2&    	     c@         V_N 0 v   j @8[?   +n_Nz A~@>::VU9   W^yVu~OOOO'{2w) @fffc/)r:G  6m}*^jz\?yN(TT
+A   )%:il??]T7.OuvbfT4hG:8y;Kp|K%  `z?nZ1xg(No!N:N4u~-M?SO$7j.|n  _laa:}v_q~E4b]: S G-D{;2]"~)EX  `qP5f.uhTJOg	|}>qj ?Jk7wBC2"  n=v3~[[z;o*]S=TrI	 UwF+wm?4??R}>=PzNCz5
+  Civab|7FwnQFC^LON pCsKmW^y5Ng  /}]G'\Ea 0[  h^]ylrY3tXw   hwe{8~k~,6xqEqU `0D`kRmLuvUNQY]|<(z5!   @3ZUcZt{(nU5avho"\_$   Xn:OSjz]w@^o<" Vhu#o   h^=;+t`DxL/6icU`Yq  fou/8?    #z:7hl'GtAnC   m( 85^w  `0_w                                                                         / 4/5<k    IENDB`
\ No newline at end of file
